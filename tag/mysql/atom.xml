<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://blog.aixcc.top</id>
    <title>陆时忤的博客 • Posts by &#34;mysql&#34; tag</title>
    <link href="http://blog.aixcc.top" />
    <updated>2024-06-25T04:18:14.000Z</updated>
    <category term="Blog" />
    <category term="Java" />
    <category term="笔记" />
    <category term="MySQL" />
    <category term="Linux" />
    <category term="Mac" />
    <category term="Maven" />
    <category term="MyBatis" />
    <category term="总结" />
    <category term="RabbitMQ" />
    <category term="Redis" />
    <category term="Spring" />
    <category term="Alist" />
    <category term="Homebrew" />
    <category term="Vue" />
    <category term="前端" />
    <category term="SSL" />
    <category term="域名" />
    <entry>
        <id>http://blog.aixcc.top/2024/06/25/Linux%E5%AE%89%E8%A3%85MySQL/</id>
        <title>Linux安装MySQL</title>
        <link rel="alternate" href="http://blog.aixcc.top/2024/06/25/Linux%E5%AE%89%E8%A3%85MySQL/"/>
        
        
        <link rel="enclosure" type="image/jpeg" href="https://alist.aixcc.top/d/OneDrive/img/202407151131084.webp"/>
        
        <content type="html"><![CDATA[
            <h1>Linux安装MySQL</h1>
            <p>&lt;h1 id=&#34;如何在Ubuntu上安装和配置MySQL并允许远程访问&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#如何在Ubuntu上安装和配置MySQL并允许远程访问&#34;&gt;&lt;/a&gt;如何在Ubuntu上安装和配置MySQL并允许远程访问&lt;/h1&gt;
&lt;p&gt;在本文中，我们将介绍如何在Ubuntu上安装和配置MySQL，并设置允许远程访问。我们将从安装MySQL开始，然后进行基本的安全配置，修改MySQL配置文件以允许远程连接，并创建可以远程访问的用户。&lt;/p&gt;
&lt;h2 id=&#34;步骤1：更新包列表并安装MySQL服务器&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#步骤1：更新包列表并安装MySQL服务器&#34;&gt;&lt;/a&gt;步骤1：更新包列表并安装MySQL服务器&lt;/h2&gt;
&lt;p&gt;首先，确保你的包列表是最新的：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;apt&lt;/span&gt; update&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后安装MySQL服务器：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;apt&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; mysql-server&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果你需要安装特定版本的MySQL（例如8.0），可以使用以下命令：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;apt&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;install&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-y&lt;/span&gt; mysql-server-8.0&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;步骤2：检查MySQL服务状态并启用MySQL服务&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#步骤2：检查MySQL服务状态并启用MySQL服务&#34;&gt;&lt;/a&gt;步骤2：检查MySQL服务状态并启用MySQL服务&lt;/h2&gt;
&lt;p&gt;检查MySQL服务是否正在运行：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; systemctl status mysql&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;确保MySQL服务在系统启动时自动启动：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; systemctl &lt;span class=&#34;token builtin class-name&#34;&gt;enable&lt;/span&gt; mysql&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;步骤3：运行安全安装脚本&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#步骤3：运行安全安装脚本&#34;&gt;&lt;/a&gt;步骤3：运行安全安装脚本&lt;/h2&gt;
&lt;p&gt;MySQL提供了一个安全安装脚本，可以帮助你进行一些基本的安全配置。运行以下命令：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; mysql_secure_installation&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在提示中，你将需要：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;选择密码规则&lt;/li&gt;
&lt;li&gt;删除匿名用户&lt;/li&gt;
&lt;li&gt;禁用远程root登录&lt;/li&gt;
&lt;li&gt;删除测试数据库和表&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;步骤4：修改MySQL配置文件以允许远程连接&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#步骤4：修改MySQL配置文件以允许远程连接&#34;&gt;&lt;/a&gt;步骤4：修改MySQL配置文件以允许远程连接&lt;/h2&gt;
&lt;p&gt;打开MySQL配置文件&lt;code&gt;mysqld.cnf&lt;/code&gt;，通常位于&lt;code&gt;/etc/mysql/mysql.conf.d/&lt;/code&gt;目录中：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;vim&lt;/span&gt; /etc/mysql/mysql.conf.d/mysqld.cnf&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;找到以下行：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;bind-address &amp;#x3D; 127.0.0.1&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;将其注释掉或改为&lt;code&gt;0.0.0.0&lt;/code&gt;，使MySQL监听所有网络接口：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-none&#34;&gt;&lt;code class=&#34;language-none&#34;&gt;# bind-address &amp;#x3D; 127.0.0.1
bind-address &amp;#x3D; 0.0.0.0&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;保存配置文件并退出编辑器。&lt;/p&gt;
&lt;h2 id=&#34;步骤5：重启MySQL服务&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#步骤5：重启MySQL服务&#34;&gt;&lt;/a&gt;步骤5：重启MySQL服务&lt;/h2&gt;
&lt;p&gt;重启MySQL服务以使更改生效：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; systemctl restart mysql&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;步骤6：创建可以远程访问的用户&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#步骤6：创建可以远程访问的用户&#34;&gt;&lt;/a&gt;步骤6：创建可以远程访问的用户&lt;/h2&gt;
&lt;p&gt;登录到MySQL命令行：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;mysql &lt;span class=&#34;token parameter variable&#34;&gt;-u&lt;/span&gt; root &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在MySQL提示符中运行以下命令，创建一个允许从任何IP地址连接的用户，并授予所有权限：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-sql&#34; data-language=&#34;sql&#34;&gt;&lt;code class=&#34;language-sql&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;USER&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;yourusername&#39;&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;@&#39;%&#39;&lt;/span&gt; IDENTIFIED &lt;span class=&#34;token keyword&#34;&gt;BY&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;yourpassword&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;GRANT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ALL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;PRIVILEGES&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ON&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;TO&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;yourusername&#39;&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;@&#39;%&#39;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;WITH&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;GRANT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;OPTION&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
FLUSH &lt;span class=&#34;token keyword&#34;&gt;PRIVILEGES&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;解释：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;GRANT ALL PRIVILEGES&lt;/strong&gt;：授予用户所有权限，包括SELECT、INSERT、UPDATE、DELETE、CREATE、DROP等操作权限。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ON&lt;/strong&gt;：授予权限的范围。&lt;code&gt;*.*&lt;/code&gt;表示所有数据库和所有表。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TO&lt;/strong&gt;：指定权限接收者。&lt;code&gt;&#39;yourusername&#39;&lt;/code&gt;是用户名，&lt;code&gt;&#39;%&#39;&lt;/code&gt;是主机名通配符，表示允许从任何IP地址连接的用户。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WITH GRANT OPTION&lt;/strong&gt;：允许用户将他自己拥有的权限授予其他用户。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;步骤7：配置防火墙&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#步骤7：配置防火墙&#34;&gt;&lt;/a&gt;步骤7：配置防火墙&lt;/h2&gt;
&lt;p&gt;确保防火墙允许MySQL的默认端口3306的流量。如果使用的是UFW（Uncomplicated Firewall），可以运行以下命令：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ufw allow &lt;span class=&#34;token number&#34;&gt;3306&lt;/span&gt;
&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ufw reload&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;步骤8：验证远程连接&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#步骤8：验证远程连接&#34;&gt;&lt;/a&gt;步骤8：验证远程连接&lt;/h2&gt;
&lt;p&gt;在远程机器上，使用MySQL客户端或其他工具连接到MySQL服务器：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;mysql &lt;span class=&#34;token parameter variable&#34;&gt;-u&lt;/span&gt; yourusername &lt;span class=&#34;token parameter variable&#34;&gt;-p&lt;/span&gt; &lt;span class=&#34;token parameter variable&#34;&gt;-h&lt;/span&gt; your_server_ip&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;其他操作&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#其他操作&#34;&gt;&lt;/a&gt;其他操作&lt;/h2&gt;
&lt;h3 id=&#34;删除某些权限或用户&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#删除某些权限或用户&#34;&gt;&lt;/a&gt;删除某些权限或用户&lt;/h3&gt;
&lt;p&gt;如果你想删除某些权限，或者从特定数据库中删除权限，可以使用&lt;code&gt;REVOKE&lt;/code&gt;命令。例如：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-sql&#34; data-language=&#34;sql&#34;&gt;&lt;code class=&#34;language-sql&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;REVOKE&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;ALL&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;PRIVILEGES&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;GRANT&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;OPTION&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;FROM&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;existinguser&#39;&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;@&#39;%&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;查看某个用户的当前权限&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#查看某个用户的当前权限&#34;&gt;&lt;/a&gt;查看某个用户的当前权限&lt;/h3&gt;
&lt;p&gt;如果你想查看某个用户的当前权限，可以使用以下命令：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-sql&#34; data-language=&#34;sql&#34;&gt;&lt;code class=&#34;language-sql&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;SHOW&lt;/span&gt; GRANTS &lt;span class=&#34;token keyword&#34;&gt;FOR&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;existinguser&#39;&lt;/span&gt;&lt;span class=&#34;token variable&#34;&gt;@&#39;%&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;通过这些步骤，你可以在Ubuntu上成功安装和配置MySQL，并设置允许远程访问。如果遇到任何问题或需要进一步帮助，请随时在评论区留言！&lt;/p&gt;
</p>
            <p>Tags: 
              
                MySQL 
              
                Linux 
              
            </p>
            <p>Categories: 
              
                Linux 
              
                MySQL 
              
            </p>
        ]]></content>
        <category term="MySQL" />
        <category term="Linux" />
        <updated>2024-06-25T04:18:14.000Z</updated>
    </entry>
</feed>
