---
title: 好搭人
date: 2024-07-06 15:47:32
tags: Java
categories: Java
cover: https://alist.aixcc.top/d/OneDrive/Cloud/【自然】2024-07-06 15_49_11.png
---

## 用户注册与登录模块

### 你如何实现用户认证和授权的？你能解释一下微信登录在你的项目中具体是如何应用的吗？

1. 用户在小程序中点击登录按钮，微信客户端会弹出授权页面，用户授权后获取授权码。
2. 前端将授权码发送到后端服务器，后端通过调用微信的 API接口，使用授权码换取用户的openid和 session_key。
3. 后端将获取的用户信息存储在数据库中，并生成一个会话令牌返回给前端。
4. 前端后续请求中携带会话令牌，后端通过验证令牌的有效性来确认用户身份。
5. 后端使用 Redis 存储会话信息，确保会话的快速验证和高效管理。

## 用户资料填写模块

### 在开发用户资料模块时，你采用了哪些技术来确保用户数据的安全性和完整性？

1. **数据加密**：在存储用户敏感信息（如手机号）之前，使用 AES 加密算法进行加密。
2. **数据校验**：通过后端验证和前端提示相结合，确保用户输入数据有效性和完整性。
3. **访问控制**：通过会话令牌和用户权限控制，确保只有经过认证的用户才能访问和修改自己的数据。

## 消息与互动模块

### 功能实现

1. 用户在动态下方输入评论内容并提交。
2. 服务器接收到评论内容，对内容进行校验。
3. 将评论内容存储到数据库中并发送到 RabbitMQ 通知队列
4. 通知监听器监听通知队列，当有新消息时，将通知发送给帖子作者
5. 并将评论缓存到Redis中

### 你能描述一下如何使用RabbitMQ来处理消息的可靠传输吗？

1. **消息持久化**：将消息设置为持久化存储到硬盘，以防止消息丢失。
2. **消息确认**：消费者在处理消息后发送确认，RabbitMQ仔收到确认后才将消息从队列中删除。
3. **重试机制**：如果消息处理失败，将消息重新放回队列进行重试，确保消息最终被成功处理。

## 动态发布与互动模块

功能实现

1. 用户在前端提交动态内容，后端进行内容校验并存储到数据库。
2. 将动态内容发送到RabbitMQ队列，配置RabbitMQ消费者监听动态队列，处理动态消息。
