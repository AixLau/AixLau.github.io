<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>陆时忤的博客 • Posts by &#34;前端&#34; category</title>
        <link>https://blog.aixcc.top</link>
        <description>要再见 不要再见</description>
        <language>zh-CN</language>
        <pubDate>Sat, 13 Jul 2024 23:56:37 +0800</pubDate>
        <lastBuildDate>Sat, 13 Jul 2024 23:56:37 +0800</lastBuildDate>
        <category>Blog</category>
        <category>Java</category>
        <category>笔记</category>
        <category>MySQL</category>
        <category>Linux</category>
        <category>Mac</category>
        <category>Maven</category>
        <category>MyBatis</category>
        <category>总结</category>
        <category>RabbitMQ</category>
        <category>Redis</category>
        <category>Spring</category>
        <category>Alist</category>
        <category>Vue</category>
        <category>前端</category>
        <category>Homebrew</category>
        <category>SSL</category>
        <category>域名</category>
        <item>
            <guid isPermalink="true">https://blog.aixcc.top/2024/07/13/Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/</guid>
            <title>Vue3快速上手</title>
            <link>https://blog.aixcc.top/2024/07/13/Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/</link>
            <category>Vue</category>
            <category>前端</category>
            <pubDate>Sat, 13 Jul 2024 23:56:37 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;1-Vue3简介&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#1-Vue3简介&#34;&gt;&lt;/a&gt;1. Vue3简介&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;2020年9月18日，&lt;code&gt;Vue.js&lt;/code&gt;发布版&lt;code&gt;3.0&lt;/code&gt;版本，代号：&lt;code&gt;One Piece&lt;/code&gt;（n&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;经历了：&lt;a href=&#34;https://github.com/vuejs/core/commits/main&#34;&gt;4800+次提交&lt;/a&gt;、&lt;a href=&#34;https://github.com/vuejs/rfcs/tree/master/active-rfcs&#34;&gt;40+个RFC&lt;/a&gt;、&lt;a href=&#34;https://github.com/vuejs/vue-next/pulls?q=is%3Apr+is%3Amerged+-author%3Aapp%2Fdependabot-preview+&#34;&gt;600+次PR&lt;/a&gt;、&lt;a href=&#34;https://github.com/vuejs/core/graphs/contributors&#34;&gt;300+贡献者&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;官方发版地址：&lt;a href=&#34;https://github.com/vuejs/core/releases/tag/v3.0.0&#34;&gt;Release v3.0.0 One Piece · vuejs/core&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;截止2023年10月，最新的公开版本为：&lt;code&gt;3.3.4&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alist.aixcc.top/d/OneDrive/img/202407151232363.webp&#34; alt=&#34;image.png&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-1-【性能的提升】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#1-1-【性能的提升】&#34;&gt;&lt;/a&gt;1.1. 【性能的提升】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;打包大小减少&lt;code&gt;41%&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;初次渲染快&lt;code&gt;55%&lt;/code&gt;, 更新渲染快&lt;code&gt;133%&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;内存减少&lt;code&gt;54%&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-2-【-源码的升级】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#1-2-【-源码的升级】&#34;&gt;&lt;/a&gt;1.2.【 源码的升级】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;使用&lt;code&gt;Proxy&lt;/code&gt;代替&lt;code&gt;defineProperty&lt;/code&gt;实现响应式。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重写虚拟&lt;code&gt;DOM&lt;/code&gt;的实现和&lt;code&gt;Tree-Shaking&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-3-【拥抱TypeScript】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#1-3-【拥抱TypeScript】&#34;&gt;&lt;/a&gt;1.3. 【拥抱TypeScript】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Vue3&lt;/code&gt;可以更好的支持&lt;code&gt;TypeScript&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-4-【新的特性】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#1-4-【新的特性】&#34;&gt;&lt;/a&gt;1.4. 【新的特性】&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Composition API&lt;/code&gt;（组合&lt;code&gt;API&lt;/code&gt;）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;setup&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ref&lt;/code&gt;与&lt;code&gt;reactive&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;computed&lt;/code&gt;与&lt;code&gt;watch&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;新的内置组件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Fragment&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Teleport&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Suspense&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;其他改变：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;新的生命周期钩子&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;data&lt;/code&gt; 选项应始终被声明为一个函数&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;移除&lt;code&gt;keyCode&lt;/code&gt;支持作为&lt;code&gt; v-on&lt;/code&gt; 的修饰符&lt;/p&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;2-创建Vue3工程&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#2-创建Vue3工程&#34;&gt;&lt;/a&gt;2. 创建Vue3工程&lt;/h1&gt;
&lt;h2 id=&#34;2-1-【基于-vue-cli-创建】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#2-1-【基于-vue-cli-创建】&#34;&gt;&lt;/a&gt;2.1. 【基于 vue-cli 创建】&lt;/h2&gt;
&lt;p&gt;点击查看&lt;a href=&#34;https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create&#34;&gt;官方文档&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;备注：目前&lt;code&gt;vue-cli&lt;/code&gt;已处于维护模式，官方推荐基于 &lt;code&gt;Vite&lt;/code&gt; 创建项目。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-powershell&#34; data-language=&#34;powershell&#34;&gt;&lt;code class=&#34;language-powershell&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;## 查看@vue/cli版本，确保@vue/cli版本在4.5.0以上&lt;/span&gt;
vue &lt;span class=&#34;token operator&#34;&gt;--&lt;/span&gt;version

&lt;span class=&#34;token comment&#34;&gt;## 安装或者升级你的@vue/cli &lt;/span&gt;
npm install &lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;g @vue/&lt;span class=&#34;token function&#34;&gt;cli&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;## 执行创建命令&lt;/span&gt;
vue create vue_test

&lt;span class=&#34;token comment&#34;&gt;##  随后选择3.x&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;##  Choose a version of Vue.js that you want to start the project with (Use arrow keys)&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;##  &gt; 3.x&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;##    2.x&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;## 启动&lt;/span&gt;
cd vue_test
npm run serve&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;2-2-【基于-vite-创建】-推荐&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#2-2-【基于-vite-创建】-推荐&#34;&gt;&lt;/a&gt;2.2. 【基于 vite 创建】(推荐)&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;vite&lt;/code&gt; 是新一代前端构建工具，官网地址：&lt;a href=&#34;https://vitejs.cn/&#34;&gt;https://vitejs.cn&lt;/a&gt;，&lt;code&gt;vite&lt;/code&gt;的优势如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;轻量快速的热重载（&lt;code&gt;HMR&lt;/code&gt;），能实现极速的服务启动。&lt;/li&gt;
&lt;li&gt;对 &lt;code&gt;TypeScript&lt;/code&gt;、&lt;code&gt;JSX&lt;/code&gt;、&lt;code&gt;CSS&lt;/code&gt; 等支持开箱即用。&lt;/li&gt;
&lt;li&gt;真正的按需编译，不再等待整个应用编译完成。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;webpack&lt;/code&gt;构建 与 &lt;code&gt;vite&lt;/code&gt;构建对比图如下：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://alist.aixcc.top/d/OneDrive/img/202407151232253.webp&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alist.aixcc.top/d/OneDrive/img/202407151232053.webp&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;具体操作如下（点击查看&lt;a href=&#34;https://cn.vuejs.org/guide/quick-start.html#creating-a-vue-application&#34;&gt;官方文档&lt;/a&gt;）&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-powershell&#34; data-language=&#34;powershell&#34;&gt;&lt;code class=&#34;language-powershell&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;## 1.创建命令&lt;/span&gt;
npm create vue@latest

&lt;span class=&#34;token comment&#34;&gt;## 2.具体配置&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;## 配置项目名称&lt;/span&gt;
√ Project name: vue3_test
&lt;span class=&#34;token comment&#34;&gt;## 是否添加TypeScript支持&lt;/span&gt;
√ Add TypeScript?  Yes
&lt;span class=&#34;token comment&#34;&gt;## 是否添加JSX支持&lt;/span&gt;
√ Add JSX Support?  No
&lt;span class=&#34;token comment&#34;&gt;## 是否添加路由环境&lt;/span&gt;
√ Add Vue Router &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; Single Page Application development?  No
&lt;span class=&#34;token comment&#34;&gt;## 是否添加pinia环境&lt;/span&gt;
√ Add Pinia &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; state management?  No
&lt;span class=&#34;token comment&#34;&gt;## 是否添加单元测试&lt;/span&gt;
√ Add Vitest &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; Unit Testing?  No
&lt;span class=&#34;token comment&#34;&gt;## 是否添加端到端测试方案&lt;/span&gt;
√ Add an &lt;span class=&#34;token keyword&#34;&gt;End&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;-&lt;/span&gt;to-&lt;span class=&#34;token keyword&#34;&gt;End&lt;/span&gt; Testing Solution? » No
&lt;span class=&#34;token comment&#34;&gt;## 是否添加ESLint语法检查&lt;/span&gt;
√ Add ESLint &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; code quality?  Yes
&lt;span class=&#34;token comment&#34;&gt;## 是否添加Prettiert代码格式化&lt;/span&gt;
√ Add Prettier &lt;span class=&#34;token keyword&#34;&gt;for&lt;/span&gt; code formatting?  No&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;自己动手编写一个App组件&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;app&amp;quot;&amp;gt;
    &amp;lt;h1&amp;gt;你好啊！&amp;lt;&amp;#x2F;h1&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot;&amp;gt;
  export default &amp;#123;
    name:&amp;#39;App&amp;#39; &amp;#x2F;&amp;#x2F;组件名
  &amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;

&amp;lt;style&amp;gt;
  .app &amp;#123;
    background-color: #ddd;
    box-shadow: 0 0 10px;
    border-radius: 10px;
    padding: 20px;
  &amp;#125;
&amp;lt;&amp;#x2F;style&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;安装官方推荐的&lt;code&gt;vscode&lt;/code&gt;插件：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alist.aixcc.top/d/OneDrive/img/202407151232847.webp&#34; alt=&#34;Snipaste_2023-10-08_20-46-34&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alist.aixcc.top/d/OneDrive/img/202407151232668.webp&#34; alt=&#34;image-20231218085906380&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;总结：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Vite&lt;/code&gt; 项目中，&lt;code&gt;index.html&lt;/code&gt; 是项目的入口文件，在项目最外层。&lt;/li&gt;
&lt;li&gt;加载&lt;code&gt;index.html&lt;/code&gt;后，&lt;code&gt;Vite&lt;/code&gt; 解析 &lt;code&gt;&amp;lt;script type=&amp;quot;module&amp;quot; src=&amp;quot;xxx&amp;quot;&amp;gt;&lt;/code&gt; 指向的&lt;code&gt;JavaScript&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Vue3&lt;/code&gt;**中是通过 **&lt;code&gt;createApp&lt;/code&gt; 函数创建一个应用实例。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-3-【一个简单的效果】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#2-3-【一个简单的效果】&#34;&gt;&lt;/a&gt;2.3. 【一个简单的效果】&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Vue3&lt;/code&gt;向下兼容&lt;code&gt;Vue2&lt;/code&gt;语法，且&lt;code&gt;Vue3&lt;/code&gt;中的模板中可以没有根标签&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h2&amp;gt;姓名：&amp;#123;&amp;#123;name&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;年龄：&amp;#123;&amp;#123;age&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeName&amp;quot;&amp;gt;修改名字&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeAge&amp;quot;&amp;gt;年龄+1&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;showTel&amp;quot;&amp;gt;点我查看联系方式&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot;&amp;gt;
  export default &amp;#123;
    name:&amp;#39;App&amp;#39;,
    data() &amp;#123;
      return &amp;#123;
        name:&amp;#39;张三&amp;#39;,
        age:18,
        tel:&amp;#39;13888888888&amp;#39;
      &amp;#125;
    &amp;#125;,
    methods:&amp;#123;
      changeName()&amp;#123;
        this.name &amp;#x3D; &amp;#39;zhang-san&amp;#39;
      &amp;#125;,
      changeAge()&amp;#123;
        this.age +&amp;#x3D; 1
      &amp;#125;,
      showTel()&amp;#123;
        alert(this.tel)
      &amp;#125;
    &amp;#125;,
  &amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;3-Vue3核心语法&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-Vue3核心语法&#34;&gt;&lt;/a&gt;3. Vue3核心语法&lt;/h1&gt;
&lt;h2 id=&#34;3-1-【OptionsAPI-与-CompositionAPI】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-1-【OptionsAPI-与-CompositionAPI】&#34;&gt;&lt;/a&gt;3.1.  【OptionsAPI 与 CompositionAPI】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Vue2&lt;/code&gt;的&lt;code&gt;API&lt;/code&gt;设计是&lt;code&gt;Options&lt;/code&gt;（配置）风格的。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Vue3&lt;/code&gt;的&lt;code&gt;API&lt;/code&gt;设计是&lt;code&gt;Composition&lt;/code&gt;（组合）风格的。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;Options-API-的弊端&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#Options-API-的弊端&#34;&gt;&lt;/a&gt;Options API 的弊端&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Options&lt;/code&gt;类型的 &lt;code&gt;API&lt;/code&gt;，数据、方法、计算属性等，是分散在：&lt;code&gt;data&lt;/code&gt;、&lt;code&gt;methods&lt;/code&gt;、&lt;code&gt;computed&lt;/code&gt;中的，若想新增或者修改一个需求，就需要分别修改：&lt;code&gt;data&lt;/code&gt;、&lt;code&gt;methods&lt;/code&gt;、&lt;code&gt;computed&lt;/code&gt;，不便于维护和复用。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.aixcc.top/file/c3edadbf9a9bbfd22d442.gif&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;img src=&#34;https://img.aixcc.top/file/d978f7c4fd1f8a2a2e8f9.gif&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;Composition-API-的优势&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#Composition-API-的优势&#34;&gt;&lt;/a&gt;Composition API 的优势&lt;/h3&gt;
&lt;p&gt;可以用函数的方式，更加优雅的组织代码，让相关功能的代码更加有序的组织在一起。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.aixcc.top/file/9acc07d0f3690f12a9fda.gif&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;img src=&#34;https://img.aixcc.top/file/2e7d2a90529d10cad9c93.gif&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;说明：以上四张动图原创作者：大帅老猿&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;3-2-【拉开序幕的-setup】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-2-【拉开序幕的-setup】&#34;&gt;&lt;/a&gt;3.2. 【拉开序幕的 setup】&lt;/h2&gt;
&lt;h3 id=&#34;setup-概述&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#setup-概述&#34;&gt;&lt;/a&gt;setup 概述&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;setup&lt;/code&gt;是&lt;code&gt;Vue3&lt;/code&gt;中一个新的配置项，值是一个函数，它是 &lt;code&gt;Composition API&lt;/code&gt; &lt;strong&gt;“表演的舞台&lt;/strong&gt;&lt;em&gt;&lt;strong&gt;”&lt;/strong&gt;&lt;/em&gt;，组件中所用到的：数据、方法、计算属性、监视…等等，均配置在&lt;code&gt;setup&lt;/code&gt;中。&lt;/p&gt;
&lt;p&gt;特点如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;setup&lt;/code&gt;函数返回的对象中的内容，可直接在模板中使用。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;setup&lt;/code&gt;中访问&lt;code&gt;this&lt;/code&gt;是&lt;code&gt;undefined&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;setup&lt;/code&gt;函数会在&lt;code&gt;beforeCreate&lt;/code&gt;之前调用，它是“领先”所有钩子执行的。&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h2&amp;gt;姓名：&amp;#123;&amp;#123;name&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;年龄：&amp;#123;&amp;#123;age&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeName&amp;quot;&amp;gt;修改名字&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeAge&amp;quot;&amp;gt;年龄+1&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;showTel&amp;quot;&amp;gt;点我查看联系方式&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot;&amp;gt;
  export default &amp;#123;
    name:&amp;#39;Person&amp;#39;,
    setup()&amp;#123;
      &amp;#x2F;&amp;#x2F; 数据，原来写在data中（注意：此时的name、age、tel数据都不是响应式数据）
      let name &amp;#x3D; &amp;#39;张三&amp;#39;
      let age &amp;#x3D; 18
      let tel &amp;#x3D; &amp;#39;13888888888&amp;#39;

      &amp;#x2F;&amp;#x2F; 方法，原来写在methods中
      function changeName()&amp;#123;
        name &amp;#x3D; &amp;#39;zhang-san&amp;#39; &amp;#x2F;&amp;#x2F;注意：此时这么修改name页面是不变化的
        console.log(name)
      &amp;#125;
      function changeAge()&amp;#123;
        age +&amp;#x3D; 1 &amp;#x2F;&amp;#x2F;注意：此时这么修改age页面是不变化的
        console.log(age)
      &amp;#125;
      function showTel()&amp;#123;
        alert(tel)
      &amp;#125;

      &amp;#x2F;&amp;#x2F; 返回一个对象，对象中的内容，模板中可以直接使用
      return &amp;#123;name,age,tel,changeName,changeAge,showTel&amp;#125;
    &amp;#125;
  &amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;setup-的返回值&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#setup-的返回值&#34;&gt;&lt;/a&gt;setup 的返回值&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;若返回一个&lt;strong&gt;对象&lt;/strong&gt;：则对象中的：属性、方法等，在模板中均可以直接使用**（重点关注）。**&lt;/li&gt;
&lt;li&gt;若返回一个&lt;strong&gt;函数&lt;/strong&gt;：则可以自定义渲染内容，代码如下：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-jsx&#34; data-language=&#34;jsx&#34;&gt;&lt;code class=&#34;language-jsx&#34;&gt;&lt;span class=&#34;token function&#34;&gt;setup&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;你好啊！&#39;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;setup-与-Options-API-的关系&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#setup-与-Options-API-的关系&#34;&gt;&lt;/a&gt;setup 与 Options API 的关系&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Vue2&lt;/code&gt; 的配置（&lt;code&gt;data&lt;/code&gt;、&lt;code&gt;methos&lt;/code&gt;…）中&lt;strong&gt;可以访问到&lt;/strong&gt; &lt;code&gt;setup&lt;/code&gt;中的属性、方法。&lt;/li&gt;
&lt;li&gt;但在&lt;code&gt;setup&lt;/code&gt;中&lt;strong&gt;不能访问到&lt;/strong&gt;&lt;code&gt;Vue2&lt;/code&gt;的配置（&lt;code&gt;data&lt;/code&gt;、&lt;code&gt;methos&lt;/code&gt;…）。&lt;/li&gt;
&lt;li&gt;如果与&lt;code&gt;Vue2&lt;/code&gt;冲突，则&lt;code&gt;setup&lt;/code&gt;优先。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;setup-语法糖&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#setup-语法糖&#34;&gt;&lt;/a&gt;setup 语法糖&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;setup&lt;/code&gt;函数有一个语法糖，这个语法糖，可以让我们把&lt;code&gt;setup&lt;/code&gt;独立出去，代码如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h2&amp;gt;姓名：&amp;#123;&amp;#123;name&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;年龄：&amp;#123;&amp;#123;age&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changName&amp;quot;&amp;gt;修改名字&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changAge&amp;quot;&amp;gt;年龄+1&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;showTel&amp;quot;&amp;gt;点我查看联系方式&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot;&amp;gt;
  export default &amp;#123;
    name:&amp;#39;Person&amp;#39;,
  &amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;

&amp;lt;!-- 下面的写法是setup语法糖 --&amp;gt;
&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot;&amp;gt;
  console.log(this) &amp;#x2F;&amp;#x2F;undefined
  
  &amp;#x2F;&amp;#x2F; 数据（注意：此时的name、age、tel都不是响应式数据）
  let name &amp;#x3D; &amp;#39;张三&amp;#39;
  let age &amp;#x3D; 18
  let tel &amp;#x3D; &amp;#39;13888888888&amp;#39;

  &amp;#x2F;&amp;#x2F; 方法
  function changName()&amp;#123;
    name &amp;#x3D; &amp;#39;李四&amp;#39;&amp;#x2F;&amp;#x2F;注意：此时这么修改name页面是不变化的
  &amp;#125;
  function changAge()&amp;#123;
    console.log(age)
    age +&amp;#x3D; 1 &amp;#x2F;&amp;#x2F;注意：此时这么修改age页面是不变化的
  &amp;#125;
  function showTel()&amp;#123;
    alert(tel)
  &amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;扩展：上述代码，还需要编写一个不写&lt;code&gt;setup&lt;/code&gt;的&lt;code&gt;script&lt;/code&gt;标签，去指定组件名字，比较麻烦，我们可以借助&lt;code&gt;vite&lt;/code&gt;中的插件简化&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;第一步：&lt;code&gt;npm i vite-plugin-vue-setup-extend -D&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;第二步：&lt;code&gt;vite.config.ts&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;line-numbers language-jsx&#34; data-language=&#34;jsx&#34;&gt;&lt;code class=&#34;language-jsx&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt; defineConfig &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;vite&#39;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; VueSetupExtend &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;vite-plugin-vue-setup-extend&#39;&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;defineConfig&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token literal-property property&#34;&gt;plugins&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;VueSetupExtend&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;第三步：&lt;code&gt;&amp;lt;script setup lang=&amp;quot;ts&amp;quot; name=&amp;quot;Person&amp;quot;&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-3-【ref-创建：基本类型的响应式数据】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-3-【ref-创建：基本类型的响应式数据】&#34;&gt;&lt;/a&gt;3.3. 【ref 创建：基本类型的响应式数据】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;**作用：**定义响应式变量。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;语法：&lt;/strong&gt;&lt;code&gt;let xxx = ref(初始值)&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;**返回值：**一个&lt;code&gt;RefImpl&lt;/code&gt;的实例对象，简称&lt;code&gt;ref对象&lt;/code&gt;或&lt;code&gt;ref&lt;/code&gt;，&lt;code&gt;ref&lt;/code&gt;对象的&lt;code&gt;value&lt;/code&gt;&lt;strong&gt;属性是响应式的&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意点：&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;JS&lt;/code&gt;中操作数据需要：&lt;code&gt;xxx.value&lt;/code&gt;，但模板中不需要&lt;code&gt;.value&lt;/code&gt;，直接使用即可。&lt;/li&gt;
&lt;li&gt;对于&lt;code&gt;let name = ref(&#39;张三&#39;)&lt;/code&gt;来说，&lt;code&gt;name&lt;/code&gt;不是响应式的，&lt;code&gt;name.value&lt;/code&gt;是响应式的。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h2&amp;gt;姓名：&amp;#123;&amp;#123;name&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;年龄：&amp;#123;&amp;#123;age&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeName&amp;quot;&amp;gt;修改名字&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeAge&amp;quot;&amp;gt;年龄+1&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;showTel&amp;quot;&amp;gt;点我查看联系方式&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
  import &amp;#123;ref&amp;#125; from &amp;#39;vue&amp;#39;
  &amp;#x2F;&amp;#x2F; name和age是一个RefImpl的实例对象，简称ref对象，它们的value属性是响应式的。
  let name &amp;#x3D; ref(&amp;#39;张三&amp;#39;)
  let age &amp;#x3D; ref(18)
  &amp;#x2F;&amp;#x2F; tel就是一个普通的字符串，不是响应式的
  let tel &amp;#x3D; &amp;#39;13888888888&amp;#39;

  function changeName()&amp;#123;
    &amp;#x2F;&amp;#x2F; JS中操作ref对象时候需要.value
    name.value &amp;#x3D; &amp;#39;李四&amp;#39;
    console.log(name.value)

    &amp;#x2F;&amp;#x2F; 注意：name不是响应式的，name.value是响应式的，所以如下代码并不会引起页面的更新。
    &amp;#x2F;&amp;#x2F; name &amp;#x3D; ref(&amp;#39;zhang-san&amp;#39;)
  &amp;#125;
  function changeAge()&amp;#123;
    &amp;#x2F;&amp;#x2F; JS中操作ref对象时候需要.value
    age.value +&amp;#x3D; 1 
    console.log(age.value)
  &amp;#125;
  function showTel()&amp;#123;
    alert(tel)
  &amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-4-【reactive-创建：对象类型的响应式数据】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-4-【reactive-创建：对象类型的响应式数据】&#34;&gt;&lt;/a&gt;3.4. 【reactive 创建：对象类型的响应式数据】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;作用：&lt;strong&gt;定义一个&lt;/strong&gt;响应式对象&lt;/strong&gt;（基本类型不要用它，要用&lt;code&gt;ref&lt;/code&gt;，否则报错）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;语法：&lt;/strong&gt;&lt;code&gt;let 响应式对象= reactive(源对象)&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;**返回值：**一个&lt;code&gt;Proxy&lt;/code&gt;的实例对象，简称：响应式对象。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;注意点：&lt;/strong&gt;&lt;code&gt;reactive&lt;/code&gt;定义的响应式数据是“深层次”的。&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h2&amp;gt;汽车信息：一台&amp;#123;&amp;#123; car.brand &amp;#125;&amp;#125;汽车，价值&amp;#123;&amp;#123; car.price &amp;#125;&amp;#125;万&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;游戏列表：&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;ul&amp;gt;
      &amp;lt;li v-for&amp;#x3D;&amp;quot;g in games&amp;quot; :key&amp;#x3D;&amp;quot;g.id&amp;quot;&amp;gt;&amp;#123;&amp;#123; g.name &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;li&amp;gt;
    &amp;lt;&amp;#x2F;ul&amp;gt;
    &amp;lt;h2&amp;gt;测试：&amp;#123;&amp;#123;obj.a.b.c.d&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeCarPrice&amp;quot;&amp;gt;修改汽车价格&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeFirstGame&amp;quot;&amp;gt;修改第一游戏&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;test&amp;quot;&amp;gt;测试&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
import &amp;#123; reactive &amp;#125; from &amp;#39;vue&amp;#39;

&amp;#x2F;&amp;#x2F; 数据
let car &amp;#x3D; reactive(&amp;#123; brand: &amp;#39;奔驰&amp;#39;, price: 100 &amp;#125;)
let games &amp;#x3D; reactive([
  &amp;#123; id: &amp;#39;ahsgdyfa01&amp;#39;, name: &amp;#39;英雄联盟&amp;#39; &amp;#125;,
  &amp;#123; id: &amp;#39;ahsgdyfa02&amp;#39;, name: &amp;#39;王者荣耀&amp;#39; &amp;#125;,
  &amp;#123; id: &amp;#39;ahsgdyfa03&amp;#39;, name: &amp;#39;原神&amp;#39; &amp;#125;
])
let obj &amp;#x3D; reactive(&amp;#123;
  a:&amp;#123;
    b:&amp;#123;
      c:&amp;#123;
        d:666
      &amp;#125;
    &amp;#125;
  &amp;#125;
&amp;#125;)

function changeCarPrice() &amp;#123;
  car.price +&amp;#x3D; 10
&amp;#125;
function changeFirstGame() &amp;#123;
  games[0].name &amp;#x3D; &amp;#39;流星蝴蝶剑&amp;#39;
&amp;#125;
function test()&amp;#123;
  obj.a.b.c.d &amp;#x3D; 999
&amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-5-【ref-创建：对象类型的响应式数据】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-5-【ref-创建：对象类型的响应式数据】&#34;&gt;&lt;/a&gt;3.5. 【ref 创建：对象类型的响应式数据】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;其实&lt;code&gt;ref&lt;/code&gt;接收的数据可以是：&lt;strong&gt;基本类型&lt;/strong&gt;、&lt;strong&gt;对象类型&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;若&lt;code&gt;ref&lt;/code&gt;接收的是对象类型，内部其实也是调用了&lt;code&gt;reactive&lt;/code&gt;函数。&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h2&amp;gt;汽车信息：一台&amp;#123;&amp;#123; car.brand &amp;#125;&amp;#125;汽车，价值&amp;#123;&amp;#123; car.price &amp;#125;&amp;#125;万&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;游戏列表：&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;ul&amp;gt;
      &amp;lt;li v-for&amp;#x3D;&amp;quot;g in games&amp;quot; :key&amp;#x3D;&amp;quot;g.id&amp;quot;&amp;gt;&amp;#123;&amp;#123; g.name &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;li&amp;gt;
    &amp;lt;&amp;#x2F;ul&amp;gt;
    &amp;lt;h2&amp;gt;测试：&amp;#123;&amp;#123;obj.a.b.c.d&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeCarPrice&amp;quot;&amp;gt;修改汽车价格&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeFirstGame&amp;quot;&amp;gt;修改第一游戏&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;test&amp;quot;&amp;gt;测试&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
import &amp;#123; ref &amp;#125; from &amp;#39;vue&amp;#39;

&amp;#x2F;&amp;#x2F; 数据
let car &amp;#x3D; ref(&amp;#123; brand: &amp;#39;奔驰&amp;#39;, price: 100 &amp;#125;)
let games &amp;#x3D; ref([
  &amp;#123; id: &amp;#39;ahsgdyfa01&amp;#39;, name: &amp;#39;英雄联盟&amp;#39; &amp;#125;,
  &amp;#123; id: &amp;#39;ahsgdyfa02&amp;#39;, name: &amp;#39;王者荣耀&amp;#39; &amp;#125;,
  &amp;#123; id: &amp;#39;ahsgdyfa03&amp;#39;, name: &amp;#39;原神&amp;#39; &amp;#125;
])
let obj &amp;#x3D; ref(&amp;#123;
  a:&amp;#123;
    b:&amp;#123;
      c:&amp;#123;
        d:666
      &amp;#125;
    &amp;#125;
  &amp;#125;
&amp;#125;)

console.log(car)

function changeCarPrice() &amp;#123;
  car.value.price +&amp;#x3D; 10
&amp;#125;
function changeFirstGame() &amp;#123;
  games.value[0].name &amp;#x3D; &amp;#39;流星蝴蝶剑&amp;#39;
&amp;#125;
function test()&amp;#123;
  obj.value.a.b.c.d &amp;#x3D; 999
&amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-6-【ref-对比-reactive】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-6-【ref-对比-reactive】&#34;&gt;&lt;/a&gt;3.6. 【ref 对比 reactive】&lt;/h2&gt;
&lt;p&gt;宏观角度看：&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ref&lt;/code&gt;用来定义：&lt;strong&gt;基本类型数据&lt;/strong&gt;、&lt;strong&gt;对象类型数据&lt;/strong&gt;；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;reactive&lt;/code&gt;用来定义：&lt;strong&gt;对象类型数据&lt;/strong&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;区别：&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ref&lt;/code&gt;创建的变量必须使用&lt;code&gt;.value&lt;/code&gt;（可以使用&lt;code&gt;volar&lt;/code&gt;插件自动添加&lt;code&gt;.value&lt;/code&gt;）。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alist.aixcc.top/d/OneDrive/img/202407151232718.webp&#34; alt=&#34;自动补充value&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;reactive&lt;/code&gt;重新分配一个新对象，会&lt;strong&gt;失去&lt;/strong&gt;响应式（可以使用&lt;code&gt;Object.assign&lt;/code&gt;去整体替换）。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;使用原则：&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;若需要一个基本类型的响应式数据，必须使用&lt;code&gt;ref&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;若需要一个响应式对象，层级不深，&lt;code&gt;ref&lt;/code&gt;、&lt;code&gt;reactive&lt;/code&gt;都可以。&lt;/li&gt;
&lt;li&gt;若需要一个响应式对象，且层级较深，推荐使用&lt;code&gt;reactive&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;3-7-【toRefs-与-toRef】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-7-【toRefs-与-toRef】&#34;&gt;&lt;/a&gt;3.7. 【toRefs 与 toRef】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;作用：将一个响应式对象中的每一个属性，转换为&lt;code&gt;ref&lt;/code&gt;对象。&lt;/li&gt;
&lt;li&gt;备注：&lt;code&gt;toRefs&lt;/code&gt;与&lt;code&gt;toRef&lt;/code&gt;功能一致，但&lt;code&gt;toRefs&lt;/code&gt;可以批量转换。&lt;/li&gt;
&lt;li&gt;语法如下：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h2&amp;gt;姓名：&amp;#123;&amp;#123;person.name&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;年龄：&amp;#123;&amp;#123;person.age&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;性别：&amp;#123;&amp;#123;person.gender&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeName&amp;quot;&amp;gt;修改名字&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeAge&amp;quot;&amp;gt;修改年龄&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeGender&amp;quot;&amp;gt;修改性别&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
  import &amp;#123;ref,reactive,toRefs,toRef&amp;#125; from &amp;#39;vue&amp;#39;

  &amp;#x2F;&amp;#x2F; 数据
  let person &amp;#x3D; reactive(&amp;#123;name:&amp;#39;张三&amp;#39;, age:18, gender:&amp;#39;男&amp;#39;&amp;#125;)
	
  &amp;#x2F;&amp;#x2F; 通过toRefs将person对象中的n个属性批量取出，且依然保持响应式的能力
  let &amp;#123;name,gender&amp;#125; &amp;#x3D;  toRefs(person)
	
  &amp;#x2F;&amp;#x2F; 通过toRef将person对象中的gender属性取出，且依然保持响应式的能力
  let age &amp;#x3D; toRef(person,&amp;#39;age&amp;#39;)

  &amp;#x2F;&amp;#x2F; 方法
  function changeName()&amp;#123;
    name.value +&amp;#x3D; &amp;#39;~&amp;#39;
  &amp;#125;
  function changeAge()&amp;#123;
    age.value +&amp;#x3D; 1
  &amp;#125;
  function changeGender()&amp;#123;
    gender.value &amp;#x3D; &amp;#39;女&amp;#39;
  &amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-8-【computed】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-8-【computed】&#34;&gt;&lt;/a&gt;3.8. 【computed】&lt;/h2&gt;
&lt;p&gt;作用：根据已有数据计算出新数据（和&lt;code&gt;Vue2&lt;/code&gt;中的&lt;code&gt;computed&lt;/code&gt;作用一致）。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://img.aixcc.top/file/35111db5e18d3bb69aee9.gif&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    姓：&amp;lt;input type&amp;#x3D;&amp;quot;text&amp;quot; v-model&amp;#x3D;&amp;quot;firstName&amp;quot;&amp;gt; &amp;lt;br&amp;gt;
    名：&amp;lt;input type&amp;#x3D;&amp;quot;text&amp;quot; v-model&amp;#x3D;&amp;quot;lastName&amp;quot;&amp;gt; &amp;lt;br&amp;gt;
    全名：&amp;lt;span&amp;gt;&amp;#123;&amp;#123;fullName&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;span&amp;gt; &amp;lt;br&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeFullName&amp;quot;&amp;gt;全名改为：li-si&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;App&amp;quot;&amp;gt;
  import &amp;#123;ref,computed&amp;#125; from &amp;#39;vue&amp;#39;

  let firstName &amp;#x3D; ref(&amp;#39;zhang&amp;#39;)
  let lastName &amp;#x3D; ref(&amp;#39;san&amp;#39;)

  &amp;#x2F;&amp;#x2F; 计算属性——只读取，不修改
  &amp;#x2F;* let fullName &amp;#x3D; computed(()&amp;#x3D;&amp;gt;&amp;#123;
    return firstName.value + &amp;#39;-&amp;#39; + lastName.value
  &amp;#125;) *&amp;#x2F;


  &amp;#x2F;&amp;#x2F; 计算属性——既读取又修改
  let fullName &amp;#x3D; computed(&amp;#123;
    &amp;#x2F;&amp;#x2F; 读取
    get()&amp;#123;
      return firstName.value + &amp;#39;-&amp;#39; + lastName.value
    &amp;#125;,
    &amp;#x2F;&amp;#x2F; 修改
    set(val)&amp;#123;
      console.log(&amp;#39;有人修改了fullName&amp;#39;,val)
      firstName.value &amp;#x3D; val.split(&amp;#39;-&amp;#39;)[0]
      lastName.value &amp;#x3D; val.split(&amp;#39;-&amp;#39;)[1]
    &amp;#125;
  &amp;#125;)

  function changeFullName()&amp;#123;
    fullName.value &amp;#x3D; &amp;#39;li-si&amp;#39;
  &amp;#125; 
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-9-【watch】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-9-【watch】&#34;&gt;&lt;/a&gt;3.9.【watch】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;作用：监视数据的变化（和&lt;code&gt;Vue2&lt;/code&gt;中的&lt;code&gt;watch&lt;/code&gt;作用一致）&lt;/li&gt;
&lt;li&gt;特点：&lt;code&gt;Vue3&lt;/code&gt;中的&lt;code&gt;watch&lt;/code&gt;只能监视以下&lt;strong&gt;四种数据&lt;/strong&gt;：&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;ref&lt;/code&gt;定义的数据。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;reactive&lt;/code&gt;定义的数据。&lt;/li&gt;
&lt;li&gt;函数返回一个值（&lt;code&gt;getter&lt;/code&gt;函数）。&lt;/li&gt;
&lt;li&gt;一个包含上述内容的数组。&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;我们在&lt;code&gt;Vue3&lt;/code&gt;中使用&lt;code&gt;watch&lt;/code&gt;的时候，通常会遇到以下几种情况：&lt;/p&gt;
&lt;h3 id=&#34;情况一&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#情况一&#34;&gt;&lt;/a&gt;* 情况一&lt;/h3&gt;
&lt;p&gt;监视&lt;code&gt;ref&lt;/code&gt;定义的【基本类型】数据：直接写数据名即可，监视的是其&lt;code&gt;value&lt;/code&gt;值的改变。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h1&amp;gt;情况一：监视【ref】定义的【基本类型】数据&amp;lt;&amp;#x2F;h1&amp;gt;
    &amp;lt;h2&amp;gt;当前求和为：&amp;#123;&amp;#123;sum&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeSum&amp;quot;&amp;gt;点我sum+1&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
  import &amp;#123;ref,watch&amp;#125; from &amp;#39;vue&amp;#39;
  &amp;#x2F;&amp;#x2F; 数据
  let sum &amp;#x3D; ref(0)
  &amp;#x2F;&amp;#x2F; 方法
  function changeSum()&amp;#123;
    sum.value +&amp;#x3D; 1
  &amp;#125;
  &amp;#x2F;&amp;#x2F; 监视，情况一：监视【ref】定义的【基本类型】数据
  const stopWatch &amp;#x3D; watch(sum,(newValue,oldValue)&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;sum变化了&amp;#39;,newValue,oldValue)
    if(newValue &amp;gt;&amp;#x3D; 10)&amp;#123;
      stopWatch()
    &amp;#125;
  &amp;#125;)
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;情况二&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#情况二&#34;&gt;&lt;/a&gt;* 情况二&lt;/h3&gt;
&lt;p&gt;监视&lt;code&gt;ref&lt;/code&gt;定义的【对象类型】数据：直接写数据名，监视的是对象的【地址值】，若想监视对象内部的数据，要手动开启深度监视。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;注意：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;若修改的是&lt;code&gt;ref&lt;/code&gt;定义的对象中的属性，&lt;code&gt;newValue&lt;/code&gt; 和 &lt;code&gt;oldValue&lt;/code&gt; 都是新值，因为它们是同一个对象。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;若修改整个&lt;code&gt;ref&lt;/code&gt;定义的对象，&lt;code&gt;newValue&lt;/code&gt; 是新值， &lt;code&gt;oldValue&lt;/code&gt; 是旧值，因为不是同一个对象了。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h1&amp;gt;情况二：监视【ref】定义的【对象类型】数据&amp;lt;&amp;#x2F;h1&amp;gt;
    &amp;lt;h2&amp;gt;姓名：&amp;#123;&amp;#123; person.name &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;年龄：&amp;#123;&amp;#123; person.age &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeName&amp;quot;&amp;gt;修改名字&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeAge&amp;quot;&amp;gt;修改年龄&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changePerson&amp;quot;&amp;gt;修改整个人&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
  import &amp;#123;ref,watch&amp;#125; from &amp;#39;vue&amp;#39;
  &amp;#x2F;&amp;#x2F; 数据
  let person &amp;#x3D; ref(&amp;#123;
    name:&amp;#39;张三&amp;#39;,
    age:18
  &amp;#125;)
  &amp;#x2F;&amp;#x2F; 方法
  function changeName()&amp;#123;
    person.value.name +&amp;#x3D; &amp;#39;~&amp;#39;
  &amp;#125;
  function changeAge()&amp;#123;
    person.value.age +&amp;#x3D; 1
  &amp;#125;
  function changePerson()&amp;#123;
    person.value &amp;#x3D; &amp;#123;name:&amp;#39;李四&amp;#39;,age:90&amp;#125;
  &amp;#125;
  &amp;#x2F;* 
    监视，情况一：监视【ref】定义的【对象类型】数据，监视的是对象的地址值，若想监视对象内部属性的变化，需要手动开启深度监视
    watch的第一个参数是：被监视的数据
    watch的第二个参数是：监视的回调
    watch的第三个参数是：配置对象（deep、immediate等等.....） 
  *&amp;#x2F;
  watch(person,(newValue,oldValue)&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;person变化了&amp;#39;,newValue,oldValue)
  &amp;#125;,&amp;#123;deep:true&amp;#125;)
  
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;情况三&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#情况三&#34;&gt;&lt;/a&gt;*  情况三&lt;/h3&gt;
&lt;p&gt;监视&lt;code&gt;reactive&lt;/code&gt;定义的【对象类型】数据，且默认开启了深度监视。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h1&amp;gt;情况三：监视【reactive】定义的【对象类型】数据&amp;lt;&amp;#x2F;h1&amp;gt;
    &amp;lt;h2&amp;gt;姓名：&amp;#123;&amp;#123; person.name &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;年龄：&amp;#123;&amp;#123; person.age &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeName&amp;quot;&amp;gt;修改名字&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeAge&amp;quot;&amp;gt;修改年龄&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changePerson&amp;quot;&amp;gt;修改整个人&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;hr&amp;gt;
    &amp;lt;h2&amp;gt;测试：&amp;#123;&amp;#123;obj.a.b.c&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;test&amp;quot;&amp;gt;修改obj.a.b.c&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
  import &amp;#123;reactive,watch&amp;#125; from &amp;#39;vue&amp;#39;
  &amp;#x2F;&amp;#x2F; 数据
  let person &amp;#x3D; reactive(&amp;#123;
    name:&amp;#39;张三&amp;#39;,
    age:18
  &amp;#125;)
  let obj &amp;#x3D; reactive(&amp;#123;
    a:&amp;#123;
      b:&amp;#123;
        c:666
      &amp;#125;
    &amp;#125;
  &amp;#125;)
  &amp;#x2F;&amp;#x2F; 方法
  function changeName()&amp;#123;
    person.name +&amp;#x3D; &amp;#39;~&amp;#39;
  &amp;#125;
  function changeAge()&amp;#123;
    person.age +&amp;#x3D; 1
  &amp;#125;
  function changePerson()&amp;#123;
    Object.assign(person,&amp;#123;name:&amp;#39;李四&amp;#39;,age:80&amp;#125;)
  &amp;#125;
  function test()&amp;#123;
    obj.a.b.c &amp;#x3D; 888
  &amp;#125;

  &amp;#x2F;&amp;#x2F; 监视，情况三：监视【reactive】定义的【对象类型】数据，且默认是开启深度监视的
  watch(person,(newValue,oldValue)&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;person变化了&amp;#39;,newValue,oldValue)
  &amp;#125;)
  watch(obj,(newValue,oldValue)&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;Obj变化了&amp;#39;,newValue,oldValue)
  &amp;#125;)
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;情况四&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#情况四&#34;&gt;&lt;/a&gt;* 情况四&lt;/h3&gt;
&lt;p&gt;监视&lt;code&gt;ref&lt;/code&gt;或&lt;code&gt;reactive&lt;/code&gt;定义的【对象类型】数据中的&lt;strong&gt;某个属性&lt;/strong&gt;，注意点如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;若该属性值&lt;strong&gt;不是&lt;/strong&gt;【对象类型】，需要写成函数形式。&lt;/li&gt;
&lt;li&gt;若该属性值是&lt;strong&gt;依然&lt;/strong&gt;是【对象类型】，可直接编，也可写成函数，建议写成函数。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;结论：监视的要是对象里的属性，那么最好写函数式，注意点：若是对象监视的是地址值，需要关注对象内部，需要手动开启深度监视。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h1&amp;gt;情况四：监视【ref】或【reactive】定义的【对象类型】数据中的某个属性&amp;lt;&amp;#x2F;h1&amp;gt;
    &amp;lt;h2&amp;gt;姓名：&amp;#123;&amp;#123; person.name &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;年龄：&amp;#123;&amp;#123; person.age &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;汽车：&amp;#123;&amp;#123; person.car.c1 &amp;#125;&amp;#125;、&amp;#123;&amp;#123; person.car.c2 &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeName&amp;quot;&amp;gt;修改名字&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeAge&amp;quot;&amp;gt;修改年龄&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeC1&amp;quot;&amp;gt;修改第一台车&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeC2&amp;quot;&amp;gt;修改第二台车&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeCar&amp;quot;&amp;gt;修改整个车&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
  import &amp;#123;reactive,watch&amp;#125; from &amp;#39;vue&amp;#39;

  &amp;#x2F;&amp;#x2F; 数据
  let person &amp;#x3D; reactive(&amp;#123;
    name:&amp;#39;张三&amp;#39;,
    age:18,
    car:&amp;#123;
      c1:&amp;#39;奔驰&amp;#39;,
      c2:&amp;#39;宝马&amp;#39;
    &amp;#125;
  &amp;#125;)
  &amp;#x2F;&amp;#x2F; 方法
  function changeName()&amp;#123;
    person.name +&amp;#x3D; &amp;#39;~&amp;#39;
  &amp;#125;
  function changeAge()&amp;#123;
    person.age +&amp;#x3D; 1
  &amp;#125;
  function changeC1()&amp;#123;
    person.car.c1 &amp;#x3D; &amp;#39;奥迪&amp;#39;
  &amp;#125;
  function changeC2()&amp;#123;
    person.car.c2 &amp;#x3D; &amp;#39;大众&amp;#39;
  &amp;#125;
  function changeCar()&amp;#123;
    person.car &amp;#x3D; &amp;#123;c1:&amp;#39;雅迪&amp;#39;,c2:&amp;#39;爱玛&amp;#39;&amp;#125;
  &amp;#125;

  &amp;#x2F;&amp;#x2F; 监视，情况四：监视响应式对象中的某个属性，且该属性是基本类型的，要写成函数式
  &amp;#x2F;* watch(()&amp;#x3D;&amp;gt; person.name,(newValue,oldValue)&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;person.name变化了&amp;#39;,newValue,oldValue)
  &amp;#125;) *&amp;#x2F;

  &amp;#x2F;&amp;#x2F; 监视，情况四：监视响应式对象中的某个属性，且该属性是对象类型的，可以直接写，也能写函数，更推荐写函数
  watch(()&amp;#x3D;&amp;gt;person.car,(newValue,oldValue)&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;person.car变化了&amp;#39;,newValue,oldValue)
  &amp;#125;,&amp;#123;deep:true&amp;#125;)
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;情况五&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#情况五&#34;&gt;&lt;/a&gt;* 情况五&lt;/h3&gt;
&lt;p&gt;监视上述的多个数据&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h1&amp;gt;情况五：监视上述的多个数据&amp;lt;&amp;#x2F;h1&amp;gt;
    &amp;lt;h2&amp;gt;姓名：&amp;#123;&amp;#123; person.name &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;年龄：&amp;#123;&amp;#123; person.age &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;汽车：&amp;#123;&amp;#123; person.car.c1 &amp;#125;&amp;#125;、&amp;#123;&amp;#123; person.car.c2 &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeName&amp;quot;&amp;gt;修改名字&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeAge&amp;quot;&amp;gt;修改年龄&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeC1&amp;quot;&amp;gt;修改第一台车&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeC2&amp;quot;&amp;gt;修改第二台车&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeCar&amp;quot;&amp;gt;修改整个车&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
  import &amp;#123;reactive,watch&amp;#125; from &amp;#39;vue&amp;#39;

  &amp;#x2F;&amp;#x2F; 数据
  let person &amp;#x3D; reactive(&amp;#123;
    name:&amp;#39;张三&amp;#39;,
    age:18,
    car:&amp;#123;
      c1:&amp;#39;奔驰&amp;#39;,
      c2:&amp;#39;宝马&amp;#39;
    &amp;#125;
  &amp;#125;)
  &amp;#x2F;&amp;#x2F; 方法
  function changeName()&amp;#123;
    person.name +&amp;#x3D; &amp;#39;~&amp;#39;
  &amp;#125;
  function changeAge()&amp;#123;
    person.age +&amp;#x3D; 1
  &amp;#125;
  function changeC1()&amp;#123;
    person.car.c1 &amp;#x3D; &amp;#39;奥迪&amp;#39;
  &amp;#125;
  function changeC2()&amp;#123;
    person.car.c2 &amp;#x3D; &amp;#39;大众&amp;#39;
  &amp;#125;
  function changeCar()&amp;#123;
    person.car &amp;#x3D; &amp;#123;c1:&amp;#39;雅迪&amp;#39;,c2:&amp;#39;爱玛&amp;#39;&amp;#125;
  &amp;#125;

  &amp;#x2F;&amp;#x2F; 监视，情况五：监视上述的多个数据
  watch([()&amp;#x3D;&amp;gt;person.name,person.car],(newValue,oldValue)&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;person.car变化了&amp;#39;,newValue,oldValue)
  &amp;#125;,&amp;#123;deep:true&amp;#125;)

&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-10-【watchEffect】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-10-【watchEffect】&#34;&gt;&lt;/a&gt;3.10. 【watchEffect】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;官网：立即运行一个函数，同时响应式地追踪其依赖，并在依赖更改时重新执行该函数。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;watch&lt;/code&gt;对比&lt;code&gt;watchEffect&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;都能监听响应式数据的变化，不同的是监听数据变化的方式不同&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;watch&lt;/code&gt;：要明确指出监视的数据&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;watchEffect&lt;/code&gt;：不用明确指出监视的数据（函数中用到哪些属性，那就监视哪些属性）。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;示例代码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h1&amp;gt;需求：水温达到50℃，或水位达到20cm，则联系服务器&amp;lt;&amp;#x2F;h1&amp;gt;
    &amp;lt;h2 id&amp;#x3D;&amp;quot;demo&amp;quot;&amp;gt;水温：&amp;#123;&amp;#123;temp&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h2&amp;gt;水位：&amp;#123;&amp;#123;height&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changePrice&amp;quot;&amp;gt;水温+1&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeSum&amp;quot;&amp;gt;水位+10&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
  import &amp;#123;ref,watch,watchEffect&amp;#125; from &amp;#39;vue&amp;#39;
  &amp;#x2F;&amp;#x2F; 数据
  let temp &amp;#x3D; ref(0)
  let height &amp;#x3D; ref(0)

  &amp;#x2F;&amp;#x2F; 方法
  function changePrice()&amp;#123;
    temp.value +&amp;#x3D; 10
  &amp;#125;
  function changeSum()&amp;#123;
    height.value +&amp;#x3D; 1
  &amp;#125;

  &amp;#x2F;&amp;#x2F; 用watch实现，需要明确的指出要监视：temp、height
  watch([temp,height],(value)&amp;#x3D;&amp;gt;&amp;#123;
    &amp;#x2F;&amp;#x2F; 从value中获取最新的temp值、height值
    const [newTemp,newHeight] &amp;#x3D; value
    &amp;#x2F;&amp;#x2F; 室温达到50℃，或水位达到20cm，立刻联系服务器
    if(newTemp &amp;gt;&amp;#x3D; 50 || newHeight &amp;gt;&amp;#x3D; 20)&amp;#123;
      console.log(&amp;#39;联系服务器&amp;#39;)
    &amp;#125;
  &amp;#125;)

  &amp;#x2F;&amp;#x2F; 用watchEffect实现，不用
  const stopWtach &amp;#x3D; watchEffect(()&amp;#x3D;&amp;gt;&amp;#123;
    &amp;#x2F;&amp;#x2F; 室温达到50℃，或水位达到20cm，立刻联系服务器
    if(temp.value &amp;gt;&amp;#x3D; 50 || height.value &amp;gt;&amp;#x3D; 20)&amp;#123;
      console.log(document.getElementById(&amp;#39;demo&amp;#39;)?.innerText)
      console.log(&amp;#39;联系服务器&amp;#39;)
    &amp;#125;
    &amp;#x2F;&amp;#x2F; 水温达到100，或水位达到50，取消监视
    if(temp.value &amp;#x3D;&amp;#x3D;&amp;#x3D; 100 || height.value &amp;#x3D;&amp;#x3D;&amp;#x3D; 50)&amp;#123;
      console.log(&amp;#39;清理了&amp;#39;)
      stopWtach()
    &amp;#125;
  &amp;#125;)
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-11-【标签的-ref-属性】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-11-【标签的-ref-属性】&#34;&gt;&lt;/a&gt;3.11. 【标签的 ref 属性】&lt;/h2&gt;
&lt;p&gt;作用：用于注册模板引用。&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;用在普通&lt;code&gt;DOM&lt;/code&gt;标签上，获取的是&lt;code&gt;DOM&lt;/code&gt;节点。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用在组件标签上，获取的是组件实例对象。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;用在普通&lt;code&gt;DOM&lt;/code&gt;标签上：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h1 ref&amp;#x3D;&amp;quot;title1&amp;quot;&amp;gt;尚硅谷&amp;lt;&amp;#x2F;h1&amp;gt;
    &amp;lt;h2 ref&amp;#x3D;&amp;quot;title2&amp;quot;&amp;gt;前端&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;h3 ref&amp;#x3D;&amp;quot;title3&amp;quot;&amp;gt;Vue&amp;lt;&amp;#x2F;h3&amp;gt;
    &amp;lt;input type&amp;#x3D;&amp;quot;text&amp;quot; ref&amp;#x3D;&amp;quot;inpt&amp;quot;&amp;gt; &amp;lt;br&amp;gt;&amp;lt;br&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;showLog&amp;quot;&amp;gt;点我打印内容&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
  import &amp;#123;ref&amp;#125; from &amp;#39;vue&amp;#39;
	
  let title1 &amp;#x3D; ref()
  let title2 &amp;#x3D; ref()
  let title3 &amp;#x3D; ref()

  function showLog()&amp;#123;
    &amp;#x2F;&amp;#x2F; 通过id获取元素
    const t1 &amp;#x3D; document.getElementById(&amp;#39;title1&amp;#39;)
    &amp;#x2F;&amp;#x2F; 打印内容
    console.log((t1 as HTMLElement).innerText)
    console.log((&amp;lt;HTMLElement&amp;gt;t1).innerText)
    console.log(t1?.innerText)
    
		&amp;#x2F;************************************&amp;#x2F;
		
    &amp;#x2F;&amp;#x2F; 通过ref获取元素
    console.log(title1.value)
    console.log(title2.value)
    console.log(title3.value)
  &amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;用在组件标签上：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;!-- 父组件App.vue --&amp;gt;
&amp;lt;template&amp;gt;
  &amp;lt;Person ref&amp;#x3D;&amp;quot;ren&amp;quot;&amp;#x2F;&amp;gt;
  &amp;lt;button @click&amp;#x3D;&amp;quot;test&amp;quot;&amp;gt;测试&amp;lt;&amp;#x2F;button&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;App&amp;quot;&amp;gt;
  import Person from &amp;#39;.&amp;#x2F;components&amp;#x2F;Person.vue&amp;#39;
  import &amp;#123;ref&amp;#125; from &amp;#39;vue&amp;#39;

  let ren &amp;#x3D; ref()

  function test()&amp;#123;
    console.log(ren.value.name)
    console.log(ren.value.age)
  &amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;


&amp;lt;!-- 子组件Person.vue中要使用defineExpose暴露内容 --&amp;gt;
&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
  import &amp;#123;ref,defineExpose&amp;#125; from &amp;#39;vue&amp;#39;
	&amp;#x2F;&amp;#x2F; 数据
  let name &amp;#x3D; ref(&amp;#39;张三&amp;#39;)
  let age &amp;#x3D; ref(18)
  &amp;#x2F;****************************&amp;#x2F;
  &amp;#x2F;****************************&amp;#x2F;
  &amp;#x2F;&amp;#x2F; 使用defineExpose将组件中的数据交给外部
  defineExpose(&amp;#123;name,age&amp;#125;)
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-12-【props】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-12-【props】&#34;&gt;&lt;/a&gt;3.12. 【props】&lt;/h2&gt;
&lt;blockquote&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;// 定义一个接口，限制每个Person对象的格式&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;token class-name&#34;&gt;PersonInter&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
&lt;span class=&#34;token literal-property property&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;string&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
&lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;string&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
 &lt;span class=&#34;token literal-property property&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;number
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;// 定义一个自定义类型Persons&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; type Persons &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; Array&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;PersonInter&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;App.vue&lt;/code&gt;中代码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
	&amp;lt;Person :list&amp;#x3D;&amp;quot;persons&amp;quot;&amp;#x2F;&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;App&amp;quot;&amp;gt;
import Person from &amp;#39;.&amp;#x2F;components&amp;#x2F;Person.vue&amp;#39;
import &amp;#123;reactive&amp;#125; from &amp;#39;vue&amp;#39;
 import &amp;#123;type Persons&amp;#125; from &amp;#39;.&amp;#x2F;types&amp;#39;

 let persons &amp;#x3D; reactive&amp;lt;Persons&amp;gt;([
  &amp;#123;id:&amp;#39;e98219e12&amp;#39;,name:&amp;#39;张三&amp;#39;,age:18&amp;#125;,
   &amp;#123;id:&amp;#39;e98219e13&amp;#39;,name:&amp;#39;李四&amp;#39;,age:19&amp;#125;,
    &amp;#123;id:&amp;#39;e98219e14&amp;#39;,name:&amp;#39;王五&amp;#39;,age:20&amp;#125;
  ])
&amp;lt;&amp;#x2F;script&amp;gt;
&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Person.vue&lt;/code&gt;中代码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-Vue&#34; data-language=&#34;Vue&#34;&gt;&lt;code class=&#34;language-Vue&#34;&gt;&amp;lt;template&amp;gt;
&amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
&amp;lt;ul&amp;gt;
  &amp;lt;li v-for&amp;#x3D;&amp;quot;item in list&amp;quot; :key&amp;#x3D;&amp;quot;item.id&amp;quot;&amp;gt;
     &amp;#123;&amp;#123;item.name&amp;#125;&amp;#125;--&amp;#123;&amp;#123;item.age&amp;#125;&amp;#125;
   &amp;lt;&amp;#x2F;li&amp;gt;
 &amp;lt;&amp;#x2F;ul&amp;gt;
&amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
import &amp;#123;defineProps&amp;#125; from &amp;#39;vue&amp;#39;
import &amp;#123;type PersonInter&amp;#125; from &amp;#39;@&amp;#x2F;types&amp;#39;

&amp;#x2F;&amp;#x2F; 第一种写法：仅接收
&amp;#x2F;&amp;#x2F; const props &amp;#x3D; defineProps([&amp;#39;list&amp;#39;])

&amp;#x2F;&amp;#x2F; 第二种写法：接收+限制类型
&amp;#x2F;&amp;#x2F; defineProps&amp;lt;&amp;#123;list:Persons&amp;#125;&amp;gt;()

&amp;#x2F;&amp;#x2F; 第三种写法：接收+限制类型+指定默认值+限制必要性
let props &amp;#x3D; withDefaults(defineProps&amp;lt;&amp;#123;list?:Persons&amp;#125;&amp;gt;(),&amp;#123;
  list:()&amp;#x3D;&amp;gt;[&amp;#123;id:&amp;#39;asdasg01&amp;#39;,name:&amp;#39;小猪佩奇&amp;#39;,age:18&amp;#125;]
&amp;#125;)
console.log(props)
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;3-13-【生命周期】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-13-【生命周期】&#34;&gt;&lt;/a&gt;3.13. 【生命周期】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;概念：&lt;code&gt;Vue&lt;/code&gt;组件实例在创建时要经历一系列的初始化步骤，在此过程中&lt;code&gt;Vue&lt;/code&gt;会在合适的时机，调用特定的函数，从而让开发者有机会在特定阶段运行自己的代码，这些特定的函数统称为：生命周期钩子&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;规律：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;生命周期整体分为四个阶段，分别是：&lt;strong&gt;创建、挂载、更新、销毁&lt;/strong&gt;，每个阶段都有两个钩子，一前一后。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Vue2&lt;/code&gt;的生命周期&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;创建阶段：&lt;code&gt;beforeCreate&lt;/code&gt;、&lt;code&gt;created&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;挂载阶段：&lt;code&gt;beforeMount&lt;/code&gt;、&lt;code&gt;mounted&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;更新阶段：&lt;code&gt;beforeUpdate&lt;/code&gt;、&lt;code&gt;updated&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;销毁阶段：&lt;code&gt;beforeDestroy&lt;/code&gt;、&lt;code&gt;destroyed&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Vue3&lt;/code&gt;的生命周期&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;创建阶段：&lt;code&gt;setup&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;挂载阶段：&lt;code&gt;onBeforeMount&lt;/code&gt;、&lt;code&gt;onMounted&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;更新阶段：&lt;code&gt;onBeforeUpdate&lt;/code&gt;、&lt;code&gt;onUpdated&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;卸载阶段：&lt;code&gt;onBeforeUnmount&lt;/code&gt;、&lt;code&gt;onUnmounted&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;常用的钩子：&lt;code&gt;onMounted&lt;/code&gt;(挂载完毕)、&lt;code&gt;onUpdated&lt;/code&gt;(更新完毕)、&lt;code&gt;onBeforeUnmount&lt;/code&gt;(卸载之前)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;示例代码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;person&amp;quot;&amp;gt;
    &amp;lt;h2&amp;gt;当前求和为：&amp;#123;&amp;#123; sum &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;changeSum&amp;quot;&amp;gt;点我sum+1&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;!-- vue3写法 --&amp;gt;
&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;Person&amp;quot;&amp;gt;
  import &amp;#123; 
    ref, 
    onBeforeMount, 
    onMounted, 
    onBeforeUpdate, 
    onUpdated, 
    onBeforeUnmount, 
    onUnmounted 
  &amp;#125; from &amp;#39;vue&amp;#39;

  &amp;#x2F;&amp;#x2F; 数据
  let sum &amp;#x3D; ref(0)
  &amp;#x2F;&amp;#x2F; 方法
  function changeSum() &amp;#123;
    sum.value +&amp;#x3D; 1
  &amp;#125;
  console.log(&amp;#39;setup&amp;#39;)
  &amp;#x2F;&amp;#x2F; 生命周期钩子
  onBeforeMount(()&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;挂载之前&amp;#39;)
  &amp;#125;)
  onMounted(()&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;挂载完毕&amp;#39;)
  &amp;#125;)
  onBeforeUpdate(()&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;更新之前&amp;#39;)
  &amp;#125;)
  onUpdated(()&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;更新完毕&amp;#39;)
  &amp;#125;)
  onBeforeUnmount(()&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;卸载之前&amp;#39;)
  &amp;#125;)
  onUnmounted(()&amp;#x3D;&amp;gt;&amp;#123;
    console.log(&amp;#39;卸载完毕&amp;#39;)
  &amp;#125;)
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-14-【自定义hook】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-14-【自定义hook】&#34;&gt;&lt;/a&gt;3.14. 【自定义hook】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;什么是&lt;code&gt;hook&lt;/code&gt;？—— 本质是一个函数，把&lt;code&gt;setup&lt;/code&gt;函数中使用的&lt;code&gt;Composition API&lt;/code&gt;进行了封装，类似于&lt;code&gt;vue2.x&lt;/code&gt;中的&lt;code&gt;mixin&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;自定义&lt;code&gt;hook&lt;/code&gt;的优势：复用代码, 让&lt;code&gt;setup&lt;/code&gt;中的逻辑更清楚易懂。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;示例代码：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;useSum.ts&lt;/code&gt;中内容如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;ref&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;onMounted&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;vue&#39;&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; sum &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;ref&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

  &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;token function-variable function&#34;&gt;increment&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    sum&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;value &lt;span class=&#34;token operator&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
  &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;token function-variable function&#34;&gt;decrement&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    sum&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;value &lt;span class=&#34;token operator&#34;&gt;-=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
  &lt;span class=&#34;token function&#34;&gt;onMounted&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token function&#34;&gt;increment&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

  &lt;span class=&#34;token comment&#34;&gt;//向外部暴露数据&lt;/span&gt;
  &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;sum&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;increment&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;decrement&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;		&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;useDog.ts&lt;/code&gt;中内容如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;reactive&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;onMounted&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;vue&#39;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; axios&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;AxiosError&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;axios&#39;&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; dogList &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; reactive&lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;string&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

  &lt;span class=&#34;token comment&#34;&gt;// 方法&lt;/span&gt;
  &lt;span class=&#34;token keyword&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;getDog&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
      &lt;span class=&#34;token comment&#34;&gt;// 发请求&lt;/span&gt;
      &lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;data&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;await&lt;/span&gt; axios&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;https://dog.ceo/api/breed/pembroke/images/random&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
      &lt;span class=&#34;token comment&#34;&gt;// 维护数据&lt;/span&gt;
      dogList&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;data&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;message&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;error&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
      &lt;span class=&#34;token comment&#34;&gt;// 处理错误&lt;/span&gt;
      &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; err &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt;AxiosError&lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt;error
      console&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;err&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;message&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;

  &lt;span class=&#34;token comment&#34;&gt;// 挂载钩子&lt;/span&gt;
  &lt;span class=&#34;token function&#34;&gt;onMounted&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token function&#34;&gt;getDog&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
	
  &lt;span class=&#34;token comment&#34;&gt;//向外部暴露数据&lt;/span&gt;
  &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;dogList&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;getDog&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;组件中具体使用：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;h2&amp;gt;当前求和为：&amp;#123;&amp;#123;sum&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
  &amp;lt;button @click&amp;#x3D;&amp;quot;increment&amp;quot;&amp;gt;点我+1&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;button @click&amp;#x3D;&amp;quot;decrement&amp;quot;&amp;gt;点我-1&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;hr&amp;gt;
  &amp;lt;img v-for&amp;#x3D;&amp;quot;(u,index) in dogList.urlList&amp;quot; :key&amp;#x3D;&amp;quot;index&amp;quot; :src&amp;#x3D;&amp;quot;(u as string)&amp;quot;&amp;gt; 
  &amp;lt;span v-show&amp;#x3D;&amp;quot;dogList.isLoading&amp;quot;&amp;gt;加载中......&amp;lt;&amp;#x2F;span&amp;gt;&amp;lt;br&amp;gt;
  &amp;lt;button @click&amp;#x3D;&amp;quot;getDog&amp;quot;&amp;gt;再来一只狗&amp;lt;&amp;#x2F;button&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot;&amp;gt;
  import &amp;#123;defineComponent&amp;#125; from &amp;#39;vue&amp;#39;

  export default defineComponent(&amp;#123;
    name:&amp;#39;App&amp;#39;,
  &amp;#125;)
&amp;lt;&amp;#x2F;script&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot;&amp;gt;
  import useSum from &amp;#39;.&amp;#x2F;hooks&amp;#x2F;useSum&amp;#39;
  import useDog from &amp;#39;.&amp;#x2F;hooks&amp;#x2F;useDog&amp;#39;
	
  let &amp;#123;sum,increment,decrement&amp;#125; &amp;#x3D; useSum()
  let &amp;#123;dogList,getDog&amp;#125; &amp;#x3D; useDog()
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;4-路由&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-路由&#34;&gt;&lt;/a&gt;4. 路由&lt;/h1&gt;
&lt;h2 id=&#34;4-1-【对路由的理解】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-1-【对路由的理解】&#34;&gt;&lt;/a&gt;4.1. 【对路由的理解】&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://alist.aixcc.top/d/OneDrive/img/202407151232332.webp&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;4-2-【基本切换效果】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-2-【基本切换效果】&#34;&gt;&lt;/a&gt;4.2. 【基本切换效果】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Vue3&lt;/code&gt;中要使用&lt;code&gt;vue-router&lt;/code&gt;的最新版本，目前是&lt;code&gt;4&lt;/code&gt;版本。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;路由配置文件代码如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;createRouter&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;createWebHistory&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;vue-router&#39;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; Home &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;@/pages/Home.vue&#39;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; News &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;@/pages/News.vue&#39;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; About &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;@/pages/About.vue&#39;&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; router &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;createRouter&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
	&lt;span class=&#34;token literal-property property&#34;&gt;history&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;createWebHistory&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;token literal-property property&#34;&gt;routes&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
		&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
			&lt;span class=&#34;token literal-property property&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/home&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
			&lt;span class=&#34;token literal-property property&#34;&gt;component&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;Home
		&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
		&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
			&lt;span class=&#34;token literal-property property&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/about&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
			&lt;span class=&#34;token literal-property property&#34;&gt;component&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;About
		&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
	&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;default&lt;/span&gt; router&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;main.ts&lt;/code&gt;代码如下：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; router &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;./router/index&#39;&lt;/span&gt;
app&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;router&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

app&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;#app&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;App.vue&lt;/code&gt;代码如下&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;app&amp;quot;&amp;gt;
    &amp;lt;h2 class&amp;#x3D;&amp;quot;title&amp;quot;&amp;gt;Vue路由测试&amp;lt;&amp;#x2F;h2&amp;gt;
    &amp;lt;!-- 导航区 --&amp;gt;
    &amp;lt;div class&amp;#x3D;&amp;quot;navigate&amp;quot;&amp;gt;
      &amp;lt;RouterLink to&amp;#x3D;&amp;quot;&amp;#x2F;home&amp;quot; active-class&amp;#x3D;&amp;quot;active&amp;quot;&amp;gt;首页&amp;lt;&amp;#x2F;RouterLink&amp;gt;
      &amp;lt;RouterLink to&amp;#x3D;&amp;quot;&amp;#x2F;news&amp;quot; active-class&amp;#x3D;&amp;quot;active&amp;quot;&amp;gt;新闻&amp;lt;&amp;#x2F;RouterLink&amp;gt;
      &amp;lt;RouterLink to&amp;#x3D;&amp;quot;&amp;#x2F;about&amp;quot; active-class&amp;#x3D;&amp;quot;active&amp;quot;&amp;gt;关于&amp;lt;&amp;#x2F;RouterLink&amp;gt;
    &amp;lt;&amp;#x2F;div&amp;gt;
    &amp;lt;!-- 展示区 --&amp;gt;
    &amp;lt;div class&amp;#x3D;&amp;quot;main-content&amp;quot;&amp;gt;
      &amp;lt;RouterView&amp;gt;&amp;lt;&amp;#x2F;RouterView&amp;gt;
    &amp;lt;&amp;#x2F;div&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script lang&amp;#x3D;&amp;quot;ts&amp;quot; setup name&amp;#x3D;&amp;quot;App&amp;quot;&amp;gt;
  import &amp;#123;RouterLink,RouterView&amp;#125; from &amp;#39;vue-router&amp;#39;  
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-3-【两个注意点】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-3-【两个注意点】&#34;&gt;&lt;/a&gt;4.3. 【两个注意点】&lt;/h2&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;路由组件通常存放在&lt;code&gt;pages&lt;/code&gt; 或 &lt;code&gt;views&lt;/code&gt;文件夹，一般组件通常存放在&lt;code&gt;components&lt;/code&gt;文件夹。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;通过点击导航，视觉效果上“消失” 了的路由组件，默认是被&lt;strong&gt;卸载&lt;/strong&gt;掉的，需要的时候再去&lt;strong&gt;挂载&lt;/strong&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;4-4-【路由器工作模式】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-4-【路由器工作模式】&#34;&gt;&lt;/a&gt;4.4.【路由器工作模式】&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;history&lt;/code&gt;模式&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;优点：&lt;code&gt;URL&lt;/code&gt;更加美观，不带有&lt;code&gt;#&lt;/code&gt;，更接近传统的网站&lt;code&gt;URL&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;缺点：后期项目上线，需要服务端配合处理路径问题，否则刷新会有&lt;code&gt;404&lt;/code&gt;错误。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; router &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;createRouter&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
	&lt;span class=&#34;token literal-property property&#34;&gt;history&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;createWebHistory&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;//history模式&lt;/span&gt;
	&lt;span class=&#34;token comment&#34;&gt;/******/&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;hash&lt;/code&gt;模式&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;优点：兼容性更好，因为不需要服务器端处理路径。&lt;/p&gt;
&lt;p&gt;缺点：&lt;code&gt;URL&lt;/code&gt;带有&lt;code&gt;#&lt;/code&gt;不太美观，且在&lt;code&gt;SEO&lt;/code&gt;优化方面相对较差。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; router &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;createRouter&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
	&lt;span class=&#34;token literal-property property&#34;&gt;history&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;createWebHashHistory&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;//hash模式&lt;/span&gt;
	&lt;span class=&#34;token comment&#34;&gt;/******/&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-5-【to的两种写法】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-5-【to的两种写法】&#34;&gt;&lt;/a&gt;4.5. 【to的两种写法】&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;!-- 第一种：to的字符串写法 --&amp;gt;
&amp;lt;router-link active-class&amp;#x3D;&amp;quot;active&amp;quot; to&amp;#x3D;&amp;quot;&amp;#x2F;home&amp;quot;&amp;gt;主页&amp;lt;&amp;#x2F;router-link&amp;gt;

&amp;lt;!-- 第二种：to的对象写法 --&amp;gt;
&amp;lt;router-link active-class&amp;#x3D;&amp;quot;active&amp;quot; :to&amp;#x3D;&amp;quot;&amp;#123;path:&amp;#39;&amp;#x2F;home&amp;#39;&amp;#125;&amp;quot;&amp;gt;Home&amp;lt;&amp;#x2F;router-link&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-6-【命名路由】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-6-【命名路由】&#34;&gt;&lt;/a&gt;4.6. 【命名路由】&lt;/h2&gt;
&lt;p&gt;作用：可以简化路由跳转及传参（后面就讲）。&lt;/p&gt;
&lt;p&gt;给路由规则命名：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token literal-property property&#34;&gt;routes&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;zhuye&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/home&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;component&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;Home
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;xinwen&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/news&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;component&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;News&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;guanyu&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/about&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;component&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;About
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;跳转路由：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;!--简化前：需要写完整的路径（to的字符串写法） --&amp;gt;
&amp;lt;router-link to&amp;#x3D;&amp;quot;&amp;#x2F;news&amp;#x2F;detail&amp;quot;&amp;gt;跳转&amp;lt;&amp;#x2F;router-link&amp;gt;

&amp;lt;!--简化后：直接通过名字跳转（to的对象写法配合name属性） --&amp;gt;
&amp;lt;router-link :to&amp;#x3D;&amp;quot;&amp;#123;name:&amp;#39;guanyu&amp;#39;&amp;#125;&amp;quot;&amp;gt;跳转&amp;lt;&amp;#x2F;router-link&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-7-【嵌套路由】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-7-【嵌套路由】&#34;&gt;&lt;/a&gt;4.7. 【嵌套路由】&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;编写&lt;code&gt;News&lt;/code&gt;的子路由：&lt;code&gt;Detail.vue&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置路由规则，使用&lt;code&gt;children&lt;/code&gt;配置项：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-typescript&#34; data-language=&#34;typescript&#34;&gt;&lt;code class=&#34;language-typescript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; router &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;createRouter&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  history&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;createWebHistory&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
	routes&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
		&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
			name&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;zhuye&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
			path&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/home&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
			component&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;Home
		&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
		&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
			name&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;xinwen&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
			path&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/news&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
			component&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;News&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
			children&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
				&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
					name&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;xiang&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
					path&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;detail&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
					component&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;Detail
				&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
			&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
		&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
		&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
			name&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;guanyu&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
			path&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/about&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
			component&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;About
		&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
	&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;default&lt;/span&gt; router&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;跳转路由（记得要加完整路径）：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;router-link to&amp;#x3D;&amp;quot;&amp;#x2F;news&amp;#x2F;detail&amp;quot;&amp;gt;xxxx&amp;lt;&amp;#x2F;router-link&amp;gt;
&amp;lt;!-- 或 --&amp;gt;
&amp;lt;router-link :to&amp;#x3D;&amp;quot;&amp;#123;path:&amp;#39;&amp;#x2F;news&amp;#x2F;detail&amp;#39;&amp;#125;&amp;quot;&amp;gt;xxxx&amp;lt;&amp;#x2F;router-link&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;记得去&lt;code&gt;Home&lt;/code&gt;组件中预留一个&lt;code&gt;&amp;lt;router-view&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;news&amp;quot;&amp;gt;
    &amp;lt;nav class&amp;#x3D;&amp;quot;news-list&amp;quot;&amp;gt;
      &amp;lt;RouterLink v-for&amp;#x3D;&amp;quot;news in newsList&amp;quot; :key&amp;#x3D;&amp;quot;news.id&amp;quot; :to&amp;#x3D;&amp;quot;&amp;#123;path:&amp;#39;&amp;#x2F;news&amp;#x2F;detail&amp;#39;&amp;#125;&amp;quot;&amp;gt;
        &amp;#123;&amp;#123;news.name&amp;#125;&amp;#125;
      &amp;lt;&amp;#x2F;RouterLink&amp;gt;
    &amp;lt;&amp;#x2F;nav&amp;gt;
    &amp;lt;div class&amp;#x3D;&amp;quot;news-detail&amp;quot;&amp;gt;
      &amp;lt;RouterView&amp;#x2F;&amp;gt;
    &amp;lt;&amp;#x2F;div&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-8-【路由传参】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-8-【路由传参】&#34;&gt;&lt;/a&gt;4.8. 【路由传参】&lt;/h2&gt;
&lt;h3 id=&#34;query参数&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#query参数&#34;&gt;&lt;/a&gt;query参数&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;传递参数&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;!-- 跳转并携带query参数（to的字符串写法） --&amp;gt;
&amp;lt;router-link to&amp;#x3D;&amp;quot;&amp;#x2F;news&amp;#x2F;detail?a&amp;#x3D;1&amp;amp;b&amp;#x3D;2&amp;amp;content&amp;#x3D;欢迎你&amp;quot;&amp;gt;
	跳转
&amp;lt;&amp;#x2F;router-link&amp;gt;
				
&amp;lt;!-- 跳转并携带query参数（to的对象写法） --&amp;gt;
&amp;lt;RouterLink 
  :to&amp;#x3D;&amp;quot;&amp;#123;
    &amp;#x2F;&amp;#x2F;name:&amp;#39;xiang&amp;#39;, &amp;#x2F;&amp;#x2F;用name也可以跳转
    path:&amp;#39;&amp;#x2F;news&amp;#x2F;detail&amp;#39;,
    query:&amp;#123;
      id:news.id,
      title:news.title,
      content:news.content
    &amp;#125;
  &amp;#125;&amp;quot;
&amp;gt;
  &amp;#123;&amp;#123;news.title&amp;#125;&amp;#125;
&amp;lt;&amp;#x2F;RouterLink&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;接收参数：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;useRoute&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;vue-router&#39;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; route &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;useRoute&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;// 打印query参数&lt;/span&gt;
console&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;route&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;query&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;params参数&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#params参数&#34;&gt;&lt;/a&gt;params参数&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;传递参数&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;!-- 跳转并携带params参数（to的字符串写法） --&amp;gt;
&amp;lt;RouterLink :to&amp;#x3D;&amp;quot;&amp;#96;&amp;#x2F;news&amp;#x2F;detail&amp;#x2F;001&amp;#x2F;新闻001&amp;#x2F;内容001&amp;#96;&amp;quot;&amp;gt;&amp;#123;&amp;#123;news.title&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;RouterLink&amp;gt;
				
&amp;lt;!-- 跳转并携带params参数（to的对象写法） --&amp;gt;
&amp;lt;RouterLink 
  :to&amp;#x3D;&amp;quot;&amp;#123;
    name:&amp;#39;xiang&amp;#39;, &amp;#x2F;&amp;#x2F;用name跳转
    params:&amp;#123;
      id:news.id,
      title:news.title,
      content:news.title
    &amp;#125;
  &amp;#125;&amp;quot;
&amp;gt;
  &amp;#123;&amp;#123;news.title&amp;#125;&amp;#125;
&amp;lt;&amp;#x2F;RouterLink&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;接收参数：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;useRoute&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;vue-router&#39;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; route &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;useRoute&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;// 打印params参数&lt;/span&gt;
console&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;route&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;params&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;备注1：传递&lt;code&gt;params&lt;/code&gt;参数时，若使用&lt;code&gt;to&lt;/code&gt;的对象写法，必须使用&lt;code&gt;name&lt;/code&gt;配置项，不能用&lt;code&gt;path&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;备注2：传递&lt;code&gt;params&lt;/code&gt;参数时，需要提前在规则中占位。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;4-9-【路由的props配置】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-9-【路由的props配置】&#34;&gt;&lt;/a&gt;4.9. 【路由的props配置】&lt;/h2&gt;
&lt;p&gt;作用：让路由组件更方便的收到参数（可以将路由参数作为&lt;code&gt;props&lt;/code&gt;传给组件）&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
	&lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;xiang&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;token literal-property property&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;detail/:id/:title/:content&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;token literal-property property&#34;&gt;component&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;Detail&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;

  &lt;span class=&#34;token comment&#34;&gt;// props的对象写法，作用：把对象中的每一组key-value作为props传给Detail组件&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// props:&amp;#123;a:1,b:2,c:3&amp;#125;, &lt;/span&gt;

  &lt;span class=&#34;token comment&#34;&gt;// props的布尔值写法，作用：把收到了每一组params参数，作为props传给Detail组件&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// props:true&lt;/span&gt;
  
  &lt;span class=&#34;token comment&#34;&gt;// props的函数写法，作用：把返回的对象中每一组key-value作为props传给Detail组件&lt;/span&gt;
  &lt;span class=&#34;token function&#34;&gt;props&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;route&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; route&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;query
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-10-【-replace属性】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-10-【-replace属性】&#34;&gt;&lt;/a&gt;4.10. 【 replace属性】&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;作用：控制路由跳转时操作浏览器历史记录的模式。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;浏览器的历史记录有两种写入方式：分别为&lt;code&gt;push&lt;/code&gt;和&lt;code&gt;replace&lt;/code&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;push&lt;/code&gt;是追加历史记录（默认值）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;replace&lt;/code&gt;是替换当前记录。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;开启&lt;code&gt;replace&lt;/code&gt;模式：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;RouterLink replace .......&amp;gt;News&amp;lt;&amp;#x2F;RouterLink&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-11-【编程式导航】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-11-【编程式导航】&#34;&gt;&lt;/a&gt;4.11. 【编程式导航】&lt;/h2&gt;
&lt;p&gt;路由组件的两个重要的属性：&lt;code&gt;$route&lt;/code&gt;和&lt;code&gt;$router&lt;/code&gt;变成了两个&lt;code&gt;hooks&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;useRoute&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;useRouter&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;vue-router&#39;&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; route &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;useRoute&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; router &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;useRouter&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

console&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;route&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;query&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
console&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;route&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;parmas&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
console&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;router&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;push&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
console&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;router&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;replace&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-12-【重定向】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#4-12-【重定向】&#34;&gt;&lt;/a&gt;4.12. 【重定向】&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;作用：将特定的路径，重新定向到已有路由。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;具体编码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;redirect&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;/about&#39;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;5-pinia&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#5-pinia&#34;&gt;&lt;/a&gt;5. pinia&lt;/h1&gt;
&lt;h2 id=&#34;5-1【准备一个效果】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#5-1【准备一个效果】&#34;&gt;&lt;/a&gt;5.1【准备一个效果】&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://img.aixcc.top/file/f14ee7ea7c72a9003d7b8.gif&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;5-2【搭建-pinia-环境】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#5-2【搭建-pinia-环境】&#34;&gt;&lt;/a&gt;5.2【搭建 pinia 环境】&lt;/h2&gt;
&lt;p&gt;第一步：&lt;code&gt;npm install pinia&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;第二步：操作&lt;code&gt;src/main.ts&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-typescript&#34; data-language=&#34;typescript&#34;&gt;&lt;code class=&#34;language-typescript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt; createApp &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;vue&#39;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; App &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;./App.vue&#39;&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/* 引入createPinia，用于创建pinia */&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt; createPinia &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;pinia&#39;&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/* 创建pinia */&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; pinia &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;createPinia&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; app &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;createApp&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;App&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/* 使用插件 */&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
app&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;use&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;pinia&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
app&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;mount&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;#app&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;此时开发者工具中已经有了&lt;code&gt;pinia&lt;/code&gt;选项&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alist.aixcc.top/d/OneDrive/img/202407151232851.webp&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;5-3【存储-读取数据】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#5-3【存储-读取数据】&#34;&gt;&lt;/a&gt;5.3【存储+读取数据】&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Store&lt;/code&gt;是一个保存：&lt;strong&gt;状态&lt;/strong&gt;、&lt;strong&gt;业务逻辑&lt;/strong&gt; 的实体，每个组件都可以&lt;strong&gt;读取&lt;/strong&gt;、&lt;strong&gt;写入&lt;/strong&gt;它。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;它有三个概念：&lt;code&gt;state&lt;/code&gt;、&lt;code&gt;getter&lt;/code&gt;、&lt;code&gt;action&lt;/code&gt;，相当于组件中的： &lt;code&gt;data&lt;/code&gt;、 &lt;code&gt;computed&lt;/code&gt; 和 &lt;code&gt;methods&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;具体编码：&lt;code&gt;src/store/count.ts&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-typescript&#34; data-language=&#34;typescript&#34;&gt;&lt;code class=&#34;language-typescript&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;// 引入defineStore用于创建store&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;defineStore&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;pinia&#39;&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;// 定义并暴露一个store&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; useCountStore &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;defineStore&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;count&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// 动作&lt;/span&gt;
  actions&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// 状态&lt;/span&gt;
  &lt;span class=&#34;token function&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
      sum&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;6&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// 计算&lt;/span&gt;
  getters&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;具体编码：&lt;code&gt;src/store/talk.ts&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;// 引入defineStore用于创建store&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;defineStore&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;pinia&#39;&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;// 定义并暴露一个store&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; useTalkStore &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;defineStore&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;talk&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// 动作&lt;/span&gt;
  &lt;span class=&#34;token literal-property property&#34;&gt;actions&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// 状态&lt;/span&gt;
  &lt;span class=&#34;token function&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
      &lt;span class=&#34;token literal-property property&#34;&gt;talkList&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;yuysada01&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;你今天有点怪，哪里怪？怪好看的！&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
     		&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;yuysada02&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;草莓、蓝莓、蔓越莓，你想我了没？&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;yuysada03&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;心里给你留了一块地，我的死心塌地&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// 计算&lt;/span&gt;
  &lt;span class=&#34;token literal-property property&#34;&gt;getters&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;组件中使用&lt;code&gt;state&lt;/code&gt;中的数据&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;h2&amp;gt;当前求和为：&amp;#123;&amp;#123; sumStore.sum &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;Count&amp;quot;&amp;gt;
  &amp;#x2F;&amp;#x2F; 引入对应的useXxxxxStore	
  import &amp;#123;useSumStore&amp;#125; from &amp;#39;@&amp;#x2F;store&amp;#x2F;sum&amp;#39;
  
  &amp;#x2F;&amp;#x2F; 调用useXxxxxStore得到对应的store
  const sumStore &amp;#x3D; useSumStore()
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
	&amp;lt;ul&amp;gt;
    &amp;lt;li v-for&amp;#x3D;&amp;quot;talk in talkStore.talkList&amp;quot; :key&amp;#x3D;&amp;quot;talk.id&amp;quot;&amp;gt;
      &amp;#123;&amp;#123; talk.content &amp;#125;&amp;#125;
    &amp;lt;&amp;#x2F;li&amp;gt;
  &amp;lt;&amp;#x2F;ul&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;Count&amp;quot;&amp;gt;
  import axios from &amp;#39;axios&amp;#39;
  import &amp;#123;useTalkStore&amp;#125; from &amp;#39;@&amp;#x2F;store&amp;#x2F;talk&amp;#39;

  const talkStore &amp;#x3D; useTalkStore()
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;5-4-【修改数据】-三种方式&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#5-4-【修改数据】-三种方式&#34;&gt;&lt;/a&gt;5.4.【修改数据】(三种方式)&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;第一种修改方式，直接修改&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-typescript&#34; data-language=&#34;typescript&#34;&gt;&lt;code class=&#34;language-typescript&#34;&gt;countStore&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;sum &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;666&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;第二种修改方式：批量修改&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-typescript&#34; data-language=&#34;typescript&#34;&gt;&lt;code class=&#34;language-typescript&#34;&gt;countStore&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;$patch&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  sum&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;999&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  school&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;atguigu&#39;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;第三种修改方式：借助&lt;code&gt;action&lt;/code&gt;修改（&lt;code&gt;action&lt;/code&gt;中可以编写一些业务逻辑）&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt; defineStore &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;pinia&#39;&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; useCountStore &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;defineStore&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;count&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;/*************/&lt;/span&gt;
  &lt;span class=&#34;token literal-property property&#34;&gt;actions&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;//加&lt;/span&gt;
    &lt;span class=&#34;token function&#34;&gt;increment&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;&lt;span class=&#34;token literal-property property&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;number&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
      &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;sum &lt;span class=&#34;token operator&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
        &lt;span class=&#34;token comment&#34;&gt;//操作countStore中的sum&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;sum &lt;span class=&#34;token operator&#34;&gt;+=&lt;/span&gt; value
      &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;//减&lt;/span&gt;
    &lt;span class=&#34;token function&#34;&gt;decrement&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;&lt;span class=&#34;token literal-property property&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;number&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
      &lt;span class=&#34;token keyword&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;sum &lt;span class=&#34;token operator&#34;&gt;&gt;&lt;/span&gt; &lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;sum &lt;span class=&#34;token operator&#34;&gt;-=&lt;/span&gt; value
      &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;/*************/&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;组件中调用&lt;code&gt;action&lt;/code&gt;即可&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;// 使用countStore&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; countStore &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;useCountStore&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;// 调用对应action&lt;/span&gt;
countStore&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;incrementOdd&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;n&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;value&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;5-5-【storeToRefs】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#5-5-【storeToRefs】&#34;&gt;&lt;/a&gt;5.5.【storeToRefs】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;借助&lt;code&gt;storeToRefs&lt;/code&gt;将&lt;code&gt;store&lt;/code&gt;中的数据转为&lt;code&gt;ref&lt;/code&gt;对象，方便在模板中使用。&lt;/li&gt;
&lt;li&gt;注意：&lt;code&gt;pinia&lt;/code&gt;提供的&lt;code&gt;storeToRefs&lt;/code&gt;只会将数据做转换，而&lt;code&gt;Vue&lt;/code&gt;的&lt;code&gt;toRefs&lt;/code&gt;会转换&lt;code&gt;store&lt;/code&gt;中数据。&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
	&amp;lt;div class&amp;#x3D;&amp;quot;count&amp;quot;&amp;gt;
		&amp;lt;h2&amp;gt;当前求和为：&amp;#123;&amp;#123;sum&amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h2&amp;gt;
	&amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;Count&amp;quot;&amp;gt;
  import &amp;#123; useCountStore &amp;#125; from &amp;#39;@&amp;#x2F;store&amp;#x2F;count&amp;#39;
  &amp;#x2F;* 引入storeToRefs *&amp;#x2F;
  import &amp;#123; storeToRefs &amp;#125; from &amp;#39;pinia&amp;#39;

	&amp;#x2F;* 得到countStore *&amp;#x2F;
  const countStore &amp;#x3D; useCountStore()
  &amp;#x2F;* 使用storeToRefs转换countStore，随后解构 *&amp;#x2F;
  const &amp;#123;sum&amp;#125; &amp;#x3D; storeToRefs(countStore)
&amp;lt;&amp;#x2F;script&amp;gt;
&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;5-6-【getters】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#5-6-【getters】&#34;&gt;&lt;/a&gt;5.6.【getters】&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;概念：当&lt;code&gt;state&lt;/code&gt;中的数据，需要经过处理后再使用时，可以使用&lt;code&gt;getters&lt;/code&gt;配置。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;追加&lt;code&gt;getters&lt;/code&gt;配置。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;// 引入defineStore用于创建store&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;defineStore&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;pinia&#39;&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;// 定义并暴露一个store&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; useCountStore &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;defineStore&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;count&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// 动作&lt;/span&gt;
  &lt;span class=&#34;token literal-property property&#34;&gt;actions&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;/************/&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// 状态&lt;/span&gt;
  &lt;span class=&#34;token function&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
      &lt;span class=&#34;token literal-property property&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token literal-property property&#34;&gt;school&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;atguigu&#39;&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// 计算&lt;/span&gt;
  &lt;span class=&#34;token literal-property property&#34;&gt;getters&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token literal-property property&#34;&gt;bigSum&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;state&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token parameter&#34;&gt;number&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt; state&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;sum &lt;span class=&#34;token operator&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;token function&#34;&gt;upperSchool&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;string&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
      &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt; school&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;toUpperCase&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;组件中读取数据：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;increment&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;decrement&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; countStore
&lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;sum&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;school&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;bigSum&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;upperSchool&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;storeToRefs&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;countStore&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;5-7-【-subscribe】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#5-7-【-subscribe】&#34;&gt;&lt;/a&gt;5.7.【$subscribe】&lt;/h2&gt;
&lt;p&gt;通过 store 的 &lt;code&gt;$subscribe()&lt;/code&gt; 方法侦听 &lt;code&gt;state&lt;/code&gt; 及其变化&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-typescript&#34; data-language=&#34;typescript&#34;&gt;&lt;code class=&#34;language-typescript&#34;&gt;talkStore&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;$subscribe&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;mutate&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;state&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token builtin&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;LoveTalk&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;mutate&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;state&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
  localStorage&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;setItem&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;talk&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token constant&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;stringify&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;talkList&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;value&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;5-8-【store组合式写法】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#5-8-【store组合式写法】&#34;&gt;&lt;/a&gt;5.8. 【store组合式写法】&lt;/h2&gt;
&lt;pre class=&#34;line-numbers language-typescript&#34; data-language=&#34;typescript&#34;&gt;&lt;code class=&#34;language-typescript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;defineStore&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;pinia&#39;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; axios &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;axios&#39;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;nanoid&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;nanoid&#39;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;reactive&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#39;vue&#39;&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; useTalkStore &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;defineStore&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;talk&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// talkList就是state&lt;/span&gt;
  &lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; talkList &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;reactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;
    &lt;span class=&#34;token constant&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;parse&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;localStorage&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;getItem&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;talkList&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;token builtin&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

  &lt;span class=&#34;token comment&#34;&gt;// getATalk函数相当于action&lt;/span&gt;
  &lt;span class=&#34;token keyword&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;getATalk&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;// 发请求，下面这行的写法是：连续解构赋值+重命名&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;data&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;content&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;title&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;await&lt;/span&gt; axios&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;https://api.uomg.com/api/rand.qinghua?format=json&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;// 把请求回来的字符串，包装成一个对象&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; obj &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;id&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;nanoid&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;title&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
    &lt;span class=&#34;token comment&#34;&gt;// 放到数组中&lt;/span&gt;
    talkList&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;unshift&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;obj&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
  &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;talkList&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;getATalk&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;6-组件通信&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#6-组件通信&#34;&gt;&lt;/a&gt;6. 组件通信&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;Vue3&lt;/code&gt;组件通信和&lt;code&gt;Vue2&lt;/code&gt;的区别：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;移出事件总线，使用&lt;code&gt;mitt&lt;/code&gt;代替。&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;vuex&lt;/code&gt;换成了&lt;code&gt;pinia&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;把&lt;code&gt;.sync&lt;/code&gt;优化到了&lt;code&gt;v-model&lt;/code&gt;里面了。&lt;/li&gt;
&lt;li&gt;把&lt;code&gt;$listeners&lt;/code&gt;所有的东西，合并到&lt;code&gt;$attrs&lt;/code&gt;中了。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$children&lt;/code&gt;被砍掉了。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;常见搭配形式：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://alist.aixcc.top/d/OneDrive/img/202407151232507.webp&#34; alt=&#34;image-20231119185900990&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;6-1-【props】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#6-1-【props】&#34;&gt;&lt;/a&gt;6.1. 【props】&lt;/h2&gt;
&lt;p&gt;概述：&lt;code&gt;props&lt;/code&gt;是使用频率最高的一种通信方式，常用与 ：&lt;strong&gt;父 ↔ 子&lt;/strong&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;若 &lt;strong&gt;父传子&lt;/strong&gt;：属性值是&lt;strong&gt;非函数&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;若 &lt;strong&gt;子传父&lt;/strong&gt;：属性值是&lt;strong&gt;函数&lt;/strong&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;父组件：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;father&amp;quot;&amp;gt;
    &amp;lt;h3&amp;gt;父组件，&amp;lt;&amp;#x2F;h3&amp;gt;
		&amp;lt;h4&amp;gt;我的车：&amp;#123;&amp;#123; car &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
		&amp;lt;h4&amp;gt;儿子给的玩具：&amp;#123;&amp;#123; toy &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
		&amp;lt;Child :car&amp;#x3D;&amp;quot;car&amp;quot; :getToy&amp;#x3D;&amp;quot;getToy&amp;quot;&amp;#x2F;&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;Father&amp;quot;&amp;gt;
	import Child from &amp;#39;.&amp;#x2F;Child.vue&amp;#39;
	import &amp;#123; ref &amp;#125; from &amp;quot;vue&amp;quot;;
	&amp;#x2F;&amp;#x2F; 数据
	const car &amp;#x3D; ref(&amp;#39;奔驰&amp;#39;)
	const toy &amp;#x3D; ref()
	&amp;#x2F;&amp;#x2F; 方法
	function getToy(value:string)&amp;#123;
		toy.value &amp;#x3D; value
	&amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;子组件&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;child&amp;quot;&amp;gt;
    &amp;lt;h3&amp;gt;子组件&amp;lt;&amp;#x2F;h3&amp;gt;
		&amp;lt;h4&amp;gt;我的玩具：&amp;#123;&amp;#123; toy &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
		&amp;lt;h4&amp;gt;父给我的车：&amp;#123;&amp;#123; car &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
		&amp;lt;button @click&amp;#x3D;&amp;quot;getToy(toy)&amp;quot;&amp;gt;玩具给父亲&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;Child&amp;quot;&amp;gt;
	import &amp;#123; ref &amp;#125; from &amp;quot;vue&amp;quot;;
	const toy &amp;#x3D; ref(&amp;#39;奥特曼&amp;#39;)
	
	defineProps([&amp;#39;car&amp;#39;,&amp;#39;getToy&amp;#39;])
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;6-2-【自定义事件】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#6-2-【自定义事件】&#34;&gt;&lt;/a&gt;6.2. 【自定义事件】&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;概述：自定义事件常用于：&lt;strong&gt;子 =&amp;gt; 父。&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;注意区分好：原生事件、自定义事件。&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;原生事件：
&lt;ul&gt;
&lt;li&gt;事件名是特定的（&lt;code&gt;click&lt;/code&gt;、&lt;code&gt;mosueenter&lt;/code&gt;等等）&lt;/li&gt;
&lt;li&gt;事件对象&lt;code&gt;$event&lt;/code&gt;: 是包含事件相关信息的对象（&lt;code&gt;pageX&lt;/code&gt;、&lt;code&gt;pageY&lt;/code&gt;、&lt;code&gt;target&lt;/code&gt;、&lt;code&gt;keyCode&lt;/code&gt;）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;自定义事件：
&lt;ul&gt;
&lt;li&gt;事件名是任意名称&lt;/li&gt;
&lt;li&gt;&lt;strong style=&#34;color:red&#34;&gt;事件对象&lt;code&gt;$event&lt;/code&gt;: 是调用&lt;code&gt;emit&lt;/code&gt;时所提供的数据，可以是任意类型！！！&lt;/strong &gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;
&lt;p&gt;示例：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-markup&#34; data-language=&#34;markup&#34;&gt;&lt;code class=&#34;language-markup&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;&amp;lt;!--在父组件中，给子组件绑定自定义事件：--&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;Child&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;@send-toy&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;toy = $event&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;&amp;lt;!--注意区分原生事件与自定义事件中的$event--&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;@click&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;toy = $event&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;测试&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;//子组件中，触发事件：&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;$emit&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;send-toy&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; 具体数据&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;6-3-【mitt】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#6-3-【mitt】&#34;&gt;&lt;/a&gt;6.3. 【mitt】&lt;/h2&gt;
&lt;p&gt;概述：与消息订阅与发布（&lt;code&gt;pubsub&lt;/code&gt;）功能类似，可以实现任意组件间通信。&lt;/p&gt;
&lt;p&gt;安装&lt;code&gt;mitt&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-bash&#34; data-language=&#34;bash&#34;&gt;&lt;code class=&#34;language-bash&#34;&gt;&lt;span class=&#34;token function&#34;&gt;npm&lt;/span&gt; i mitt&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;新建文件：&lt;code&gt;src\utils\emitter.ts&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;// 引入mitt &lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; mitt &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;mitt&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;// 创建emitter&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; emitter &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;mitt&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/*
  // 绑定事件
  emitter.on(&#39;abc&#39;,(value)=&gt;&amp;#123;
    console.log(&#39;abc事件被触发&#39;,value)
  &amp;#125;)
  emitter.on(&#39;xyz&#39;,(value)=&gt;&amp;#123;
    console.log(&#39;xyz事件被触发&#39;,value)
  &amp;#125;)

  setInterval(() =&gt; &amp;#123;
    // 触发事件
    emitter.emit(&#39;abc&#39;,666)
    emitter.emit(&#39;xyz&#39;,777)
  &amp;#125;, 1000);

  setTimeout(() =&gt; &amp;#123;
    // 清理事件
    emitter.all.clear()
  &amp;#125;, 3000); 
*/&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;// 创建并暴露mitt&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;default&lt;/span&gt; emitter&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;接收数据的组件中：绑定事件、同时在销毁前解绑事件：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-typescript&#34; data-language=&#34;typescript&#34;&gt;&lt;code class=&#34;language-typescript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; emitter &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;@/utils/emitter&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt; onUnmounted &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;vue&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;// 绑定事件&lt;/span&gt;
emitter&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;send-toy&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;value&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token builtin&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;send-toy事件被触发&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;value&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;token function&#34;&gt;onUnmounted&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// 解绑事件&lt;/span&gt;
  emitter&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;off&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;send-toy&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;【第三步】：提供数据的组件，在合适的时候触发事件&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; emitter &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;@/utils/emitter&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;sendToy&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token comment&#34;&gt;// 触发事件&lt;/span&gt;
  emitter&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;emit&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;send-toy&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;toy&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;value&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;注意这个重要的内置关系，总线依赖着这个内置关系&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;6-4-【v-model】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#6-4-【v-model】&#34;&gt;&lt;/a&gt;6.4.【v-model】&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;概述：实现 &lt;strong&gt;父↔子&lt;/strong&gt; 之间相互通信。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;前序知识 —— &lt;code&gt;v-model&lt;/code&gt;的本质&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;!-- 使用v-model指令 --&amp;gt;
&amp;lt;input type&amp;#x3D;&amp;quot;text&amp;quot; v-model&amp;#x3D;&amp;quot;userName&amp;quot;&amp;gt;

&amp;lt;!-- v-model的本质是下面这行代码 --&amp;gt;
&amp;lt;input 
  type&amp;#x3D;&amp;quot;text&amp;quot; 
  :value&amp;#x3D;&amp;quot;userName&amp;quot; 
  @input&amp;#x3D;&amp;quot;userName &amp;#x3D;(&amp;lt;HTMLInputElement&amp;gt;$event.target).value&amp;quot;
&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;组件标签上的&lt;code&gt;v-model&lt;/code&gt;的本质：&lt;code&gt;:moldeValue&lt;/code&gt; ＋ &lt;code&gt;update:modelValue&lt;/code&gt;事件。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;!-- 组件标签上使用v-model指令 --&amp;gt;
&amp;lt;AtguiguInput v-model&amp;#x3D;&amp;quot;userName&amp;quot;&amp;#x2F;&amp;gt;

&amp;lt;!-- 组件标签上v-model的本质 --&amp;gt;
&amp;lt;AtguiguInput :modelValue&amp;#x3D;&amp;quot;userName&amp;quot; @update:model-value&amp;#x3D;&amp;quot;userName &amp;#x3D; $event&amp;quot;&amp;#x2F;&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;AtguiguInput&lt;/code&gt;组件中：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;box&amp;quot;&amp;gt;
    &amp;lt;!--将接收的value值赋给input元素的value属性，目的是：为了呈现数据 --&amp;gt;
		&amp;lt;!--给input元素绑定原生input事件，触发input事件时，进而触发update:model-value事件--&amp;gt;
    &amp;lt;input 
       type&amp;#x3D;&amp;quot;text&amp;quot; 
       :value&amp;#x3D;&amp;quot;modelValue&amp;quot; 
       @input&amp;#x3D;&amp;quot;emit(&amp;#39;update:model-value&amp;#39;,$event.target.value)&amp;quot;
    &amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;AtguiguInput&amp;quot;&amp;gt;
  &amp;#x2F;&amp;#x2F; 接收props
  defineProps([&amp;#39;modelValue&amp;#39;])
  &amp;#x2F;&amp;#x2F; 声明事件
  const emit &amp;#x3D; defineEmits([&amp;#39;update:model-value&amp;#39;])
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;也可以更换&lt;code&gt;value&lt;/code&gt;，例如改成&lt;code&gt;abc&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;!-- 也可以更换value，例如改成abc--&amp;gt;
&amp;lt;AtguiguInput v-model:abc&amp;#x3D;&amp;quot;userName&amp;quot;&amp;#x2F;&amp;gt;

&amp;lt;!-- 上面代码的本质如下 --&amp;gt;
&amp;lt;AtguiguInput :abc&amp;#x3D;&amp;quot;userName&amp;quot; @update:abc&amp;#x3D;&amp;quot;userName &amp;#x3D; $event&amp;quot;&amp;#x2F;&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;AtguiguInput&lt;/code&gt;组件中：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;box&amp;quot;&amp;gt;
    &amp;lt;input 
       type&amp;#x3D;&amp;quot;text&amp;quot; 
       :value&amp;#x3D;&amp;quot;abc&amp;quot; 
       @input&amp;#x3D;&amp;quot;emit(&amp;#39;update:abc&amp;#39;,$event.target.value)&amp;quot;
    &amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;AtguiguInput&amp;quot;&amp;gt;
  &amp;#x2F;&amp;#x2F; 接收props
  defineProps([&amp;#39;abc&amp;#39;])
  &amp;#x2F;&amp;#x2F; 声明事件
  const emit &amp;#x3D; defineEmits([&amp;#39;update:abc&amp;#39;])
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果&lt;code&gt;value&lt;/code&gt;可以更换，那么就可以在组件标签上多次使用&lt;code&gt;v-model&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;AtguiguInput v-model:abc&amp;#x3D;&amp;quot;userName&amp;quot; v-model:xyz&amp;#x3D;&amp;quot;password&amp;quot;&amp;#x2F;&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;6-5-【-attrs-】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#6-5-【-attrs-】&#34;&gt;&lt;/a&gt;6.5.【$attrs 】&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;概述：&lt;code&gt;$attrs&lt;/code&gt;用于实现&lt;strong&gt;当前组件的父组件&lt;/strong&gt;，向&lt;strong&gt;当前组件的子组件&lt;/strong&gt;通信（&lt;strong&gt;祖→孙&lt;/strong&gt;）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;具体说明：&lt;code&gt;$attrs&lt;/code&gt;是一个对象，包含所有父组件传入的标签属性。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;注意：&lt;code&gt;$attrs&lt;/code&gt;会自动排除&lt;code&gt;props&lt;/code&gt;中声明的属性(可以认为声明过的 &lt;code&gt;props&lt;/code&gt; 被子组件自己“消费”了)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;父组件：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;father&amp;quot;&amp;gt;
    &amp;lt;h3&amp;gt;父组件&amp;lt;&amp;#x2F;h3&amp;gt;
		&amp;lt;Child :a&amp;#x3D;&amp;quot;a&amp;quot; :b&amp;#x3D;&amp;quot;b&amp;quot; :c&amp;#x3D;&amp;quot;c&amp;quot; :d&amp;#x3D;&amp;quot;d&amp;quot; v-bind&amp;#x3D;&amp;quot;&amp;#123;x:100,y:200&amp;#125;&amp;quot; :updateA&amp;#x3D;&amp;quot;updateA&amp;quot;&amp;#x2F;&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;Father&amp;quot;&amp;gt;
	import Child from &amp;#39;.&amp;#x2F;Child.vue&amp;#39;
	import &amp;#123; ref &amp;#125; from &amp;quot;vue&amp;quot;;
	let a &amp;#x3D; ref(1)
	let b &amp;#x3D; ref(2)
	let c &amp;#x3D; ref(3)
	let d &amp;#x3D; ref(4)

	function updateA(value)&amp;#123;
		a.value &amp;#x3D; value
	&amp;#125;
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;子组件：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
	&amp;lt;div class&amp;#x3D;&amp;quot;child&amp;quot;&amp;gt;
		&amp;lt;h3&amp;gt;子组件&amp;lt;&amp;#x2F;h3&amp;gt;
		&amp;lt;GrandChild v-bind&amp;#x3D;&amp;quot;$attrs&amp;quot;&amp;#x2F;&amp;gt;
	&amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;Child&amp;quot;&amp;gt;
	import GrandChild from &amp;#39;.&amp;#x2F;GrandChild.vue&amp;#39;
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;孙组件：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
	&amp;lt;div class&amp;#x3D;&amp;quot;grand-child&amp;quot;&amp;gt;
		&amp;lt;h3&amp;gt;孙组件&amp;lt;&amp;#x2F;h3&amp;gt;
		&amp;lt;h4&amp;gt;a：&amp;#123;&amp;#123; a &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
		&amp;lt;h4&amp;gt;b：&amp;#123;&amp;#123; b &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
		&amp;lt;h4&amp;gt;c：&amp;#123;&amp;#123; c &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
		&amp;lt;h4&amp;gt;d：&amp;#123;&amp;#123; d &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
		&amp;lt;h4&amp;gt;x：&amp;#123;&amp;#123; x &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
		&amp;lt;h4&amp;gt;y：&amp;#123;&amp;#123; y &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
		&amp;lt;button @click&amp;#x3D;&amp;quot;updateA(666)&amp;quot;&amp;gt;点我更新A&amp;lt;&amp;#x2F;button&amp;gt;
	&amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;GrandChild&amp;quot;&amp;gt;
	defineProps([&amp;#39;a&amp;#39;,&amp;#39;b&amp;#39;,&amp;#39;c&amp;#39;,&amp;#39;d&amp;#39;,&amp;#39;x&amp;#39;,&amp;#39;y&amp;#39;,&amp;#39;updateA&amp;#39;])
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;6-6-【-refs、-parent】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#6-6-【-refs、-parent】&#34;&gt;&lt;/a&gt;6.6. 【$refs、$parent】&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;概述：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;$refs&lt;/code&gt;用于 ：&lt;strong&gt;父→子。&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$parent&lt;/code&gt;用于：&lt;strong&gt;子→父。&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;原理如下：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;属性&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;$refs&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;值为对象，包含所有被&lt;code&gt;ref&lt;/code&gt;属性标识的&lt;code&gt;DOM&lt;/code&gt;元素或组件实例。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;$parent&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;值为对象，当前组件的父组件实例对象。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;6-7-【provide、inject】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#6-7-【provide、inject】&#34;&gt;&lt;/a&gt;6.7. 【provide、inject】&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;概述：实现&lt;strong&gt;祖孙组件&lt;/strong&gt;直接通信&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;具体使用：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在祖先组件中通过&lt;code&gt;provide&lt;/code&gt;配置向后代组件提供数据&lt;/li&gt;
&lt;li&gt;在后代组件中通过&lt;code&gt;inject&lt;/code&gt;配置来声明接收数据&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;具体编码：&lt;/p&gt;
&lt;p&gt;【第一步】父组件中，使用&lt;code&gt;provide&lt;/code&gt;提供数据&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;father&amp;quot;&amp;gt;
    &amp;lt;h3&amp;gt;父组件&amp;lt;&amp;#x2F;h3&amp;gt;
    &amp;lt;h4&amp;gt;资产：&amp;#123;&amp;#123; money &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
    &amp;lt;h4&amp;gt;汽车：&amp;#123;&amp;#123; car &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;money +&amp;#x3D; 1&amp;quot;&amp;gt;资产+1&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;car.price +&amp;#x3D; 1&amp;quot;&amp;gt;汽车价格+1&amp;lt;&amp;#x2F;button&amp;gt;
    &amp;lt;Child&amp;#x2F;&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;Father&amp;quot;&amp;gt;
  import Child from &amp;#39;.&amp;#x2F;Child.vue&amp;#39;
  import &amp;#123; ref,reactive,provide &amp;#125; from &amp;quot;vue&amp;quot;;
  &amp;#x2F;&amp;#x2F; 数据
  let money &amp;#x3D; ref(100)
  let car &amp;#x3D; reactive(&amp;#123;
    brand:&amp;#39;奔驰&amp;#39;,
    price:100
  &amp;#125;)
  &amp;#x2F;&amp;#x2F; 用于更新money的方法
  function updateMoney(value:number)&amp;#123;
    money.value +&amp;#x3D; value
  &amp;#125;
  &amp;#x2F;&amp;#x2F; 提供数据
  provide(&amp;#39;moneyContext&amp;#39;,&amp;#123;money,updateMoney&amp;#125;)
  provide(&amp;#39;car&amp;#39;,car)
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;注意：子组件中不用编写任何东西，是不受到任何打扰的&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;【第二步】孙组件中使用&lt;code&gt;inject&lt;/code&gt;配置项接受数据。&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
  &amp;lt;div class&amp;#x3D;&amp;quot;grand-child&amp;quot;&amp;gt;
    &amp;lt;h3&amp;gt;我是孙组件&amp;lt;&amp;#x2F;h3&amp;gt;
    &amp;lt;h4&amp;gt;资产：&amp;#123;&amp;#123; money &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
    &amp;lt;h4&amp;gt;汽车：&amp;#123;&amp;#123; car &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h4&amp;gt;
    &amp;lt;button @click&amp;#x3D;&amp;quot;updateMoney(6)&amp;quot;&amp;gt;点我&amp;lt;&amp;#x2F;button&amp;gt;
  &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;

&amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;GrandChild&amp;quot;&amp;gt;
  import &amp;#123; inject &amp;#125; from &amp;#39;vue&amp;#39;;
  &amp;#x2F;&amp;#x2F; 注入数据
 let &amp;#123;money,updateMoney&amp;#125; &amp;#x3D; inject(&amp;#39;moneyContext&amp;#39;,&amp;#123;money:0,updateMoney:(x:number)&amp;#x3D;&amp;gt;&amp;#123;&amp;#125;&amp;#125;)
  let car &amp;#x3D; inject(&amp;#39;car&amp;#39;)
&amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;6-8-【pinia】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#6-8-【pinia】&#34;&gt;&lt;/a&gt;6.8. 【pinia】&lt;/h2&gt;
&lt;p&gt;参考之前&lt;code&gt;pinia&lt;/code&gt;部分的讲解&lt;/p&gt;
&lt;h2 id=&#34;6-9-【slot】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#6-9-【slot】&#34;&gt;&lt;/a&gt;6.9. 【slot】&lt;/h2&gt;
&lt;h3 id=&#34;1-默认插槽&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#1-默认插槽&#34;&gt;&lt;/a&gt;1. 默认插槽&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://alist.aixcc.top/d/OneDrive/img/202407151232099.webp&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;父组件中：
        &amp;lt;Category title&amp;#x3D;&amp;quot;今日热门游戏&amp;quot;&amp;gt;
          &amp;lt;ul&amp;gt;
            &amp;lt;li v-for&amp;#x3D;&amp;quot;g in games&amp;quot; :key&amp;#x3D;&amp;quot;g.id&amp;quot;&amp;gt;&amp;#123;&amp;#123; g.name &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;li&amp;gt;
          &amp;lt;&amp;#x2F;ul&amp;gt;
        &amp;lt;&amp;#x2F;Category&amp;gt;
子组件中：
        &amp;lt;template&amp;gt;
          &amp;lt;div class&amp;#x3D;&amp;quot;item&amp;quot;&amp;gt;
            &amp;lt;h3&amp;gt;&amp;#123;&amp;#123; title &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h3&amp;gt;
            &amp;lt;!-- 默认插槽 --&amp;gt;
            &amp;lt;slot&amp;gt;&amp;lt;&amp;#x2F;slot&amp;gt;
          &amp;lt;&amp;#x2F;div&amp;gt;
        &amp;lt;&amp;#x2F;template&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;2-具名插槽&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#2-具名插槽&#34;&gt;&lt;/a&gt;2. 具名插槽&lt;/h3&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;父组件中：
        &amp;lt;Category title&amp;#x3D;&amp;quot;今日热门游戏&amp;quot;&amp;gt;
          &amp;lt;template v-slot:s1&amp;gt;
            &amp;lt;ul&amp;gt;
              &amp;lt;li v-for&amp;#x3D;&amp;quot;g in games&amp;quot; :key&amp;#x3D;&amp;quot;g.id&amp;quot;&amp;gt;&amp;#123;&amp;#123; g.name &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;li&amp;gt;
            &amp;lt;&amp;#x2F;ul&amp;gt;
          &amp;lt;&amp;#x2F;template&amp;gt;
          &amp;lt;template #s2&amp;gt;
            &amp;lt;a href&amp;#x3D;&amp;quot;&amp;quot;&amp;gt;更多&amp;lt;&amp;#x2F;a&amp;gt;
          &amp;lt;&amp;#x2F;template&amp;gt;
        &amp;lt;&amp;#x2F;Category&amp;gt;
子组件中：
        &amp;lt;template&amp;gt;
          &amp;lt;div class&amp;#x3D;&amp;quot;item&amp;quot;&amp;gt;
            &amp;lt;h3&amp;gt;&amp;#123;&amp;#123; title &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;h3&amp;gt;
            &amp;lt;slot name&amp;#x3D;&amp;quot;s1&amp;quot;&amp;gt;&amp;lt;&amp;#x2F;slot&amp;gt;
            &amp;lt;slot name&amp;#x3D;&amp;quot;s2&amp;quot;&amp;gt;&amp;lt;&amp;#x2F;slot&amp;gt;
          &amp;lt;&amp;#x2F;div&amp;gt;
        &amp;lt;&amp;#x2F;template&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3-作用域插槽&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#3-作用域插槽&#34;&gt;&lt;/a&gt;3. 作用域插槽&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;理解：&lt;span style=&#34;color:red&#34;&gt;数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定。&lt;/span&gt;（新闻数据在&lt;code&gt;News&lt;/code&gt;组件中，但使用数据所遍历出来的结构由&lt;code&gt;App&lt;/code&gt;组件决定）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;具体编码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;父组件中：
      &amp;lt;Game v-slot&amp;#x3D;&amp;quot;params&amp;quot;&amp;gt;
      &amp;lt;!-- &amp;lt;Game v-slot:default&amp;#x3D;&amp;quot;params&amp;quot;&amp;gt; --&amp;gt;
      &amp;lt;!-- &amp;lt;Game #default&amp;#x3D;&amp;quot;params&amp;quot;&amp;gt; --&amp;gt;
        &amp;lt;ul&amp;gt;
          &amp;lt;li v-for&amp;#x3D;&amp;quot;g in params.games&amp;quot; :key&amp;#x3D;&amp;quot;g.id&amp;quot;&amp;gt;&amp;#123;&amp;#123; g.name &amp;#125;&amp;#125;&amp;lt;&amp;#x2F;li&amp;gt;
        &amp;lt;&amp;#x2F;ul&amp;gt;
      &amp;lt;&amp;#x2F;Game&amp;gt;

子组件中：
      &amp;lt;template&amp;gt;
        &amp;lt;div class&amp;#x3D;&amp;quot;category&amp;quot;&amp;gt;
          &amp;lt;h2&amp;gt;今日游戏榜单&amp;lt;&amp;#x2F;h2&amp;gt;
          &amp;lt;slot :games&amp;#x3D;&amp;quot;games&amp;quot; a&amp;#x3D;&amp;quot;哈哈&amp;quot;&amp;gt;&amp;lt;&amp;#x2F;slot&amp;gt;
        &amp;lt;&amp;#x2F;div&amp;gt;
      &amp;lt;&amp;#x2F;template&amp;gt;

      &amp;lt;script setup lang&amp;#x3D;&amp;quot;ts&amp;quot; name&amp;#x3D;&amp;quot;Category&amp;quot;&amp;gt;
        import &amp;#123;reactive&amp;#125; from &amp;#39;vue&amp;#39;
        let games &amp;#x3D; reactive([
          &amp;#123;id:&amp;#39;asgdytsa01&amp;#39;,name:&amp;#39;英雄联盟&amp;#39;&amp;#125;,
          &amp;#123;id:&amp;#39;asgdytsa02&amp;#39;,name:&amp;#39;王者荣耀&amp;#39;&amp;#125;,
          &amp;#123;id:&amp;#39;asgdytsa03&amp;#39;,name:&amp;#39;红色警戒&amp;#39;&amp;#125;,
          &amp;#123;id:&amp;#39;asgdytsa04&amp;#39;,name:&amp;#39;斗罗大陆&amp;#39;&amp;#125;
        ])
      &amp;lt;&amp;#x2F;script&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;7-其它-API&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#7-其它-API&#34;&gt;&lt;/a&gt;7. 其它 API&lt;/h1&gt;
&lt;h2 id=&#34;7-1-【shallowRef-与-shallowReactive-】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#7-1-【shallowRef-与-shallowReactive-】&#34;&gt;&lt;/a&gt;7.1.【shallowRef 与 shallowReactive 】&lt;/h2&gt;
&lt;h3 id=&#34;shallowRef&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#shallowRef&#34;&gt;&lt;/a&gt;&lt;code&gt;shallowRef&lt;/code&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;作用：创建一个响应式数据，但只对顶层属性进行响应式处理。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用法：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; myVar &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;shallowRef&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;initialValue&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;特点：只跟踪引用值的变化，不关心值内部的属性变化。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;shallowReactive&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#shallowReactive&#34;&gt;&lt;/a&gt;&lt;code&gt;shallowReactive&lt;/code&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;作用：创建一个浅层响应式对象，只会使对象的最顶层属性变成响应式的，对象内部的嵌套属性则不会变成响应式的&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用法：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; myObj &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;shallowReactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;特点：对象的顶层属性是响应式的，但嵌套对象的属性不是。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;总结&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#总结&#34;&gt;&lt;/a&gt;总结&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;通过使用 &lt;a href=&#34;https://cn.vuejs.org/api/reactivity-advanced.html#shallowref&#34;&gt;&lt;code&gt;shallowRef()&lt;/code&gt;&lt;/a&gt; 和 &lt;a href=&#34;https://cn.vuejs.org/api/reactivity-advanced.html#shallowreactive&#34;&gt;&lt;code&gt;shallowReactive()&lt;/code&gt;&lt;/a&gt; 来绕开深度响应。浅层式 &lt;code&gt;API&lt;/code&gt; 创建的状态只在其顶层是响应式的，对所有深层的对象不会做任何处理，避免了对每一个内部属性做响应式所带来的性能成本，这使得属性的访问变得更快，可提升性能。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;7-2-【readonly-与-shallowReadonly】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#7-2-【readonly-与-shallowReadonly】&#34;&gt;&lt;/a&gt;7.2.【readonly 与 shallowReadonly】&lt;/h2&gt;
&lt;h3 id=&#34;readonly&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#readonly&#34;&gt;&lt;/a&gt;&lt;strong&gt;&lt;code&gt;readonly&lt;/code&gt;&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;作用：用于创建一个对象的深只读副本。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用法：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; original &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;reactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; readOnlyCopy &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;readonly&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;original&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;特点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对象的所有嵌套属性都将变为只读。&lt;/li&gt;
&lt;li&gt;任何尝试修改这个对象的操作都会被阻止（在开发模式下，还会在控制台中发出警告）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;应用场景：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;创建不可变的状态快照。&lt;/li&gt;
&lt;li&gt;保护全局状态或配置不被修改。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;shallowReadonly&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#shallowReadonly&#34;&gt;&lt;/a&gt;&lt;strong&gt;&lt;code&gt;shallowReadonly&lt;/code&gt;&lt;/strong&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;作用：与 &lt;code&gt;readonly&lt;/code&gt; 类似，但只作用于对象的顶层属性。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用法：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; original &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;reactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; shallowReadOnlyCopy &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;shallowReadonly&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;original&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;特点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;只将对象的顶层属性设置为只读，对象内部的嵌套属性仍然是可变的。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;适用于只需保护对象顶层属性的场景。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;7-3-【toRaw-与-markRaw】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#7-3-【toRaw-与-markRaw】&#34;&gt;&lt;/a&gt;7.3.【toRaw 与 markRaw】&lt;/h2&gt;
&lt;h3 id=&#34;toRaw&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#toRaw&#34;&gt;&lt;/a&gt;&lt;code&gt;toRaw&lt;/code&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;作用：用于获取一个响应式对象的原始对象， &lt;code&gt;toRaw&lt;/code&gt; 返回的对象不再是响应式的，不会触发视图更新。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;官网描述：这是一个可以用于临时读取而不引起代理访问/跟踪开销，或是写入而不触发更改的特殊方法。不建议保存对原始对象的持久引用，请谨慎使用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;何时使用？ —— 在需要将响应式对象传递给非 &lt;code&gt;Vue&lt;/code&gt; 的库或外部系统时，使用 &lt;code&gt;toRaw&lt;/code&gt; 可以确保它们收到的是普通对象&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;具体编码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt; reactive&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;toRaw&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;markRaw&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;isReactive &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;vue&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;token comment&#34;&gt;/* toRaw */&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;// 响应式对象&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; person &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;reactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;tony&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token number&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;// 原始对象&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; rawPerson &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;toRaw&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;person&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;


&lt;span class=&#34;token comment&#34;&gt;/* markRaw */&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; citysd &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;markRaw&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;asdda01&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;北京&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;asdda02&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;上海&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;asdda03&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;天津&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;asdda04&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;重庆&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;// 根据原始对象citys去创建响应式对象citys2 —— 创建失败，因为citys被markRaw标记了&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; citys2 &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;reactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;citys&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
console&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;isReactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;person&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
console&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;isReactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;rawPerson&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
console&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;isReactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;citys&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
console&lt;span class=&#34;token punctuation&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token function&#34;&gt;isReactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;citys2&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;markRaw&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#markRaw&#34;&gt;&lt;/a&gt;&lt;code&gt;markRaw&lt;/code&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;作用：标记一个对象，使其&lt;strong&gt;永远不会&lt;/strong&gt;变成响应式的。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;例如使用&lt;code&gt;mockjs&lt;/code&gt;时，为了防止误把&lt;code&gt;mockjs&lt;/code&gt;变为响应式对象，可以使用 &lt;code&gt;markRaw&lt;/code&gt; 去标记&lt;code&gt;mockjs&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编码：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-javascript&#34; data-language=&#34;javascript&#34;&gt;&lt;code class=&#34;language-javascript&#34;&gt;&lt;span class=&#34;token comment&#34;&gt;/* markRaw */&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; citys &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;markRaw&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;[&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;asdda01&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;北京&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;asdda02&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;上海&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;asdda03&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;天津&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;asdda04&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;token literal-property property&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;重庆&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;token comment&#34;&gt;// 根据原始对象citys去创建响应式对象citys2 —— 创建失败，因为citys被markRaw标记了&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; citys2 &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;reactive&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;citys&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;7-4-【customRef】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#7-4-【customRef】&#34;&gt;&lt;/a&gt;7.4.【customRef】&lt;/h2&gt;
&lt;p&gt;作用：创建一个自定义的&lt;code&gt;ref&lt;/code&gt;，并对其依赖项跟踪和更新触发进行逻辑控制。&lt;/p&gt;
&lt;p&gt;实现防抖效果（&lt;code&gt;useSumRef.ts&lt;/code&gt;）：&lt;/p&gt;
&lt;pre class=&#34;line-numbers language-typescript&#34; data-language=&#34;typescript&#34;&gt;&lt;code class=&#34;language-typescript&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;customRef &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;vue&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;token keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;initValue&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token builtin&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;delay&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token builtin&#34;&gt;number&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; msg &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;customRef&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;track&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;trigger&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;let&lt;/span&gt; timer&lt;span class=&#34;token operator&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;token builtin&#34;&gt;number&lt;/span&gt;
    &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
      &lt;span class=&#34;token function&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
        &lt;span class=&#34;token function&#34;&gt;track&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;// 告诉Vue数据msg很重要，要对msg持续关注，一旦变化就更新&lt;/span&gt;
        &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; initValue
      &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;token function&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;value&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
        &lt;span class=&#34;token function&#34;&gt;clearTimeout&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;timer&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;
        timer &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;setTimeout&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;
          initValue &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; value
          &lt;span class=&#34;token function&#34;&gt;trigger&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;token comment&#34;&gt;//通知Vue数据msg变化了&lt;/span&gt;
        &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt; delay&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
    &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
  &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt; 
  &lt;span class=&#34;token keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt;msg&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;组件中使用：&lt;/p&gt;
&lt;h1 id=&#34;8-Vue3新组件&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#8-Vue3新组件&#34;&gt;&lt;/a&gt;8. Vue3新组件&lt;/h1&gt;
&lt;h2 id=&#34;8-1-【Teleport】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#8-1-【Teleport】&#34;&gt;&lt;/a&gt;8.1. 【Teleport】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;什么是Teleport？—— Teleport 是一种能够将我们的&lt;strong&gt;组件html结构&lt;/strong&gt;移动到指定位置的技术。&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-markup&#34; data-language=&#34;markup&#34;&gt;&lt;code class=&#34;language-markup&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;teleport&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;body&lt;span class=&#34;token punctuation&#34;&gt;&#39;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;modal&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;v-show&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;isShow&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;我是一个弹窗&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;h2&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;我是弹窗中的一些内容&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&#34;token attr-name&#34;&gt;@click&lt;/span&gt;&lt;span class=&#34;token attr-value&#34;&gt;&lt;span class=&#34;token punctuation attr-equals&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;isShow = false&lt;span class=&#34;token punctuation&#34;&gt;&#34;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;关闭弹窗&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token tag&#34;&gt;&lt;span class=&#34;token punctuation&#34;&gt;&amp;lt;/&lt;/span&gt;teleport&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;8-2-【Suspense】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#8-2-【Suspense】&#34;&gt;&lt;/a&gt;8.2. 【Suspense】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;等待异步组件时渲染一些额外内容，让应用有更好的用户体验&lt;/li&gt;
&lt;li&gt;使用步骤：
&lt;ul&gt;
&lt;li&gt;异步引入组件&lt;/li&gt;
&lt;li&gt;使用&lt;code&gt;Suspense&lt;/code&gt;包裹组件，并配置好&lt;code&gt;default&lt;/code&gt; 与 &lt;code&gt;fallback&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;line-numbers language-tsx&#34; data-language=&#34;tsx&#34;&gt;&lt;code class=&#34;language-tsx&#34;&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;token punctuation&#34;&gt;&amp;#123;&lt;/span&gt; defineAsyncComponent&lt;span class=&#34;token punctuation&#34;&gt;,&lt;/span&gt;Suspense &lt;span class=&#34;token punctuation&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span class=&#34;token keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;token string&#34;&gt;&#34;vue&#34;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;token keyword&#34;&gt;const&lt;/span&gt; Child &lt;span class=&#34;token operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;defineAsyncComponent&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token operator&#34;&gt;=&gt;&lt;/span&gt;&lt;span class=&#34;token keyword&#34;&gt;import&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;token string&#34;&gt;&#39;./Child.vue&#39;&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;token punctuation&#34;&gt;)&lt;/span&gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;line-numbers language-vue&#34; data-language=&#34;vue&#34;&gt;&lt;code class=&#34;language-vue&#34;&gt;&amp;lt;template&amp;gt;
    &amp;lt;div class&amp;#x3D;&amp;quot;app&amp;quot;&amp;gt;
        &amp;lt;h3&amp;gt;我是App组件&amp;lt;&amp;#x2F;h3&amp;gt;
        &amp;lt;Suspense&amp;gt;
          &amp;lt;template v-slot:default&amp;gt;
            &amp;lt;Child&amp;#x2F;&amp;gt;
          &amp;lt;&amp;#x2F;template&amp;gt;
          &amp;lt;template v-slot:fallback&amp;gt;
            &amp;lt;h3&amp;gt;加载中.......&amp;lt;&amp;#x2F;h3&amp;gt;
          &amp;lt;&amp;#x2F;template&amp;gt;
        &amp;lt;&amp;#x2F;Suspense&amp;gt;
    &amp;lt;&amp;#x2F;div&amp;gt;
&amp;lt;&amp;#x2F;template&amp;gt;&lt;span aria-hidden=&#34;true&#34; class=&#34;line-numbers-rows&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;8-3-【全局API转移到应用对象】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#8-3-【全局API转移到应用对象】&#34;&gt;&lt;/a&gt;8.3.【全局API转移到应用对象】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;app.component&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;app.config&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;app.directive&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;app.mount&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;app.unmount&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;app.use&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;8-4-【其他】&#34;&gt;&lt;a class=&#34;headerlink&#34; href=&#34;#8-4-【其他】&#34;&gt;&lt;/a&gt;8.4.【其他】&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;过渡类名 &lt;code&gt;v-enter&lt;/code&gt; 修改为 &lt;code&gt;v-enter-from&lt;/code&gt;、过渡类名 &lt;code&gt;v-leave&lt;/code&gt; 修改为 &lt;code&gt;v-leave-from&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;keyCode&lt;/code&gt; 作为 &lt;code&gt;v-on&lt;/code&gt; 修饰符的支持。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;v-model&lt;/code&gt; 指令在组件上的使用已经被重新设计，替换掉了 &lt;code&gt;v-bind.sync。&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;v-if&lt;/code&gt; 和 &lt;code&gt;v-for&lt;/code&gt; 在同一个元素身上使用时的优先级发生了变化。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;移除了&lt;code&gt;$on&lt;/code&gt;、&lt;code&gt;$off&lt;/code&gt; 和 &lt;code&gt;$once&lt;/code&gt; 实例方法。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;移除了过滤器 &lt;code&gt;filter&lt;/code&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;移除了&lt;code&gt;$children&lt;/code&gt; 实例 &lt;code&gt;propert&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;本文内容来源于尚硅谷Vue.js教程，原文地址：&lt;a href=&#34;http://www.atguigu.com/video/284/&#34;&gt;尚硅谷Vue教程&lt;/a&gt;。感谢尚硅谷提供的优秀文档资源。&lt;/strong&gt;&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>