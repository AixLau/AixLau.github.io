<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Vue3å¿«é€Ÿä¸Šæ‰‹ | é™†æ—¶å¿¤çš„åšå®¢</title><noscript>å¼€å¯JavaScriptæ‰èƒ½è®¿é—®æœ¬ç«™å“¦~</noscript><link rel="icon" href="/img/pwa/favicon.ico"><!-- index.css--><link rel="stylesheet" href="/css/index.css?v=1.12.3"><!-- inject head--><link rel="canonical" href="https://blog.aixcc.top/2024/07/13/Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/"><link rel="stylesheet" href="https://cdn2.codesign.qq.com/icons/7pOrz0WXB5ZWJPX/latest/iconfont.css"><!-- aplayer--><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.css"><!-- swiper--><!-- fancybox ui--><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.36/fancybox/fancybox.min.css"><!-- katex--><!-- Open Graph--><meta name="description" content="1. Vue3ç®€ä»‹ 2020å¹´9æœˆ18æ—¥ï¼ŒVue.jså‘å¸ƒç‰ˆ3.0ç‰ˆæœ¬ï¼Œä»£å·ï¼šOne Pieceï¼ˆn ç»å†äº†ï¼š4800+æ¬¡æäº¤ã€40+ä¸ªRFCã€600+æ¬¡PRã€300+è´¡çŒ®è€… å®˜æ–¹å‘ç‰ˆåœ°å€ï¼šRelease v3.0.0 One Piece Â· vuejs&amp;#x2F;core æˆªæ­¢2023å¹´10"><!-- pwa--><meta name="apple-mobile-web-app-capable" content="é™†æ—¶å¿¤çš„åšå®¢"><meta name="theme-color" content="var(--efu-main)"><meta name="apple-mobile-web-app-status-bar-style" content="var(--efu-main)"><link rel="bookmark" href="/img/pwa/favicon.ico"><link rel="apple-touch-icon" href="/img/pwa/favicon.ico" sizes="180x180"><script>console.log(' %c Solitude %c ' + '1.12.3' + ' %c https://github.com/everfu/hexo-theme-solitude',
    'background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff',
    'background:#ff9a9a ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff',
    'background:unset ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff')
</script><script src="/js/custom.js"></script><script>(()=>{
        const saveToLocal = {
            set: function setWithExpiry(key, value, ttl) {
                if (ttl === 0)
                    return
                const now = new Date()
                const expiryDay = ttl * 86400000
                const item = {
                    value: value,
                    expiry: now.getTime() + expiryDay
                }
                localStorage.setItem(key, JSON.stringify(item))
            },
            get: function getWithExpiry(key) {
                const itemStr = localStorage.getItem(key)
    
                if (!itemStr) {
                    return undefined
                }
                const item = JSON.parse(itemStr)
                const now = new Date()
    
                if (now.getTime() > item.expiry) {
                    localStorage.removeItem(key)
                    return undefined
                }
                return item.value
            }
        };
        window.utils = {
            saveToLocal: saveToLocal,
            getCSS: (url, id = false) => new Promise((resolve, reject) => {
              const link = document.createElement('link')
              link.rel = 'stylesheet'
              link.href = url
              if (id) link.id = id
              link.onerror = reject
              link.onload = link.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                link.onload = link.onreadystatechange = null
                resolve()
              }
              document.head.appendChild(link)
            }),
            getScript: (url, attr = {}) => new Promise((resolve, reject) => {
              const script = document.createElement('script')
              script.src = url
              script.async = true
              script.onerror = reject
              script.onload = script.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                script.onload = script.onreadystatechange = null
                resolve()
              }
    
              Object.keys(attr).forEach(key => {
                script.setAttribute(key, attr[key])
              })
    
              document.head.appendChild(script)
            }),
            addGlobalFn: (key, fn, name = false, parent = window) => {
                const globalFn = parent.globalFn || {}
                const keyObj = globalFn[key] || {}
        
                if (name && keyObj[name]) return
        
                name = name || Object.keys(keyObj).length
                keyObj[name] = fn
                globalFn[key] = keyObj
                parent.globalFn = globalFn
            },
        }
    })()</script><!-- global head--><script>const GLOBAL_CONFIG = {
    root: '/',
    algolia: undefined,
    localsearch: {"preload":false,"path":"/search.xml"},
    runtime: '2024-06-15 00:00:00',
    lazyload: {
        enable: false,
        error: '/img/error_load.avif'
    },
    copyright: false,
    highlight: {"limit":200,"expand":true,"copy":true,"syntax":"prismjs"},
    randomlink: false,
    lang: {"theme":{"dark":"å·²åˆ‡æ¢è‡³æ·±è‰²æ¨¡å¼","light":"å·²åˆ‡æ¢è‡³æµ…è‰²æ¨¡å¼"},"copy":{"success":"å¤åˆ¶æˆåŠŸ","error":"å¤åˆ¶å¤±è´¥"},"backtop":"è¿”å›é¡¶éƒ¨","time":{"day":"å¤©å‰","hour":"å°æ—¶å‰","just":"åˆšåˆš","min":"åˆ†é’Ÿå‰","month":"ä¸ªæœˆå‰"},"day":" å¤©","f12":"å¼€å‘è€…æ¨¡å¼å·²æ‰“å¼€ï¼Œè¯·éµå¾ªGPLåè®®ã€‚","totalk":"æ— éœ€åˆ é™¤ç©ºè¡Œï¼Œç›´æ¥è¾“å…¥è¯„è®ºå³å¯","search":{"empty":"æ‰¾ä¸åˆ°ä½ æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hit":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œç”¨æ—¶ ${time} æ¯«ç§’","placeholder":"è¾“å…¥å…³é”®è¯å¿«é€ŸæŸ¥æ‰¾","count":"å…± <b>${count}</b> æ¡ç»“æœã€‚"}},
    aside: {
        sayhello: {
            morning: 'ä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨',
            noon: 'åƒé¥±äº†æ‰æœ‰åŠ›æ°”å¹²æ´»',
            afternoon: 'é›†ä¸­ç²¾åŠ›ï¼Œæ”»å…‹éš¾å…³',
            night: 'ä¸è¦å¤ªåŠ³ç´¯äº†ï¼Œæ—©ç¡æ›´å¥åº·',
            goodnight: 'ç¡ä¸ªå¥½è§‰ï¼Œä¿è¯ç²¾åŠ›å……æ²›',
        },
        sayhello2: ["ğŸ¤–ï¸ æ•°ç ç§‘æŠ€çˆ±å¥½è€…","ğŸ” åˆ†äº«ä¸çƒ­å¿ƒå¸®åŠ©","ğŸ  æ™ºèƒ½å®¶å±…å°èƒ½æ‰‹","ğŸ”¨ è®¾è®¡å¼€å‘ä¸€æ¡é¾™","ğŸ¤ ä¸“ä¿®äº¤äº’ä¸è®¾è®¡","ğŸƒ è„šè¸å®åœ°è¡ŒåŠ¨æ´¾","ğŸ§± å›¢é˜Ÿå°ç»„å‘åŠ¨æœº","ğŸ’¢ å£®æ±‰äººç‹ è¯ä¸å¤š","ğŸ® ç”µç«æ¸¸æˆçˆ±å¥½è€…"],
        sayhello3: {
            prefix: 'å¥½ä¹…ä¸è§ï¼Œ',
            back: 'æ¬¢è¿å†æ¬¡å›æ¥ï¼Œ',
        },
    },
    covercolor: {
        enable: true
    },
    comment: false,
    lightbox: 'fancybox',
    post_ai: false,
    right_menu: {"mode":{"dark":"æ·±è‰²æ¨¡å¼","light":"æµ…è‰²æ¨¡å¼"},"img_error":"æ­¤å›¾ç‰‡æ— æ³•å¤åˆ¶ä¸ä¸‹è½½","music":{"start":"æ’­æ”¾éŸ³ä¹","stop":"æš‚åœéŸ³ä¹"}},
};</script><!-- page-config head--><script id="config-diff">var PAGE_CONFIG = {
    is_post: true,
    is_page: false,
    is_home: false,
    page: '',
    toc: true,
    comment: true,
    ai_text: false
}</script><meta name="generator" content="Hexo 7.2.0"></head><body id="body"><!-- universe--><canvas id="universe"></canvas><!-- loading--><div id="loading-box" onclick="preloader.endLoading();" style="zoom:1"><div class="loading-bg"><img class="loading-img nolazyload" src="https://alist.aixcc.top/d/OneDrive/img/202407151119531.webp" alt="loading image"></div></div><script>const preloader = {
    endLoading: () => {
        document.getElementById('loading-box').classList.toggle('loaded');
    },
    initLoading: () => {
        document.getElementById('loading-box').classList.remove('loaded');
    },
    removePaceDone: () => {
        document.getElementById('body').classList = 'pace-done';
    }
}
window.addEventListener('load', () => {
    preloader.endLoading();
});
window.addEventListener('pjax:send', () => {
    preloader.initLoading();
});
document.addEventListener('pjax:complete', () => {
    preloader.endLoading();
});</script><!-- console--><div id="console"><div class="close-btn" onclick="sco.hideConsole()"><i class="solitude st-close-fill"></i></div><div class="button-group"><div class="console-btn-item"><span class="darkmode_switchbutton" onclick="sco.switchDarkMode()" title="æ˜¼å¤œåˆ‡æ¢"><i class="solitude st-moon-clear-fill"></i></span></div><div class="console-btn-item" id="consoleHideAside"><span class="asideSwitch" onclick="sco.switchHideAside()" title="è¾¹æ æ˜¾ç¤ºæ§åˆ¶"><i class="solitude st-side-bar-fill"></i></span></div><div class="console-btn-item" id="consoleMusic" onclick="sco.musicToggle()"><span class="music-switch" title="éŸ³ä¹å¼€å…³"><i class="solitude st-disc-fill"></i></span></div></div><div class="console-mask" onclick="sco.hideConsole()"></div></div><!-- sidebar--><div id="sidebar" style="zoom: 1;"><div id="menu-mask" style="display: none;"></div><div id="sidebar-menus"><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">21</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">6</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">18</div></a></div></div></div><span class="sidebar-menu-item-title">åŠŸèƒ½</span><div class="sidebar-menu-item"><span class="darkmode_switchbutton menu-child" onclick="sco.switchDarkMode()"><i class="solitude st-moon-clear-fill"></i><span>æ˜¾ç¤ºæ¨¡å¼</span></span></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">å·¥å…·</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://img.aixcc.top/" title="å›¾åºŠ"><img class="nolazyload back-menu-item-icon" src="https://img.aixcc.top/favicon.ico" alt="å›¾åºŠ"><span class="back-menu-item-text">å›¾åºŠ</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://cloud.aixcc.top/" title="ç½‘ç›˜"><img class="nolazyload back-menu-item-icon" src="https://cloud.aixcc.top/static/img/favicon.ico" alt="ç½‘ç›˜"><span class="back-menu-item-text">ç½‘ç›˜</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>æ–‡åº“</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude  st-folder-fill"></i><span>æ–‡ç« åˆ—è¡¨</span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude  st-checkbox-multiple-blank-fill"></i><span>å…¨éƒ¨åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude  st-price-tag-fill"></i><span>å…¨éƒ¨æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/message/"><span>ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span>å…³äº</span></a></div></div><span class="sidebar-menu-item-title">æ ‡ç­¾</span><div class="card-widget card-tags card-archives card-webinfo card-allinfo"><div class="card-tag-cloud"><a href="/tags/Blog/">Blog<sup>2</sup></a><a href="/tags/Java/">Java<sup>7</sup></a><a href="/tags/%E7%AC%94%E8%AE%B0/">ç¬”è®°<sup>2</sup></a><a href="/tags/MySQL/">MySQL<sup>2</sup></a><a href="/tags/Linux/">Linux<sup>4</sup></a><a href="/tags/Mac/">Mac<sup>4</sup></a><a href="/tags/Maven/">Maven<sup>1</sup></a><a href="/tags/MyBatis/">MyBatis<sup>1</sup></a><a href="/tags/%E6%80%BB%E7%BB%93/">æ€»ç»“<sup>5</sup></a><a href="/tags/RabbitMQ/">RabbitMQ<sup>1</sup></a><a href="/tags/Redis/">Redis<sup>1</sup></a><a href="/tags/Spring/">Spring<sup>1</sup></a><a href="/tags/Alist/">Alist<sup>2</sup></a><a href="/tags/Homebrew/">Homebrew<sup>1</sup></a><a href="/tags/Vue/">Vue<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/">å‰ç«¯<sup>1</sup></a><a href="/tags/SSL/">SSL<sup>1</sup></a><a href="/tags/%E5%9F%9F%E5%90%8D/">åŸŸå<sup>1</sup></a></div></div></div></div><!-- keyboard--><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav class="show" id="nav"><div id="nav-group"><div id="blog_name"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon solitude st-more-fill"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">å·¥å…·</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://img.aixcc.top/" title="å›¾åºŠ"><img class="nolazyload back-menu-item-icon" src="https://img.aixcc.top/favicon.ico" alt="å›¾åºŠ"><span class="back-menu-item-text">å›¾åºŠ</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://cloud.aixcc.top/" title="ç½‘ç›˜"><img class="nolazyload back-menu-item-icon" src="https://cloud.aixcc.top/static/img/favicon.ico" alt="ç½‘ç›˜"><span class="back-menu-item-text">ç½‘ç›˜</span></a></div></div></div></div><a id="site-name" href="/" title="è¿”å›åšå®¢ä¸»é¡µ"><span class="title">é™†æ—¶å¿¤</span></a></div><div id="page-name-mask"><div id="page-name"><a id="page-name-text" onclick="sco.toTop()">Vue3å¿«é€Ÿä¸Šæ‰‹</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>æ–‡åº“</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude  st-folder-fill"></i><span>æ–‡ç« åˆ—è¡¨</span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude  st-checkbox-multiple-blank-fill"></i><span>å…¨éƒ¨åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude  st-price-tag-fill"></i><span>å…¨éƒ¨æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/message/"><span>ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><span>å…³äº</span></a></div></div></div><div id="nav-left"></div><div id="nav-right"><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="æœç´¢"><i class="solitude st-search-line"></i></a></div><div class="nav-button" id="nav-console"><a class="console_switchbutton" onclick="sco.showConsole()" title="ä¸­æ§å°" href="javascript:void(0);"><i class="solitude st-dashboard-fill"></i></a></div><div class="nav-button" id="nav-totop" onclick="sco.toTop()"><a class="totopbtn"><i class="solitude st-arrow-up-line"></i><span id="percent">0</span></a></div><div id="toggle-menu"><a class="site-page"><i class="solitude st-menu-line"></i></a></div></div></div></nav><div class="coverdiv" id="coverdiv"><img class="nolazyload" id="post-cover" src="https://alist.aixcc.top/d/OneDrive/img/202407151139287.webp" alt="Vue3å¿«é€Ÿä¸Šæ‰‹"></div><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original" title="è¯¥æ–‡ç« ä¸ºåŸåˆ›æ–‡ç« ï¼Œæ³¨æ„ç‰ˆæƒåè®®">åŸåˆ›</a><span class="post-meta-categories"><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a></span><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/"><span class="tags-name tags-punctuation">Vue</span></a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/"><span class="tags-name tags-punctuation">å‰ç«¯</span></a></div></div></div></div><h1 class="post-title">Vue3å¿«é€Ÿä¸Šæ‰‹</h1><div id="post-meta"><div class="meta-secondline"><span class="post-meta-date" title="å‘å¸ƒäº 2024-07-13 23:56:37"><i class="post-meta-icon solitude st-calendar-todo-fill"></i><time datetime="2024-07-13T15:56:37.000Z">2024-07-13T15:56:37.000Z</time></span><span class="post-meta-date" title="æœ€åæ›´æ–°äº 2024-07-15 12:32:53"><i class="post-meta-icon solitude st-refresh-line"></i><time datetime="2024-07-15T04:32:53.680Z">2024-07-15T04:32:53.680Z</time></span><span class="post-meta-wordcount"><i class="post-meta-icon solitude st-word-fill" title="æ–‡ç« å­—æ•°"></i><span class="word-count">14.7k</span><span class="post-meta-separator"></span><i class="post-meta-icon solitude st-clock-fill" title="é˜…è¯»è€—æ—¶"></i><span>72 min</span></span><a class="post-meta-pv" href="/2024/07/13/Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/" title="æ–‡ç« çƒ­åº¦"><i class="post-meta-icon solitude st-fire-fill"></i><span id="twikoo_visitors"><i class="solitude st-loading-line"></i></span></a><span class="post-meta-commentcount" title="è¯„è®ºæ•°" onclick="sco.scrollTo('post-comment')"><i class="solitude st-chat-fill"></i><a href="/2024/07/13/Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/#post-comment"><span class="twikoo-count"><i class="solitude st-loading-line"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="1-Vue3ç®€ä»‹"><a class="headerlink" href="#1-Vue3ç®€ä»‹"></a>1. Vue3ç®€ä»‹</h1>
<ul>
<li>
<p>2020å¹´9æœˆ18æ—¥ï¼Œ<code>Vue.js</code>å‘å¸ƒç‰ˆ<code>3.0</code>ç‰ˆæœ¬ï¼Œä»£å·ï¼š<code>One Piece</code>ï¼ˆn</p>
</li>
<li>
<p>ç»å†äº†ï¼š<a target="_blank" rel="noopener" href="https://github.com/vuejs/core/commits/main">4800+æ¬¡æäº¤</a>ã€<a target="_blank" rel="noopener" href="https://github.com/vuejs/rfcs/tree/master/active-rfcs">40+ä¸ªRFC</a>ã€<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-next/pulls?q=is%3Apr+is%3Amerged+-author%3Aapp%2Fdependabot-preview+">600+æ¬¡PR</a>ã€<a target="_blank" rel="noopener" href="https://github.com/vuejs/core/graphs/contributors">300+è´¡çŒ®è€…</a></p>
</li>
<li>
<p>å®˜æ–¹å‘ç‰ˆåœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/vuejs/core/releases/tag/v3.0.0">Release v3.0.0 One Piece Â· vuejs/core</a></p>
</li>
<li>
<p>æˆªæ­¢2023å¹´10æœˆï¼Œæœ€æ–°çš„å…¬å¼€ç‰ˆæœ¬ä¸ºï¼š<code>3.3.4</code></p>
<p><img src="https://alist.aixcc.top/d/OneDrive/img/202407151232363.webp" alt="image.png" loading="lazy"></p>
</li>
</ul>
<h2 id="1-1-ã€æ€§èƒ½çš„æå‡ã€‘"><a class="headerlink" href="#1-1-ã€æ€§èƒ½çš„æå‡ã€‘"></a>1.1. ã€æ€§èƒ½çš„æå‡ã€‘</h2>
<ul>
<li>
<p>æ‰“åŒ…å¤§å°å‡å°‘<code>41%</code>ã€‚</p>
</li>
<li>
<p>åˆæ¬¡æ¸²æŸ“å¿«<code>55%</code>, æ›´æ–°æ¸²æŸ“å¿«<code>133%</code>ã€‚</p>
</li>
<li>
<p>å†…å­˜å‡å°‘<code>54%</code>ã€‚</p>
</li>
</ul>
<h2 id="1-2-ã€-æºç çš„å‡çº§ã€‘"><a class="headerlink" href="#1-2-ã€-æºç çš„å‡çº§ã€‘"></a>1.2.ã€ æºç çš„å‡çº§ã€‘</h2>
<ul>
<li>
<p>ä½¿ç”¨<code>Proxy</code>ä»£æ›¿<code>defineProperty</code>å®ç°å“åº”å¼ã€‚</p>
</li>
<li>
<p>é‡å†™è™šæ‹Ÿ<code>DOM</code>çš„å®ç°å’Œ<code>Tree-Shaking</code>ã€‚</p>
</li>
</ul>
<h2 id="1-3-ã€æ‹¥æŠ±TypeScriptã€‘"><a class="headerlink" href="#1-3-ã€æ‹¥æŠ±TypeScriptã€‘"></a>1.3. ã€æ‹¥æŠ±TypeScriptã€‘</h2>
<ul>
<li><code>Vue3</code>å¯ä»¥æ›´å¥½çš„æ”¯æŒ<code>TypeScript</code>ã€‚</li>
</ul>
<h2 id="1-4-ã€æ–°çš„ç‰¹æ€§ã€‘"><a class="headerlink" href="#1-4-ã€æ–°çš„ç‰¹æ€§ã€‘"></a>1.4. ã€æ–°çš„ç‰¹æ€§ã€‘</h2>
<ol>
<li>
<p><code>Composition API</code>ï¼ˆç»„åˆ<code>API</code>ï¼‰ï¼š</p>
<ul>
<li>
<p><code>setup</code></p>
</li>
<li>
<p><code>ref</code>ä¸<code>reactive</code></p>
</li>
<li>
<p><code>computed</code>ä¸<code>watch</code></p>
<p>â€¦</p>
</li>
</ul>
</li>
<li>
<p>æ–°çš„å†…ç½®ç»„ä»¶ï¼š</p>
<ul>
<li>
<p><code>Fragment</code></p>
</li>
<li>
<p><code>Teleport</code></p>
</li>
<li>
<p><code>Suspense</code></p>
<p>â€¦</p>
</li>
</ul>
</li>
<li>
<p>å…¶ä»–æ”¹å˜ï¼š</p>
<ul>
<li>
<p>æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</p>
</li>
<li>
<p><code>data</code> é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°</p>
</li>
<li>
<p>ç§»é™¤<code>keyCode</code>æ”¯æŒä½œä¸º<code> v-on</code> çš„ä¿®é¥°ç¬¦</p>
<p>â€¦</p>
</li>
</ul>
</li>
</ol>
<h1 id="2-åˆ›å»ºVue3å·¥ç¨‹"><a class="headerlink" href="#2-åˆ›å»ºVue3å·¥ç¨‹"></a>2. åˆ›å»ºVue3å·¥ç¨‹</h1>
<h2 id="2-1-ã€åŸºäº-vue-cli-åˆ›å»ºã€‘"><a class="headerlink" href="#2-1-ã€åŸºäº-vue-cli-åˆ›å»ºã€‘"></a>2.1. ã€åŸºäº vue-cli åˆ›å»ºã€‘</h2>
<p>ç‚¹å‡»æŸ¥çœ‹<a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">å®˜æ–¹æ–‡æ¡£</a></p>
<blockquote>
<p>å¤‡æ³¨ï¼šç›®å‰<code>vue-cli</code>å·²å¤„äºç»´æŠ¤æ¨¡å¼ï¼Œå®˜æ–¹æ¨èåŸºäº <code>Vite</code> åˆ›å»ºé¡¹ç›®ã€‚</p>
</blockquote>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token comment">## æŸ¥çœ‹@vue/cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue/cliç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Š</span>
vue <span class="token operator">--</span>version

<span class="token comment">## å®‰è£…æˆ–è€…å‡çº§ä½ çš„@vue/cli </span>
npm install <span class="token operator">-</span>g @vue/<span class="token function">cli</span>

<span class="token comment">## æ‰§è¡Œåˆ›å»ºå‘½ä»¤</span>
vue create vue_test

<span class="token comment">##  éšåé€‰æ‹©3.x</span>
<span class="token comment">##  Choose a version of Vue.js that you want to start the project with (Use arrow keys)</span>
<span class="token comment">##  > 3.x</span>
<span class="token comment">##    2.x</span>

<span class="token comment">## å¯åŠ¨</span>
cd vue_test
npm run serve<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="2-2-ã€åŸºäº-vite-åˆ›å»ºã€‘-æ¨è"><a class="headerlink" href="#2-2-ã€åŸºäº-vite-åˆ›å»ºã€‘-æ¨è"></a>2.2. ã€åŸºäº vite åˆ›å»ºã€‘(æ¨è)</h2>
<p><code>vite</code> æ˜¯æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œå®˜ç½‘åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://vitejs.cn/">https://vitejs.cn</a>ï¼Œ<code>vite</code>çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š</p>
<ul>
<li>è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼ˆ<code>HMR</code>ï¼‰ï¼Œèƒ½å®ç°æé€Ÿçš„æœåŠ¡å¯åŠ¨ã€‚</li>
<li>å¯¹ <code>TypeScript</code>ã€<code>JSX</code>ã€<code>CSS</code> ç­‰æ”¯æŒå¼€ç®±å³ç”¨ã€‚</li>
<li>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆã€‚</li>
<li><code>webpack</code>æ„å»º ä¸ <code>vite</code>æ„å»ºå¯¹æ¯”å›¾å¦‚ä¸‹ï¼š</li>
</ul>
<p><img src="https://alist.aixcc.top/d/OneDrive/img/202407151232253.webp" alt="" loading="lazy"></p>
<p><img src="https://alist.aixcc.top/d/OneDrive/img/202407151232053.webp" alt="" loading="lazy"></p>
<ul>
<li>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼ˆç‚¹å‡»æŸ¥çœ‹<a target="_blank" rel="noopener" href="https://cn.vuejs.org/guide/quick-start.html#creating-a-vue-application">å®˜æ–¹æ–‡æ¡£</a>ï¼‰</li>
</ul>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell"><span class="token comment">## 1.åˆ›å»ºå‘½ä»¤</span>
npm create vue@latest

<span class="token comment">## 2.å…·ä½“é…ç½®</span>
<span class="token comment">## é…ç½®é¡¹ç›®åç§°</span>
âˆš Project name: vue3_test
<span class="token comment">## æ˜¯å¦æ·»åŠ TypeScriptæ”¯æŒ</span>
âˆš Add TypeScript?  Yes
<span class="token comment">## æ˜¯å¦æ·»åŠ JSXæ”¯æŒ</span>
âˆš Add JSX Support?  No
<span class="token comment">## æ˜¯å¦æ·»åŠ è·¯ç”±ç¯å¢ƒ</span>
âˆš Add Vue Router <span class="token keyword">for</span> Single Page Application development?  No
<span class="token comment">## æ˜¯å¦æ·»åŠ piniaç¯å¢ƒ</span>
âˆš Add Pinia <span class="token keyword">for</span> state management?  No
<span class="token comment">## æ˜¯å¦æ·»åŠ å•å…ƒæµ‹è¯•</span>
âˆš Add Vitest <span class="token keyword">for</span> Unit Testing?  No
<span class="token comment">## æ˜¯å¦æ·»åŠ ç«¯åˆ°ç«¯æµ‹è¯•æ–¹æ¡ˆ</span>
âˆš Add an <span class="token keyword">End</span><span class="token operator">-</span>to-<span class="token keyword">End</span> Testing Solution? Â» No
<span class="token comment">## æ˜¯å¦æ·»åŠ ESLintè¯­æ³•æ£€æŸ¥</span>
âˆš Add ESLint <span class="token keyword">for</span> code quality?  Yes
<span class="token comment">## æ˜¯å¦æ·»åŠ Prettiertä»£ç æ ¼å¼åŒ–</span>
âˆš Add Prettier <span class="token keyword">for</span> code formatting?  No<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è‡ªå·±åŠ¨æ‰‹ç¼–å†™ä¸€ä¸ªAppç»„ä»¶</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;app&quot;&gt;
    &lt;h1&gt;ä½ å¥½å•Šï¼&lt;&#x2F;h1&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot;&gt;
  export default &#123;
    name:&#39;App&#39; &#x2F;&#x2F;ç»„ä»¶å
  &#125;
&lt;&#x2F;script&gt;

&lt;style&gt;
  .app &#123;
    background-color: #ddd;
    box-shadow: 0 0 10px;
    border-radius: 10px;
    padding: 20px;
  &#125;
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å®‰è£…å®˜æ–¹æ¨èçš„<code>vscode</code>æ’ä»¶ï¼š</p>
<p><img src="https://alist.aixcc.top/d/OneDrive/img/202407151232847.webp" alt="Snipaste_2023-10-08_20-46-34" loading="lazy"></p>
<p><img src="https://alist.aixcc.top/d/OneDrive/img/202407151232668.webp" alt="image-20231218085906380" loading="lazy"></p>
<p>æ€»ç»“ï¼š</p>
<ul>
<li><code>Vite</code> é¡¹ç›®ä¸­ï¼Œ<code>index.html</code> æ˜¯é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œåœ¨é¡¹ç›®æœ€å¤–å±‚ã€‚</li>
<li>åŠ è½½<code>index.html</code>åï¼Œ<code>Vite</code> è§£æ <code>&lt;script type=&quot;module&quot; src=&quot;xxx&quot;&gt;</code> æŒ‡å‘çš„<code>JavaScript</code>ã€‚</li>
<li><code>Vue3</code>**ä¸­æ˜¯é€šè¿‡ **<code>createApp</code> å‡½æ•°åˆ›å»ºä¸€ä¸ªåº”ç”¨å®ä¾‹ã€‚</li>
</ul>
<h2 id="2-3-ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœã€‘"><a class="headerlink" href="#2-3-ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœã€‘"></a>2.3. ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœã€‘</h2>
<p><code>Vue3</code>å‘ä¸‹å…¼å®¹<code>Vue2</code>è¯­æ³•ï¼Œä¸”<code>Vue3</code>ä¸­çš„æ¨¡æ¿ä¸­å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeAge&quot;&gt;å¹´é¾„+1&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot;&gt;
  export default &#123;
    name:&#39;App&#39;,
    data() &#123;
      return &#123;
        name:&#39;å¼ ä¸‰&#39;,
        age:18,
        tel:&#39;13888888888&#39;
      &#125;
    &#125;,
    methods:&#123;
      changeName()&#123;
        this.name &#x3D; &#39;zhang-san&#39;
      &#125;,
      changeAge()&#123;
        this.age +&#x3D; 1
      &#125;,
      showTel()&#123;
        alert(this.tel)
      &#125;
    &#125;,
  &#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="3-Vue3æ ¸å¿ƒè¯­æ³•"><a class="headerlink" href="#3-Vue3æ ¸å¿ƒè¯­æ³•"></a>3. Vue3æ ¸å¿ƒè¯­æ³•</h1>
<h2 id="3-1-ã€OptionsAPI-ä¸-CompositionAPIã€‘"><a class="headerlink" href="#3-1-ã€OptionsAPI-ä¸-CompositionAPIã€‘"></a>3.1.  ã€OptionsAPI ä¸ CompositionAPIã€‘</h2>
<ul>
<li><code>Vue2</code>çš„<code>API</code>è®¾è®¡æ˜¯<code>Options</code>ï¼ˆé…ç½®ï¼‰é£æ ¼çš„ã€‚</li>
<li><code>Vue3</code>çš„<code>API</code>è®¾è®¡æ˜¯<code>Composition</code>ï¼ˆç»„åˆï¼‰é£æ ¼çš„ã€‚</li>
</ul>
<h3 id="Options-API-çš„å¼Šç«¯"><a class="headerlink" href="#Options-API-çš„å¼Šç«¯"></a>Options API çš„å¼Šç«¯</h3>
<p><code>Options</code>ç±»å‹çš„ <code>API</code>ï¼Œæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ç­‰ï¼Œæ˜¯åˆ†æ•£åœ¨ï¼š<code>data</code>ã€<code>methods</code>ã€<code>computed</code>ä¸­çš„ï¼Œè‹¥æƒ³æ–°å¢æˆ–è€…ä¿®æ”¹ä¸€ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ«ä¿®æ”¹ï¼š<code>data</code>ã€<code>methods</code>ã€<code>computed</code>ï¼Œä¸ä¾¿äºç»´æŠ¤å’Œå¤ç”¨ã€‚</p>
<p><img src="https://img.aixcc.top/file/c3edadbf9a9bbfd22d442.gif" alt="" loading="lazy"><img src="https://img.aixcc.top/file/d978f7c4fd1f8a2a2e8f9.gif" alt="" loading="lazy"></p>
<h3 id="Composition-API-çš„ä¼˜åŠ¿"><a class="headerlink" href="#Composition-API-çš„ä¼˜åŠ¿"></a>Composition API çš„ä¼˜åŠ¿</h3>
<p>å¯ä»¥ç”¨å‡½æ•°çš„æ–¹å¼ï¼Œæ›´åŠ ä¼˜é›…çš„ç»„ç»‡ä»£ç ï¼Œè®©ç›¸å…³åŠŸèƒ½çš„ä»£ç æ›´åŠ æœ‰åºçš„ç»„ç»‡åœ¨ä¸€èµ·ã€‚</p>
<p><img src="https://img.aixcc.top/file/9acc07d0f3690f12a9fda.gif" alt="" loading="lazy"><img src="https://img.aixcc.top/file/2e7d2a90529d10cad9c93.gif" alt="" loading="lazy"></p>
<blockquote>
<p>è¯´æ˜ï¼šä»¥ä¸Šå››å¼ åŠ¨å›¾åŸåˆ›ä½œè€…ï¼šå¤§å¸…è€çŒ¿</p>
</blockquote>
<h2 id="3-2-ã€æ‹‰å¼€åºå¹•çš„-setupã€‘"><a class="headerlink" href="#3-2-ã€æ‹‰å¼€åºå¹•çš„-setupã€‘"></a>3.2. ã€æ‹‰å¼€åºå¹•çš„ setupã€‘</h2>
<h3 id="setup-æ¦‚è¿°"><a class="headerlink" href="#setup-æ¦‚è¿°"></a>setup æ¦‚è¿°</h3>
<p><code>setup</code>æ˜¯<code>Vue3</code>ä¸­ä¸€ä¸ªæ–°çš„é…ç½®é¡¹ï¼Œå€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ˜¯ <code>Composition API</code> <strong>â€œè¡¨æ¼”çš„èˆå°</strong><em><strong>â€</strong></em>ï¼Œç»„ä»¶ä¸­æ‰€ç”¨åˆ°çš„ï¼šæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ã€ç›‘è§†â€¦ç­‰ç­‰ï¼Œå‡é…ç½®åœ¨<code>setup</code>ä¸­ã€‚</p>
<p>ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>setup</code>å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­çš„å†…å®¹ï¼Œå¯ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚</li>
<li><code>setup</code>ä¸­è®¿é—®<code>this</code>æ˜¯<code>undefined</code>ã€‚</li>
<li><code>setup</code>å‡½æ•°ä¼šåœ¨<code>beforeCreate</code>ä¹‹å‰è°ƒç”¨ï¼Œå®ƒæ˜¯â€œé¢†å…ˆâ€æ‰€æœ‰é’©å­æ‰§è¡Œçš„ã€‚</li>
</ul>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeAge&quot;&gt;å¹´é¾„+1&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot;&gt;
  export default &#123;
    name:&#39;Person&#39;,
    setup()&#123;
      &#x2F;&#x2F; æ•°æ®ï¼ŒåŸæ¥å†™åœ¨dataä¸­ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶çš„nameã€ageã€telæ•°æ®éƒ½ä¸æ˜¯å“åº”å¼æ•°æ®ï¼‰
      let name &#x3D; &#39;å¼ ä¸‰&#39;
      let age &#x3D; 18
      let tel &#x3D; &#39;13888888888&#39;

      &#x2F;&#x2F; æ–¹æ³•ï¼ŒåŸæ¥å†™åœ¨methodsä¸­
      function changeName()&#123;
        name &#x3D; &#39;zhang-san&#39; &#x2F;&#x2F;æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹nameé¡µé¢æ˜¯ä¸å˜åŒ–çš„
        console.log(name)
      &#125;
      function changeAge()&#123;
        age +&#x3D; 1 &#x2F;&#x2F;æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹ageé¡µé¢æ˜¯ä¸å˜åŒ–çš„
        console.log(age)
      &#125;
      function showTel()&#123;
        alert(tel)
      &#125;

      &#x2F;&#x2F; è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­çš„å†…å®¹ï¼Œæ¨¡æ¿ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨
      return &#123;name,age,tel,changeName,changeAge,showTel&#125;
    &#125;
  &#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="setup-çš„è¿”å›å€¼"><a class="headerlink" href="#setup-çš„è¿”å›å€¼"></a>setup çš„è¿”å›å€¼</h3>
<ul>
<li>è‹¥è¿”å›ä¸€ä¸ª<strong>å¯¹è±¡</strong>ï¼šåˆ™å¯¹è±¡ä¸­çš„ï¼šå±æ€§ã€æ–¹æ³•ç­‰ï¼Œåœ¨æ¨¡æ¿ä¸­å‡å¯ä»¥ç›´æ¥ä½¿ç”¨**ï¼ˆé‡ç‚¹å…³æ³¨ï¼‰ã€‚**</li>
<li>è‹¥è¿”å›ä¸€ä¸ª<strong>å‡½æ•°</strong>ï¼šåˆ™å¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹ï¼Œä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span> <span class="token string">'ä½ å¥½å•Šï¼'</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="setup-ä¸-Options-API-çš„å…³ç³»"><a class="headerlink" href="#setup-ä¸-Options-API-çš„å…³ç³»"></a>setup ä¸ Options API çš„å…³ç³»</h3>
<ul>
<li><code>Vue2</code> çš„é…ç½®ï¼ˆ<code>data</code>ã€<code>methos</code>â€¦ï¼‰ä¸­<strong>å¯ä»¥è®¿é—®åˆ°</strong> <code>setup</code>ä¸­çš„å±æ€§ã€æ–¹æ³•ã€‚</li>
<li>ä½†åœ¨<code>setup</code>ä¸­<strong>ä¸èƒ½è®¿é—®åˆ°</strong><code>Vue2</code>çš„é…ç½®ï¼ˆ<code>data</code>ã€<code>methos</code>â€¦ï¼‰ã€‚</li>
<li>å¦‚æœä¸<code>Vue2</code>å†²çªï¼Œåˆ™<code>setup</code>ä¼˜å…ˆã€‚</li>
</ul>
<h3 id="setup-è¯­æ³•ç³–"><a class="headerlink" href="#setup-è¯­æ³•ç³–"></a>setup è¯­æ³•ç³–</h3>
<p><code>setup</code>å‡½æ•°æœ‰ä¸€ä¸ªè¯­æ³•ç³–ï¼Œè¿™ä¸ªè¯­æ³•ç³–ï¼Œå¯ä»¥è®©æˆ‘ä»¬æŠŠ<code>setup</code>ç‹¬ç«‹å‡ºå»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changName&quot;&gt;ä¿®æ”¹åå­—&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changAge&quot;&gt;å¹´é¾„+1&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot;&gt;
  export default &#123;
    name:&#39;Person&#39;,
  &#125;
&lt;&#x2F;script&gt;

&lt;!-- ä¸‹é¢çš„å†™æ³•æ˜¯setupè¯­æ³•ç³– --&gt;
&lt;script setup lang&#x3D;&quot;ts&quot;&gt;
  console.log(this) &#x2F;&#x2F;undefined
  
  &#x2F;&#x2F; æ•°æ®ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶çš„nameã€ageã€teléƒ½ä¸æ˜¯å“åº”å¼æ•°æ®ï¼‰
  let name &#x3D; &#39;å¼ ä¸‰&#39;
  let age &#x3D; 18
  let tel &#x3D; &#39;13888888888&#39;

  &#x2F;&#x2F; æ–¹æ³•
  function changName()&#123;
    name &#x3D; &#39;æå››&#39;&#x2F;&#x2F;æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹nameé¡µé¢æ˜¯ä¸å˜åŒ–çš„
  &#125;
  function changAge()&#123;
    console.log(age)
    age +&#x3D; 1 &#x2F;&#x2F;æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹ageé¡µé¢æ˜¯ä¸å˜åŒ–çš„
  &#125;
  function showTel()&#123;
    alert(tel)
  &#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ‰©å±•ï¼šä¸Šè¿°ä»£ç ï¼Œè¿˜éœ€è¦ç¼–å†™ä¸€ä¸ªä¸å†™<code>setup</code>çš„<code>script</code>æ ‡ç­¾ï¼Œå»æŒ‡å®šç»„ä»¶åå­—ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©<code>vite</code>ä¸­çš„æ’ä»¶ç®€åŒ–</p>
<ol>
<li>ç¬¬ä¸€æ­¥ï¼š<code>npm i vite-plugin-vue-setup-extend -D</code></li>
<li>ç¬¬äºŒæ­¥ï¼š<code>vite.config.ts</code></li>
</ol>
<pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineConfig <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vite'</span>
<span class="token keyword">import</span> VueSetupExtend <span class="token keyword">from</span> <span class="token string">'vite-plugin-vue-setup-extend'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token function">VueSetupExtend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li>ç¬¬ä¸‰æ­¥ï¼š<code>&lt;script setup lang=&quot;ts&quot; name=&quot;Person&quot;&gt;</code></li>
</ol>
<h2 id="3-3-ã€ref-åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘"><a class="headerlink" href="#3-3-ã€ref-åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘"></a>3.3. ã€ref åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘</h2>
<ul>
<li>**ä½œç”¨ï¼š**å®šä¹‰å“åº”å¼å˜é‡ã€‚</li>
<li><strong>è¯­æ³•ï¼š</strong><code>let xxx = ref(åˆå§‹å€¼)</code>ã€‚</li>
<li>**è¿”å›å€¼ï¼š**ä¸€ä¸ª<code>RefImpl</code>çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°<code>refå¯¹è±¡</code>æˆ–<code>ref</code>ï¼Œ<code>ref</code>å¯¹è±¡çš„<code>value</code><strong>å±æ€§æ˜¯å“åº”å¼çš„</strong>ã€‚</li>
<li><strong>æ³¨æ„ç‚¹ï¼š</strong>
<ul>
<li><code>JS</code>ä¸­æ“ä½œæ•°æ®éœ€è¦ï¼š<code>xxx.value</code>ï¼Œä½†æ¨¡æ¿ä¸­ä¸éœ€è¦<code>.value</code>ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚</li>
<li>å¯¹äº<code>let name = ref('å¼ ä¸‰')</code>æ¥è¯´ï¼Œ<code>name</code>ä¸æ˜¯å“åº”å¼çš„ï¼Œ<code>name.value</code>æ˜¯å“åº”å¼çš„ã€‚</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeAge&quot;&gt;å¹´é¾„+1&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;Person&quot;&gt;
  import &#123;ref&#125; from &#39;vue&#39;
  &#x2F;&#x2F; nameå’Œageæ˜¯ä¸€ä¸ªRefImplçš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°refå¯¹è±¡ï¼Œå®ƒä»¬çš„valueå±æ€§æ˜¯å“åº”å¼çš„ã€‚
  let name &#x3D; ref(&#39;å¼ ä¸‰&#39;)
  let age &#x3D; ref(18)
  &#x2F;&#x2F; telå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²ï¼Œä¸æ˜¯å“åº”å¼çš„
  let tel &#x3D; &#39;13888888888&#39;

  function changeName()&#123;
    &#x2F;&#x2F; JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value
    name.value &#x3D; &#39;æå››&#39;
    console.log(name.value)

    &#x2F;&#x2F; æ³¨æ„ï¼šnameä¸æ˜¯å“åº”å¼çš„ï¼Œname.valueæ˜¯å“åº”å¼çš„ï¼Œæ‰€ä»¥å¦‚ä¸‹ä»£ç å¹¶ä¸ä¼šå¼•èµ·é¡µé¢çš„æ›´æ–°ã€‚
    &#x2F;&#x2F; name &#x3D; ref(&#39;zhang-san&#39;)
  &#125;
  function changeAge()&#123;
    &#x2F;&#x2F; JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value
    age.value +&#x3D; 1 
    console.log(age.value)
  &#125;
  function showTel()&#123;
    alert(tel)
  &#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="3-4-ã€reactive-åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘"><a class="headerlink" href="#3-4-ã€reactive-åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘"></a>3.4. ã€reactive åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘</h2>
<ul>
<li><strong>ä½œç”¨ï¼š<strong>å®šä¹‰ä¸€ä¸ª</strong>å“åº”å¼å¯¹è±¡</strong>ï¼ˆåŸºæœ¬ç±»å‹ä¸è¦ç”¨å®ƒï¼Œè¦ç”¨<code>ref</code>ï¼Œå¦åˆ™æŠ¥é”™ï¼‰</li>
<li><strong>è¯­æ³•ï¼š</strong><code>let å“åº”å¼å¯¹è±¡= reactive(æºå¯¹è±¡)</code>ã€‚</li>
<li>**è¿”å›å€¼ï¼š**ä¸€ä¸ª<code>Proxy</code>çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°ï¼šå“åº”å¼å¯¹è±¡ã€‚</li>
<li><strong>æ³¨æ„ç‚¹ï¼š</strong><code>reactive</code>å®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯â€œæ·±å±‚æ¬¡â€çš„ã€‚</li>
</ul>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h2&gt;æ±½è½¦ä¿¡æ¯ï¼šä¸€å°&#123;&#123; car.brand &#125;&#125;æ±½è½¦ï¼Œä»·å€¼&#123;&#123; car.price &#125;&#125;ä¸‡&lt;&#x2F;h2&gt;
    &lt;h2&gt;æ¸¸æˆåˆ—è¡¨ï¼š&lt;&#x2F;h2&gt;
    &lt;ul&gt;
      &lt;li v-for&#x3D;&quot;g in games&quot; :key&#x3D;&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;&#x2F;li&gt;
    &lt;&#x2F;ul&gt;
    &lt;h2&gt;æµ‹è¯•ï¼š&#123;&#123;obj.a.b.c.d&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changeCarPrice&quot;&gt;ä¿®æ”¹æ±½è½¦ä»·æ ¼&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeFirstGame&quot;&gt;ä¿®æ”¹ç¬¬ä¸€æ¸¸æˆ&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;test&quot;&gt;æµ‹è¯•&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
import &#123; reactive &#125; from &#39;vue&#39;

&#x2F;&#x2F; æ•°æ®
let car &#x3D; reactive(&#123; brand: &#39;å¥”é©°&#39;, price: 100 &#125;)
let games &#x3D; reactive([
  &#123; id: &#39;ahsgdyfa01&#39;, name: &#39;è‹±é›„è”ç›Ÿ&#39; &#125;,
  &#123; id: &#39;ahsgdyfa02&#39;, name: &#39;ç‹è€…è£è€€&#39; &#125;,
  &#123; id: &#39;ahsgdyfa03&#39;, name: &#39;åŸç¥&#39; &#125;
])
let obj &#x3D; reactive(&#123;
  a:&#123;
    b:&#123;
      c:&#123;
        d:666
      &#125;
    &#125;
  &#125;
&#125;)

function changeCarPrice() &#123;
  car.price +&#x3D; 10
&#125;
function changeFirstGame() &#123;
  games[0].name &#x3D; &#39;æµæ˜Ÿè´è¶å‰‘&#39;
&#125;
function test()&#123;
  obj.a.b.c.d &#x3D; 999
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="3-5-ã€ref-åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘"><a class="headerlink" href="#3-5-ã€ref-åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘"></a>3.5. ã€ref åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘</h2>
<ul>
<li>å…¶å®<code>ref</code>æ¥æ”¶çš„æ•°æ®å¯ä»¥æ˜¯ï¼š<strong>åŸºæœ¬ç±»å‹</strong>ã€<strong>å¯¹è±¡ç±»å‹</strong>ã€‚</li>
<li>è‹¥<code>ref</code>æ¥æ”¶çš„æ˜¯å¯¹è±¡ç±»å‹ï¼Œå†…éƒ¨å…¶å®ä¹Ÿæ˜¯è°ƒç”¨äº†<code>reactive</code>å‡½æ•°ã€‚</li>
</ul>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h2&gt;æ±½è½¦ä¿¡æ¯ï¼šä¸€å°&#123;&#123; car.brand &#125;&#125;æ±½è½¦ï¼Œä»·å€¼&#123;&#123; car.price &#125;&#125;ä¸‡&lt;&#x2F;h2&gt;
    &lt;h2&gt;æ¸¸æˆåˆ—è¡¨ï¼š&lt;&#x2F;h2&gt;
    &lt;ul&gt;
      &lt;li v-for&#x3D;&quot;g in games&quot; :key&#x3D;&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;&#x2F;li&gt;
    &lt;&#x2F;ul&gt;
    &lt;h2&gt;æµ‹è¯•ï¼š&#123;&#123;obj.a.b.c.d&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changeCarPrice&quot;&gt;ä¿®æ”¹æ±½è½¦ä»·æ ¼&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeFirstGame&quot;&gt;ä¿®æ”¹ç¬¬ä¸€æ¸¸æˆ&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;test&quot;&gt;æµ‹è¯•&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
import &#123; ref &#125; from &#39;vue&#39;

&#x2F;&#x2F; æ•°æ®
let car &#x3D; ref(&#123; brand: &#39;å¥”é©°&#39;, price: 100 &#125;)
let games &#x3D; ref([
  &#123; id: &#39;ahsgdyfa01&#39;, name: &#39;è‹±é›„è”ç›Ÿ&#39; &#125;,
  &#123; id: &#39;ahsgdyfa02&#39;, name: &#39;ç‹è€…è£è€€&#39; &#125;,
  &#123; id: &#39;ahsgdyfa03&#39;, name: &#39;åŸç¥&#39; &#125;
])
let obj &#x3D; ref(&#123;
  a:&#123;
    b:&#123;
      c:&#123;
        d:666
      &#125;
    &#125;
  &#125;
&#125;)

console.log(car)

function changeCarPrice() &#123;
  car.value.price +&#x3D; 10
&#125;
function changeFirstGame() &#123;
  games.value[0].name &#x3D; &#39;æµæ˜Ÿè´è¶å‰‘&#39;
&#125;
function test()&#123;
  obj.value.a.b.c.d &#x3D; 999
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="3-6-ã€ref-å¯¹æ¯”-reactiveã€‘"><a class="headerlink" href="#3-6-ã€ref-å¯¹æ¯”-reactiveã€‘"></a>3.6. ã€ref å¯¹æ¯” reactiveã€‘</h2>
<p>å®è§‚è§’åº¦çœ‹ï¼š</p>
<blockquote>
<ol>
<li>
<p><code>ref</code>ç”¨æ¥å®šä¹‰ï¼š<strong>åŸºæœ¬ç±»å‹æ•°æ®</strong>ã€<strong>å¯¹è±¡ç±»å‹æ•°æ®</strong>ï¼›</p>
</li>
<li>
<p><code>reactive</code>ç”¨æ¥å®šä¹‰ï¼š<strong>å¯¹è±¡ç±»å‹æ•°æ®</strong>ã€‚</p>
</li>
</ol>
</blockquote>
<ul>
<li>åŒºåˆ«ï¼š</li>
</ul>
<blockquote>
<ol>
<li>
<p><code>ref</code>åˆ›å»ºçš„å˜é‡å¿…é¡»ä½¿ç”¨<code>.value</code>ï¼ˆå¯ä»¥ä½¿ç”¨<code>volar</code>æ’ä»¶è‡ªåŠ¨æ·»åŠ <code>.value</code>ï¼‰ã€‚</p>
<p><img src="https://alist.aixcc.top/d/OneDrive/img/202407151232718.webp" alt="è‡ªåŠ¨è¡¥å……value" loading="lazy"></p>
</li>
<li>
<p><code>reactive</code>é‡æ–°åˆ†é…ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¼š<strong>å¤±å»</strong>å“åº”å¼ï¼ˆå¯ä»¥ä½¿ç”¨<code>Object.assign</code>å»æ•´ä½“æ›¿æ¢ï¼‰ã€‚</p>
</li>
</ol>
</blockquote>
<ul>
<li>ä½¿ç”¨åŸåˆ™ï¼š</li>
</ul>
<blockquote>
<ol>
<li>è‹¥éœ€è¦ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ï¼Œå¿…é¡»ä½¿ç”¨<code>ref</code>ã€‚</li>
<li>è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå±‚çº§ä¸æ·±ï¼Œ<code>ref</code>ã€<code>reactive</code>éƒ½å¯ä»¥ã€‚</li>
<li>è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œä¸”å±‚çº§è¾ƒæ·±ï¼Œæ¨èä½¿ç”¨<code>reactive</code>ã€‚</li>
</ol>
</blockquote>
<h2 id="3-7-ã€toRefs-ä¸-toRefã€‘"><a class="headerlink" href="#3-7-ã€toRefs-ä¸-toRefã€‘"></a>3.7. ã€toRefs ä¸ toRefã€‘</h2>
<ul>
<li>ä½œç”¨ï¼šå°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªå±æ€§ï¼Œè½¬æ¢ä¸º<code>ref</code>å¯¹è±¡ã€‚</li>
<li>å¤‡æ³¨ï¼š<code>toRefs</code>ä¸<code>toRef</code>åŠŸèƒ½ä¸€è‡´ï¼Œä½†<code>toRefs</code>å¯ä»¥æ‰¹é‡è½¬æ¢ã€‚</li>
<li>è¯­æ³•å¦‚ä¸‹ï¼š</li>
</ul>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h2&gt;å§“åï¼š&#123;&#123;person.name&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;person.age&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;æ€§åˆ«ï¼š&#123;&#123;person.gender&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeGender&quot;&gt;ä¿®æ”¹æ€§åˆ«&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
  import &#123;ref,reactive,toRefs,toRef&#125; from &#39;vue&#39;

  &#x2F;&#x2F; æ•°æ®
  let person &#x3D; reactive(&#123;name:&#39;å¼ ä¸‰&#39;, age:18, gender:&#39;ç”·&#39;&#125;)
	
  &#x2F;&#x2F; é€šè¿‡toRefså°†personå¯¹è±¡ä¸­çš„nä¸ªå±æ€§æ‰¹é‡å–å‡ºï¼Œä¸”ä¾ç„¶ä¿æŒå“åº”å¼çš„èƒ½åŠ›
  let &#123;name,gender&#125; &#x3D;  toRefs(person)
	
  &#x2F;&#x2F; é€šè¿‡toRefå°†personå¯¹è±¡ä¸­çš„genderå±æ€§å–å‡ºï¼Œä¸”ä¾ç„¶ä¿æŒå“åº”å¼çš„èƒ½åŠ›
  let age &#x3D; toRef(person,&#39;age&#39;)

  &#x2F;&#x2F; æ–¹æ³•
  function changeName()&#123;
    name.value +&#x3D; &#39;~&#39;
  &#125;
  function changeAge()&#123;
    age.value +&#x3D; 1
  &#125;
  function changeGender()&#123;
    gender.value &#x3D; &#39;å¥³&#39;
  &#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="3-8-ã€computedã€‘"><a class="headerlink" href="#3-8-ã€computedã€‘"></a>3.8. ã€computedã€‘</h2>
<p>ä½œç”¨ï¼šæ ¹æ®å·²æœ‰æ•°æ®è®¡ç®—å‡ºæ–°æ•°æ®ï¼ˆå’Œ<code>Vue2</code>ä¸­çš„<code>computed</code>ä½œç”¨ä¸€è‡´ï¼‰ã€‚</p>
<p><img src="https://img.aixcc.top/file/35111db5e18d3bb69aee9.gif" alt="" loading="lazy"></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    å§“ï¼š&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;firstName&quot;&gt; &lt;br&gt;
    åï¼š&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;lastName&quot;&gt; &lt;br&gt;
    å…¨åï¼š&lt;span&gt;&#123;&#123;fullName&#125;&#125;&lt;&#x2F;span&gt; &lt;br&gt;
    &lt;button @click&#x3D;&quot;changeFullName&quot;&gt;å…¨åæ”¹ä¸ºï¼šli-si&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;App&quot;&gt;
  import &#123;ref,computed&#125; from &#39;vue&#39;

  let firstName &#x3D; ref(&#39;zhang&#39;)
  let lastName &#x3D; ref(&#39;san&#39;)

  &#x2F;&#x2F; è®¡ç®—å±æ€§â€”â€”åªè¯»å–ï¼Œä¸ä¿®æ”¹
  &#x2F;* let fullName &#x3D; computed(()&#x3D;&gt;&#123;
    return firstName.value + &#39;-&#39; + lastName.value
  &#125;) *&#x2F;


  &#x2F;&#x2F; è®¡ç®—å±æ€§â€”â€”æ—¢è¯»å–åˆä¿®æ”¹
  let fullName &#x3D; computed(&#123;
    &#x2F;&#x2F; è¯»å–
    get()&#123;
      return firstName.value + &#39;-&#39; + lastName.value
    &#125;,
    &#x2F;&#x2F; ä¿®æ”¹
    set(val)&#123;
      console.log(&#39;æœ‰äººä¿®æ”¹äº†fullName&#39;,val)
      firstName.value &#x3D; val.split(&#39;-&#39;)[0]
      lastName.value &#x3D; val.split(&#39;-&#39;)[1]
    &#125;
  &#125;)

  function changeFullName()&#123;
    fullName.value &#x3D; &#39;li-si&#39;
  &#125; 
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="3-9-ã€watchã€‘"><a class="headerlink" href="#3-9-ã€watchã€‘"></a>3.9.ã€watchã€‘</h2>
<ul>
<li>ä½œç”¨ï¼šç›‘è§†æ•°æ®çš„å˜åŒ–ï¼ˆå’Œ<code>Vue2</code>ä¸­çš„<code>watch</code>ä½œç”¨ä¸€è‡´ï¼‰</li>
<li>ç‰¹ç‚¹ï¼š<code>Vue3</code>ä¸­çš„<code>watch</code>åªèƒ½ç›‘è§†ä»¥ä¸‹<strong>å››ç§æ•°æ®</strong>ï¼š</li>
</ul>
<blockquote>
<ol>
<li><code>ref</code>å®šä¹‰çš„æ•°æ®ã€‚</li>
<li><code>reactive</code>å®šä¹‰çš„æ•°æ®ã€‚</li>
<li>å‡½æ•°è¿”å›ä¸€ä¸ªå€¼ï¼ˆ<code>getter</code>å‡½æ•°ï¼‰ã€‚</li>
<li>ä¸€ä¸ªåŒ…å«ä¸Šè¿°å†…å®¹çš„æ•°ç»„ã€‚</li>
</ol>
</blockquote>
<p>æˆ‘ä»¬åœ¨<code>Vue3</code>ä¸­ä½¿ç”¨<code>watch</code>çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šé‡åˆ°ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p>
<h3 id="æƒ…å†µä¸€"><a class="headerlink" href="#æƒ…å†µä¸€"></a>* æƒ…å†µä¸€</h3>
<p>ç›‘è§†<code>ref</code>å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®ï¼šç›´æ¥å†™æ•°æ®åå³å¯ï¼Œç›‘è§†çš„æ˜¯å…¶<code>value</code>å€¼çš„æ”¹å˜ã€‚</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h1&gt;æƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®&lt;&#x2F;h1&gt;
    &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123;sum&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changeSum&quot;&gt;ç‚¹æˆ‘sum+1&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
  import &#123;ref,watch&#125; from &#39;vue&#39;
  &#x2F;&#x2F; æ•°æ®
  let sum &#x3D; ref(0)
  &#x2F;&#x2F; æ–¹æ³•
  function changeSum()&#123;
    sum.value +&#x3D; 1
  &#125;
  &#x2F;&#x2F; ç›‘è§†ï¼Œæƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®
  const stopWatch &#x3D; watch(sum,(newValue,oldValue)&#x3D;&gt;&#123;
    console.log(&#39;sumå˜åŒ–äº†&#39;,newValue,oldValue)
    if(newValue &gt;&#x3D; 10)&#123;
      stopWatch()
    &#125;
  &#125;)
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æƒ…å†µäºŒ"><a class="headerlink" href="#æƒ…å†µäºŒ"></a>* æƒ…å†µäºŒ</h3>
<p>ç›‘è§†<code>ref</code>å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼šç›´æ¥å†™æ•°æ®åï¼Œç›‘è§†çš„æ˜¯å¯¹è±¡çš„ã€åœ°å€å€¼ã€‘ï¼Œè‹¥æƒ³ç›‘è§†å¯¹è±¡å†…éƒ¨çš„æ•°æ®ï¼Œè¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>
<p>è‹¥ä¿®æ”¹çš„æ˜¯<code>ref</code>å®šä¹‰çš„å¯¹è±¡ä¸­çš„å±æ€§ï¼Œ<code>newValue</code> å’Œ <code>oldValue</code> éƒ½æ˜¯æ–°å€¼ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
</li>
<li>
<p>è‹¥ä¿®æ”¹æ•´ä¸ª<code>ref</code>å®šä¹‰çš„å¯¹è±¡ï¼Œ<code>newValue</code> æ˜¯æ–°å€¼ï¼Œ <code>oldValue</code> æ˜¯æ—§å€¼ï¼Œå› ä¸ºä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡äº†ã€‚</p>
</li>
</ul>
</blockquote>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h1&gt;æƒ…å†µäºŒï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®&lt;&#x2F;h1&gt;
    &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changePerson&quot;&gt;ä¿®æ”¹æ•´ä¸ªäºº&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
  import &#123;ref,watch&#125; from &#39;vue&#39;
  &#x2F;&#x2F; æ•°æ®
  let person &#x3D; ref(&#123;
    name:&#39;å¼ ä¸‰&#39;,
    age:18
  &#125;)
  &#x2F;&#x2F; æ–¹æ³•
  function changeName()&#123;
    person.value.name +&#x3D; &#39;~&#39;
  &#125;
  function changeAge()&#123;
    person.value.age +&#x3D; 1
  &#125;
  function changePerson()&#123;
    person.value &#x3D; &#123;name:&#39;æå››&#39;,age:90&#125;
  &#125;
  &#x2F;* 
    ç›‘è§†ï¼Œæƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œç›‘è§†çš„æ˜¯å¯¹è±¡çš„åœ°å€å€¼ï¼Œè‹¥æƒ³ç›‘è§†å¯¹è±¡å†…éƒ¨å±æ€§çš„å˜åŒ–ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†
    watchçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ï¼šè¢«ç›‘è§†çš„æ•°æ®
    watchçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ï¼šç›‘è§†çš„å›è°ƒ
    watchçš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ï¼šé…ç½®å¯¹è±¡ï¼ˆdeepã€immediateç­‰ç­‰.....ï¼‰ 
  *&#x2F;
  watch(person,(newValue,oldValue)&#x3D;&gt;&#123;
    console.log(&#39;personå˜åŒ–äº†&#39;,newValue,oldValue)
  &#125;,&#123;deep:true&#125;)
  
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æƒ…å†µä¸‰"><a class="headerlink" href="#æƒ…å†µä¸‰"></a>*  æƒ…å†µä¸‰</h3>
<p>ç›‘è§†<code>reactive</code>å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤å¼€å¯äº†æ·±åº¦ç›‘è§†ã€‚</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h1&gt;æƒ…å†µä¸‰ï¼šç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®&lt;&#x2F;h1&gt;
    &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changePerson&quot;&gt;ä¿®æ”¹æ•´ä¸ªäºº&lt;&#x2F;button&gt;
    &lt;hr&gt;
    &lt;h2&gt;æµ‹è¯•ï¼š&#123;&#123;obj.a.b.c&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;test&quot;&gt;ä¿®æ”¹obj.a.b.c&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
  import &#123;reactive,watch&#125; from &#39;vue&#39;
  &#x2F;&#x2F; æ•°æ®
  let person &#x3D; reactive(&#123;
    name:&#39;å¼ ä¸‰&#39;,
    age:18
  &#125;)
  let obj &#x3D; reactive(&#123;
    a:&#123;
      b:&#123;
        c:666
      &#125;
    &#125;
  &#125;)
  &#x2F;&#x2F; æ–¹æ³•
  function changeName()&#123;
    person.name +&#x3D; &#39;~&#39;
  &#125;
  function changeAge()&#123;
    person.age +&#x3D; 1
  &#125;
  function changePerson()&#123;
    Object.assign(person,&#123;name:&#39;æå››&#39;,age:80&#125;)
  &#125;
  function test()&#123;
    obj.a.b.c &#x3D; 888
  &#125;

  &#x2F;&#x2F; ç›‘è§†ï¼Œæƒ…å†µä¸‰ï¼šç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤æ˜¯å¼€å¯æ·±åº¦ç›‘è§†çš„
  watch(person,(newValue,oldValue)&#x3D;&gt;&#123;
    console.log(&#39;personå˜åŒ–äº†&#39;,newValue,oldValue)
  &#125;)
  watch(obj,(newValue,oldValue)&#x3D;&gt;&#123;
    console.log(&#39;Objå˜åŒ–äº†&#39;,newValue,oldValue)
  &#125;)
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æƒ…å†µå››"><a class="headerlink" href="#æƒ…å†µå››"></a>* æƒ…å†µå››</h3>
<p>ç›‘è§†<code>ref</code>æˆ–<code>reactive</code>å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„<strong>æŸä¸ªå±æ€§</strong>ï¼Œæ³¨æ„ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li>è‹¥è¯¥å±æ€§å€¼<strong>ä¸æ˜¯</strong>ã€å¯¹è±¡ç±»å‹ã€‘ï¼Œéœ€è¦å†™æˆå‡½æ•°å½¢å¼ã€‚</li>
<li>è‹¥è¯¥å±æ€§å€¼æ˜¯<strong>ä¾ç„¶</strong>æ˜¯ã€å¯¹è±¡ç±»å‹ã€‘ï¼Œå¯ç›´æ¥ç¼–ï¼Œä¹Ÿå¯å†™æˆå‡½æ•°ï¼Œå»ºè®®å†™æˆå‡½æ•°ã€‚</li>
</ol>
<p>ç»“è®ºï¼šç›‘è§†çš„è¦æ˜¯å¯¹è±¡é‡Œçš„å±æ€§ï¼Œé‚£ä¹ˆæœ€å¥½å†™å‡½æ•°å¼ï¼Œæ³¨æ„ç‚¹ï¼šè‹¥æ˜¯å¯¹è±¡ç›‘è§†çš„æ˜¯åœ°å€å€¼ï¼Œéœ€è¦å…³æ³¨å¯¹è±¡å†…éƒ¨ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†ã€‚</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h1&gt;æƒ…å†µå››ï¼šç›‘è§†ã€refã€‘æˆ–ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„æŸä¸ªå±æ€§&lt;&#x2F;h1&gt;
    &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;æ±½è½¦ï¼š&#123;&#123; person.car.c1 &#125;&#125;ã€&#123;&#123; person.car.c2 &#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeC1&quot;&gt;ä¿®æ”¹ç¬¬ä¸€å°è½¦&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeC2&quot;&gt;ä¿®æ”¹ç¬¬äºŒå°è½¦&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeCar&quot;&gt;ä¿®æ”¹æ•´ä¸ªè½¦&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
  import &#123;reactive,watch&#125; from &#39;vue&#39;

  &#x2F;&#x2F; æ•°æ®
  let person &#x3D; reactive(&#123;
    name:&#39;å¼ ä¸‰&#39;,
    age:18,
    car:&#123;
      c1:&#39;å¥”é©°&#39;,
      c2:&#39;å®é©¬&#39;
    &#125;
  &#125;)
  &#x2F;&#x2F; æ–¹æ³•
  function changeName()&#123;
    person.name +&#x3D; &#39;~&#39;
  &#125;
  function changeAge()&#123;
    person.age +&#x3D; 1
  &#125;
  function changeC1()&#123;
    person.car.c1 &#x3D; &#39;å¥¥è¿ª&#39;
  &#125;
  function changeC2()&#123;
    person.car.c2 &#x3D; &#39;å¤§ä¼—&#39;
  &#125;
  function changeCar()&#123;
    person.car &#x3D; &#123;c1:&#39;é›…è¿ª&#39;,c2:&#39;çˆ±ç›&#39;&#125;
  &#125;

  &#x2F;&#x2F; ç›‘è§†ï¼Œæƒ…å†µå››ï¼šç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯åŸºæœ¬ç±»å‹çš„ï¼Œè¦å†™æˆå‡½æ•°å¼
  &#x2F;* watch(()&#x3D;&gt; person.name,(newValue,oldValue)&#x3D;&gt;&#123;
    console.log(&#39;person.nameå˜åŒ–äº†&#39;,newValue,oldValue)
  &#125;) *&#x2F;

  &#x2F;&#x2F; ç›‘è§†ï¼Œæƒ…å†µå››ï¼šç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯å¯¹è±¡ç±»å‹çš„ï¼Œå¯ä»¥ç›´æ¥å†™ï¼Œä¹Ÿèƒ½å†™å‡½æ•°ï¼Œæ›´æ¨èå†™å‡½æ•°
  watch(()&#x3D;&gt;person.car,(newValue,oldValue)&#x3D;&gt;&#123;
    console.log(&#39;person.carå˜åŒ–äº†&#39;,newValue,oldValue)
  &#125;,&#123;deep:true&#125;)
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="æƒ…å†µäº”"><a class="headerlink" href="#æƒ…å†µäº”"></a>* æƒ…å†µäº”</h3>
<p>ç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h1&gt;æƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®&lt;&#x2F;h1&gt;
    &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;æ±½è½¦ï¼š&#123;&#123; person.car.c1 &#125;&#125;ã€&#123;&#123; person.car.c2 &#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeC1&quot;&gt;ä¿®æ”¹ç¬¬ä¸€å°è½¦&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeC2&quot;&gt;ä¿®æ”¹ç¬¬äºŒå°è½¦&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeCar&quot;&gt;ä¿®æ”¹æ•´ä¸ªè½¦&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
  import &#123;reactive,watch&#125; from &#39;vue&#39;

  &#x2F;&#x2F; æ•°æ®
  let person &#x3D; reactive(&#123;
    name:&#39;å¼ ä¸‰&#39;,
    age:18,
    car:&#123;
      c1:&#39;å¥”é©°&#39;,
      c2:&#39;å®é©¬&#39;
    &#125;
  &#125;)
  &#x2F;&#x2F; æ–¹æ³•
  function changeName()&#123;
    person.name +&#x3D; &#39;~&#39;
  &#125;
  function changeAge()&#123;
    person.age +&#x3D; 1
  &#125;
  function changeC1()&#123;
    person.car.c1 &#x3D; &#39;å¥¥è¿ª&#39;
  &#125;
  function changeC2()&#123;
    person.car.c2 &#x3D; &#39;å¤§ä¼—&#39;
  &#125;
  function changeCar()&#123;
    person.car &#x3D; &#123;c1:&#39;é›…è¿ª&#39;,c2:&#39;çˆ±ç›&#39;&#125;
  &#125;

  &#x2F;&#x2F; ç›‘è§†ï¼Œæƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®
  watch([()&#x3D;&gt;person.name,person.car],(newValue,oldValue)&#x3D;&gt;&#123;
    console.log(&#39;person.carå˜åŒ–äº†&#39;,newValue,oldValue)
  &#125;,&#123;deep:true&#125;)

&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="3-10-ã€watchEffectã€‘"><a class="headerlink" href="#3-10-ã€watchEffectã€‘"></a>3.10. ã€watchEffectã€‘</h2>
<ul>
<li>
<p>å®˜ç½‘ï¼šç«‹å³è¿è¡Œä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶å“åº”å¼åœ°è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨ä¾èµ–æ›´æ”¹æ—¶é‡æ–°æ‰§è¡Œè¯¥å‡½æ•°ã€‚</p>
</li>
<li>
<p><code>watch</code>å¯¹æ¯”<code>watchEffect</code></p>
<blockquote>
<ol>
<li>
<p>éƒ½èƒ½ç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œä¸åŒçš„æ˜¯ç›‘å¬æ•°æ®å˜åŒ–çš„æ–¹å¼ä¸åŒ</p>
</li>
<li>
<p><code>watch</code>ï¼šè¦æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®</p>
</li>
<li>
<p><code>watchEffect</code>ï¼šä¸ç”¨æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®ï¼ˆå‡½æ•°ä¸­ç”¨åˆ°å“ªäº›å±æ€§ï¼Œé‚£å°±ç›‘è§†å“ªäº›å±æ€§ï¼‰ã€‚</p>
</li>
</ol>
</blockquote>
</li>
<li>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h1&gt;éœ€æ±‚ï¼šæ°´æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œåˆ™è”ç³»æœåŠ¡å™¨&lt;&#x2F;h1&gt;
    &lt;h2 id&#x3D;&quot;demo&quot;&gt;æ°´æ¸©ï¼š&#123;&#123;temp&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;h2&gt;æ°´ä½ï¼š&#123;&#123;height&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changePrice&quot;&gt;æ°´æ¸©+1&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;changeSum&quot;&gt;æ°´ä½+10&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
  import &#123;ref,watch,watchEffect&#125; from &#39;vue&#39;
  &#x2F;&#x2F; æ•°æ®
  let temp &#x3D; ref(0)
  let height &#x3D; ref(0)

  &#x2F;&#x2F; æ–¹æ³•
  function changePrice()&#123;
    temp.value +&#x3D; 10
  &#125;
  function changeSum()&#123;
    height.value +&#x3D; 1
  &#125;

  &#x2F;&#x2F; ç”¨watchå®ç°ï¼Œéœ€è¦æ˜ç¡®çš„æŒ‡å‡ºè¦ç›‘è§†ï¼štempã€height
  watch([temp,height],(value)&#x3D;&gt;&#123;
    &#x2F;&#x2F; ä»valueä¸­è·å–æœ€æ–°çš„tempå€¼ã€heightå€¼
    const [newTemp,newHeight] &#x3D; value
    &#x2F;&#x2F; å®¤æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œç«‹åˆ»è”ç³»æœåŠ¡å™¨
    if(newTemp &gt;&#x3D; 50 || newHeight &gt;&#x3D; 20)&#123;
      console.log(&#39;è”ç³»æœåŠ¡å™¨&#39;)
    &#125;
  &#125;)

  &#x2F;&#x2F; ç”¨watchEffectå®ç°ï¼Œä¸ç”¨
  const stopWtach &#x3D; watchEffect(()&#x3D;&gt;&#123;
    &#x2F;&#x2F; å®¤æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œç«‹åˆ»è”ç³»æœåŠ¡å™¨
    if(temp.value &gt;&#x3D; 50 || height.value &gt;&#x3D; 20)&#123;
      console.log(document.getElementById(&#39;demo&#39;)?.innerText)
      console.log(&#39;è”ç³»æœåŠ¡å™¨&#39;)
    &#125;
    &#x2F;&#x2F; æ°´æ¸©è¾¾åˆ°100ï¼Œæˆ–æ°´ä½è¾¾åˆ°50ï¼Œå–æ¶ˆç›‘è§†
    if(temp.value &#x3D;&#x3D;&#x3D; 100 || height.value &#x3D;&#x3D;&#x3D; 50)&#123;
      console.log(&#39;æ¸…ç†äº†&#39;)
      stopWtach()
    &#125;
  &#125;)
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="3-11-ã€æ ‡ç­¾çš„-ref-å±æ€§ã€‘"><a class="headerlink" href="#3-11-ã€æ ‡ç­¾çš„-ref-å±æ€§ã€‘"></a>3.11. ã€æ ‡ç­¾çš„ ref å±æ€§ã€‘</h2>
<p>ä½œç”¨ï¼šç”¨äºæ³¨å†Œæ¨¡æ¿å¼•ç”¨ã€‚</p>
<blockquote>
<ul>
<li>
<p>ç”¨åœ¨æ™®é€š<code>DOM</code>æ ‡ç­¾ä¸Šï¼Œè·å–çš„æ˜¯<code>DOM</code>èŠ‚ç‚¹ã€‚</p>
</li>
<li>
<p>ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼Œè·å–çš„æ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</p>
</li>
</ul>
</blockquote>
<p>ç”¨åœ¨æ™®é€š<code>DOM</code>æ ‡ç­¾ä¸Šï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h1 ref&#x3D;&quot;title1&quot;&gt;å°šç¡…è°·&lt;&#x2F;h1&gt;
    &lt;h2 ref&#x3D;&quot;title2&quot;&gt;å‰ç«¯&lt;&#x2F;h2&gt;
    &lt;h3 ref&#x3D;&quot;title3&quot;&gt;Vue&lt;&#x2F;h3&gt;
    &lt;input type&#x3D;&quot;text&quot; ref&#x3D;&quot;inpt&quot;&gt; &lt;br&gt;&lt;br&gt;
    &lt;button @click&#x3D;&quot;showLog&quot;&gt;ç‚¹æˆ‘æ‰“å°å†…å®¹&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
  import &#123;ref&#125; from &#39;vue&#39;
	
  let title1 &#x3D; ref()
  let title2 &#x3D; ref()
  let title3 &#x3D; ref()

  function showLog()&#123;
    &#x2F;&#x2F; é€šè¿‡idè·å–å…ƒç´ 
    const t1 &#x3D; document.getElementById(&#39;title1&#39;)
    &#x2F;&#x2F; æ‰“å°å†…å®¹
    console.log((t1 as HTMLElement).innerText)
    console.log((&lt;HTMLElement&gt;t1).innerText)
    console.log(t1?.innerText)
    
		&#x2F;************************************&#x2F;
		
    &#x2F;&#x2F; é€šè¿‡refè·å–å…ƒç´ 
    console.log(title1.value)
    console.log(title2.value)
    console.log(title3.value)
  &#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- çˆ¶ç»„ä»¶App.vue --&gt;
&lt;template&gt;
  &lt;Person ref&#x3D;&quot;ren&quot;&#x2F;&gt;
  &lt;button @click&#x3D;&quot;test&quot;&gt;æµ‹è¯•&lt;&#x2F;button&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;App&quot;&gt;
  import Person from &#39;.&#x2F;components&#x2F;Person.vue&#39;
  import &#123;ref&#125; from &#39;vue&#39;

  let ren &#x3D; ref()

  function test()&#123;
    console.log(ren.value.name)
    console.log(ren.value.age)
  &#125;
&lt;&#x2F;script&gt;


&lt;!-- å­ç»„ä»¶Person.vueä¸­è¦ä½¿ç”¨defineExposeæš´éœ²å†…å®¹ --&gt;
&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
  import &#123;ref,defineExpose&#125; from &#39;vue&#39;
	&#x2F;&#x2F; æ•°æ®
  let name &#x3D; ref(&#39;å¼ ä¸‰&#39;)
  let age &#x3D; ref(18)
  &#x2F;****************************&#x2F;
  &#x2F;****************************&#x2F;
  &#x2F;&#x2F; ä½¿ç”¨defineExposeå°†ç»„ä»¶ä¸­çš„æ•°æ®äº¤ç»™å¤–éƒ¨
  defineExpose(&#123;name,age&#125;)
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="3-12-ã€propsã€‘"><a class="headerlink" href="#3-12-ã€propsã€‘"></a>3.12. ã€propsã€‘</h2>
<blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œé™åˆ¶æ¯ä¸ªPersonå¯¹è±¡çš„æ ¼å¼</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">PersonInter</span> <span class="token punctuation">&#123;</span>
<span class="token literal-property property">id</span><span class="token operator">:</span>string<span class="token punctuation">,</span>
<span class="token literal-property property">name</span><span class="token operator">:</span>string<span class="token punctuation">,</span>
 <span class="token literal-property property">age</span><span class="token operator">:</span>number
<span class="token punctuation">&#125;</span>

<span class="token comment">// å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹Persons</span>
<span class="token keyword">export</span> type Persons <span class="token operator">=</span> Array<span class="token operator">&lt;</span>PersonInter<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>App.vue</code>ä¸­ä»£ç ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;Person :list&#x3D;&quot;persons&quot;&#x2F;&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;App&quot;&gt;
import Person from &#39;.&#x2F;components&#x2F;Person.vue&#39;
import &#123;reactive&#125; from &#39;vue&#39;
 import &#123;type Persons&#125; from &#39;.&#x2F;types&#39;

 let persons &#x3D; reactive&lt;Persons&gt;([
  &#123;id:&#39;e98219e12&#39;,name:&#39;å¼ ä¸‰&#39;,age:18&#125;,
   &#123;id:&#39;e98219e13&#39;,name:&#39;æå››&#39;,age:19&#125;,
    &#123;id:&#39;e98219e14&#39;,name:&#39;ç‹äº”&#39;,age:20&#125;
  ])
&lt;&#x2F;script&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>Person.vue</code>ä¸­ä»£ç ï¼š</p>
<pre class="line-numbers language-Vue" data-language="Vue"><code class="language-Vue">&lt;template&gt;
&lt;div class&#x3D;&quot;person&quot;&gt;
&lt;ul&gt;
  &lt;li v-for&#x3D;&quot;item in list&quot; :key&#x3D;&quot;item.id&quot;&gt;
     &#123;&#123;item.name&#125;&#125;--&#123;&#123;item.age&#125;&#125;
   &lt;&#x2F;li&gt;
 &lt;&#x2F;ul&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
import &#123;defineProps&#125; from &#39;vue&#39;
import &#123;type PersonInter&#125; from &#39;@&#x2F;types&#39;

&#x2F;&#x2F; ç¬¬ä¸€ç§å†™æ³•ï¼šä»…æ¥æ”¶
&#x2F;&#x2F; const props &#x3D; defineProps([&#39;list&#39;])

&#x2F;&#x2F; ç¬¬äºŒç§å†™æ³•ï¼šæ¥æ”¶+é™åˆ¶ç±»å‹
&#x2F;&#x2F; defineProps&lt;&#123;list:Persons&#125;&gt;()

&#x2F;&#x2F; ç¬¬ä¸‰ç§å†™æ³•ï¼šæ¥æ”¶+é™åˆ¶ç±»å‹+æŒ‡å®šé»˜è®¤å€¼+é™åˆ¶å¿…è¦æ€§
let props &#x3D; withDefaults(defineProps&lt;&#123;list?:Persons&#125;&gt;(),&#123;
  list:()&#x3D;&gt;[&#123;id:&#39;asdasg01&#39;,name:&#39;å°çŒªä½©å¥‡&#39;,age:18&#125;]
&#125;)
console.log(props)
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h2 id="3-13-ã€ç”Ÿå‘½å‘¨æœŸã€‘"><a class="headerlink" href="#3-13-ã€ç”Ÿå‘½å‘¨æœŸã€‘"></a>3.13. ã€ç”Ÿå‘½å‘¨æœŸã€‘</h2>
<ul>
<li>
<p>æ¦‚å¿µï¼š<code>Vue</code>ç»„ä»¶å®ä¾‹åœ¨åˆ›å»ºæ—¶è¦ç»å†ä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ­¥éª¤ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­<code>Vue</code>ä¼šåœ¨åˆé€‚çš„æ—¶æœºï¼Œè°ƒç”¨ç‰¹å®šçš„å‡½æ•°ï¼Œä»è€Œè®©å¼€å‘è€…æœ‰æœºä¼šåœ¨ç‰¹å®šé˜¶æ®µè¿è¡Œè‡ªå·±çš„ä»£ç ï¼Œè¿™äº›ç‰¹å®šçš„å‡½æ•°ç»Ÿç§°ä¸ºï¼šç”Ÿå‘½å‘¨æœŸé’©å­</p>
</li>
<li>
<p>è§„å¾‹ï¼š</p>
<blockquote>
<p>ç”Ÿå‘½å‘¨æœŸæ•´ä½“åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼š<strong>åˆ›å»ºã€æŒ‚è½½ã€æ›´æ–°ã€é”€æ¯</strong>ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸¤ä¸ªé’©å­ï¼Œä¸€å‰ä¸€åã€‚</p>
</blockquote>
</li>
<li>
<p><code>Vue2</code>çš„ç”Ÿå‘½å‘¨æœŸ</p>
<blockquote>
<p>åˆ›å»ºé˜¶æ®µï¼š<code>beforeCreate</code>ã€<code>created</code></p>
<p>æŒ‚è½½é˜¶æ®µï¼š<code>beforeMount</code>ã€<code>mounted</code></p>
<p>æ›´æ–°é˜¶æ®µï¼š<code>beforeUpdate</code>ã€<code>updated</code></p>
<p>é”€æ¯é˜¶æ®µï¼š<code>beforeDestroy</code>ã€<code>destroyed</code></p>
</blockquote>
</li>
<li>
<p><code>Vue3</code>çš„ç”Ÿå‘½å‘¨æœŸ</p>
<blockquote>
<p>åˆ›å»ºé˜¶æ®µï¼š<code>setup</code></p>
<p>æŒ‚è½½é˜¶æ®µï¼š<code>onBeforeMount</code>ã€<code>onMounted</code></p>
<p>æ›´æ–°é˜¶æ®µï¼š<code>onBeforeUpdate</code>ã€<code>onUpdated</code></p>
<p>å¸è½½é˜¶æ®µï¼š<code>onBeforeUnmount</code>ã€<code>onUnmounted</code></p>
</blockquote>
</li>
<li>
<p>å¸¸ç”¨çš„é’©å­ï¼š<code>onMounted</code>(æŒ‚è½½å®Œæ¯•)ã€<code>onUpdated</code>(æ›´æ–°å®Œæ¯•)ã€<code>onBeforeUnmount</code>(å¸è½½ä¹‹å‰)</p>
</li>
<li>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;person&quot;&gt;
    &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123; sum &#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button @click&#x3D;&quot;changeSum&quot;&gt;ç‚¹æˆ‘sum+1&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;!-- vue3å†™æ³• --&gt;
&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;Person&quot;&gt;
  import &#123; 
    ref, 
    onBeforeMount, 
    onMounted, 
    onBeforeUpdate, 
    onUpdated, 
    onBeforeUnmount, 
    onUnmounted 
  &#125; from &#39;vue&#39;

  &#x2F;&#x2F; æ•°æ®
  let sum &#x3D; ref(0)
  &#x2F;&#x2F; æ–¹æ³•
  function changeSum() &#123;
    sum.value +&#x3D; 1
  &#125;
  console.log(&#39;setup&#39;)
  &#x2F;&#x2F; ç”Ÿå‘½å‘¨æœŸé’©å­
  onBeforeMount(()&#x3D;&gt;&#123;
    console.log(&#39;æŒ‚è½½ä¹‹å‰&#39;)
  &#125;)
  onMounted(()&#x3D;&gt;&#123;
    console.log(&#39;æŒ‚è½½å®Œæ¯•&#39;)
  &#125;)
  onBeforeUpdate(()&#x3D;&gt;&#123;
    console.log(&#39;æ›´æ–°ä¹‹å‰&#39;)
  &#125;)
  onUpdated(()&#x3D;&gt;&#123;
    console.log(&#39;æ›´æ–°å®Œæ¯•&#39;)
  &#125;)
  onBeforeUnmount(()&#x3D;&gt;&#123;
    console.log(&#39;å¸è½½ä¹‹å‰&#39;)
  &#125;)
  onUnmounted(()&#x3D;&gt;&#123;
    console.log(&#39;å¸è½½å®Œæ¯•&#39;)
  &#125;)
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="3-14-ã€è‡ªå®šä¹‰hookã€‘"><a class="headerlink" href="#3-14-ã€è‡ªå®šä¹‰hookã€‘"></a>3.14. ã€è‡ªå®šä¹‰hookã€‘</h2>
<ul>
<li>
<p>ä»€ä¹ˆæ˜¯<code>hook</code>ï¼Ÿâ€”â€” æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠ<code>setup</code>å‡½æ•°ä¸­ä½¿ç”¨çš„<code>Composition API</code>è¿›è¡Œäº†å°è£…ï¼Œç±»ä¼¼äº<code>vue2.x</code>ä¸­çš„<code>mixin</code>ã€‚</p>
</li>
<li>
<p>è‡ªå®šä¹‰<code>hook</code>çš„ä¼˜åŠ¿ï¼šå¤ç”¨ä»£ç , è®©<code>setup</code>ä¸­çš„é€»è¾‘æ›´æ¸…æ¥šæ˜“æ‡‚ã€‚</p>
</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<ul>
<li>
<p><code>useSum.ts</code>ä¸­å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>ref<span class="token punctuation">,</span>onMounted<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
    sum<span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">decrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
    sum<span class="token punctuation">.</span>value <span class="token operator">-=</span> <span class="token number">1</span>
  <span class="token punctuation">&#125;</span>
  <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

  <span class="token comment">//å‘å¤–éƒ¨æš´éœ²æ•°æ®</span>
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>sum<span class="token punctuation">,</span>increment<span class="token punctuation">,</span>decrement<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>		<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p><code>useDog.ts</code>ä¸­å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>reactive<span class="token punctuation">,</span>onMounted<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> axios<span class="token punctuation">,</span><span class="token punctuation">&#123;</span>AxiosError<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> dogList <span class="token operator">=</span> reactive<span class="token operator">&lt;</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token comment">// æ–¹æ³•</span>
  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getDog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// å‘è¯·æ±‚</span>
      <span class="token keyword">let</span> <span class="token punctuation">&#123;</span>data<span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://dog.ceo/api/breed/pembroke/images/random'</span><span class="token punctuation">)</span>
      <span class="token comment">// ç»´æŠ¤æ•°æ®</span>
      dogList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// å¤„ç†é”™è¯¯</span>
      <span class="token keyword">const</span> err <span class="token operator">=</span> <span class="token operator">&lt;</span>AxiosError<span class="token operator">></span>error
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token comment">// æŒ‚è½½é’©å­</span>
  <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
    <span class="token function">getDog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	
  <span class="token comment">//å‘å¤–éƒ¨æš´éœ²æ•°æ®</span>
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>dogList<span class="token punctuation">,</span>getDog<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>ç»„ä»¶ä¸­å…·ä½“ä½¿ç”¨ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123;sum&#125;&#125;&lt;&#x2F;h2&gt;
  &lt;button @click&#x3D;&quot;increment&quot;&gt;ç‚¹æˆ‘+1&lt;&#x2F;button&gt;
  &lt;button @click&#x3D;&quot;decrement&quot;&gt;ç‚¹æˆ‘-1&lt;&#x2F;button&gt;
  &lt;hr&gt;
  &lt;img v-for&#x3D;&quot;(u,index) in dogList.urlList&quot; :key&#x3D;&quot;index&quot; :src&#x3D;&quot;(u as string)&quot;&gt; 
  &lt;span v-show&#x3D;&quot;dogList.isLoading&quot;&gt;åŠ è½½ä¸­......&lt;&#x2F;span&gt;&lt;br&gt;
  &lt;button @click&#x3D;&quot;getDog&quot;&gt;å†æ¥ä¸€åªç‹—&lt;&#x2F;button&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot;&gt;
  import &#123;defineComponent&#125; from &#39;vue&#39;

  export default defineComponent(&#123;
    name:&#39;App&#39;,
  &#125;)
&lt;&#x2F;script&gt;

&lt;script setup lang&#x3D;&quot;ts&quot;&gt;
  import useSum from &#39;.&#x2F;hooks&#x2F;useSum&#39;
  import useDog from &#39;.&#x2F;hooks&#x2F;useDog&#39;
	
  let &#123;sum,increment,decrement&#125; &#x3D; useSum()
  let &#123;dogList,getDog&#125; &#x3D; useDog()
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<hr>
<h1 id="4-è·¯ç”±"><a class="headerlink" href="#4-è·¯ç”±"></a>4. è·¯ç”±</h1>
<h2 id="4-1-ã€å¯¹è·¯ç”±çš„ç†è§£ã€‘"><a class="headerlink" href="#4-1-ã€å¯¹è·¯ç”±çš„ç†è§£ã€‘"></a>4.1. ã€å¯¹è·¯ç”±çš„ç†è§£ã€‘</h2>
<p><img src="https://alist.aixcc.top/d/OneDrive/img/202407151232332.webp" alt="" loading="lazy"></p>
<h2 id="4-2-ã€åŸºæœ¬åˆ‡æ¢æ•ˆæœã€‘"><a class="headerlink" href="#4-2-ã€åŸºæœ¬åˆ‡æ¢æ•ˆæœã€‘"></a>4.2. ã€åŸºæœ¬åˆ‡æ¢æ•ˆæœã€‘</h2>
<ul>
<li>
<p><code>Vue3</code>ä¸­è¦ä½¿ç”¨<code>vue-router</code>çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç›®å‰æ˜¯<code>4</code>ç‰ˆæœ¬ã€‚</p>
</li>
<li>
<p>è·¯ç”±é…ç½®æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>createRouter<span class="token punctuation">,</span>createWebHistory<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'@/pages/Home.vue'</span>
<span class="token keyword">import</span> News <span class="token keyword">from</span> <span class="token string">'@/pages/News.vue'</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'@/pages/About.vue'</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	<span class="token literal-property property">history</span><span class="token operator">:</span><span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">&#123;</span>
			<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">component</span><span class="token operator">:</span>Home
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#123;</span>
			<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
			<span class="token literal-property property">component</span><span class="token operator">:</span>About
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<ul>
<li>
<p><code>main.ts</code>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router/index'</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<ul>
<li>
<p><code>App.vue</code>ä»£ç å¦‚ä¸‹</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;app&quot;&gt;
    &lt;h2 class&#x3D;&quot;title&quot;&gt;Vueè·¯ç”±æµ‹è¯•&lt;&#x2F;h2&gt;
    &lt;!-- å¯¼èˆªåŒº --&gt;
    &lt;div class&#x3D;&quot;navigate&quot;&gt;
      &lt;RouterLink to&#x3D;&quot;&#x2F;home&quot; active-class&#x3D;&quot;active&quot;&gt;é¦–é¡µ&lt;&#x2F;RouterLink&gt;
      &lt;RouterLink to&#x3D;&quot;&#x2F;news&quot; active-class&#x3D;&quot;active&quot;&gt;æ–°é—»&lt;&#x2F;RouterLink&gt;
      &lt;RouterLink to&#x3D;&quot;&#x2F;about&quot; active-class&#x3D;&quot;active&quot;&gt;å…³äº&lt;&#x2F;RouterLink&gt;
    &lt;&#x2F;div&gt;
    &lt;!-- å±•ç¤ºåŒº --&gt;
    &lt;div class&#x3D;&quot;main-content&quot;&gt;
      &lt;RouterView&gt;&lt;&#x2F;RouterView&gt;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script lang&#x3D;&quot;ts&quot; setup name&#x3D;&quot;App&quot;&gt;
  import &#123;RouterLink,RouterView&#125; from &#39;vue-router&#39;  
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="4-3-ã€ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‘"><a class="headerlink" href="#4-3-ã€ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‘"></a>4.3. ã€ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‘</h2>
<blockquote>
<ol>
<li>
<p>è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>pages</code> æˆ– <code>views</code>æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>components</code>æ–‡ä»¶å¤¹ã€‚</p>
</li>
<li>
<p>é€šè¿‡ç‚¹å‡»å¯¼èˆªï¼Œè§†è§‰æ•ˆæœä¸Šâ€œæ¶ˆå¤±â€ äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«<strong>å¸è½½</strong>æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»<strong>æŒ‚è½½</strong>ã€‚</p>
</li>
</ol>
</blockquote>
<h2 id="4-4-ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ã€‘"><a class="headerlink" href="#4-4-ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ã€‘"></a>4.4.ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ã€‘</h2>
<ol>
<li>
<p><code>history</code>æ¨¡å¼</p>
<blockquote>
<p>ä¼˜ç‚¹ï¼š<code>URL</code>æ›´åŠ ç¾è§‚ï¼Œä¸å¸¦æœ‰<code>#</code>ï¼Œæ›´æ¥è¿‘ä¼ ç»Ÿçš„ç½‘ç«™<code>URL</code>ã€‚</p>
<p>ç¼ºç‚¹ï¼šåæœŸé¡¹ç›®ä¸Šçº¿ï¼Œéœ€è¦æœåŠ¡ç«¯é…åˆå¤„ç†è·¯å¾„é—®é¢˜ï¼Œå¦åˆ™åˆ·æ–°ä¼šæœ‰<code>404</code>é”™è¯¯ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	<span class="token literal-property property">history</span><span class="token operator">:</span><span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//historyæ¨¡å¼</span>
	<span class="token comment">/******/</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
</li>
<li>
<p><code>hash</code>æ¨¡å¼</p>
<blockquote>
<p>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§æ›´å¥½ï¼Œå› ä¸ºä¸éœ€è¦æœåŠ¡å™¨ç«¯å¤„ç†è·¯å¾„ã€‚</p>
<p>ç¼ºç‚¹ï¼š<code>URL</code>å¸¦æœ‰<code>#</code>ä¸å¤ªç¾è§‚ï¼Œä¸”åœ¨<code>SEO</code>ä¼˜åŒ–æ–¹é¢ç›¸å¯¹è¾ƒå·®ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	<span class="token literal-property property">history</span><span class="token operator">:</span><span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//hashæ¨¡å¼</span>
	<span class="token comment">/******/</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
</li>
</ol>
<h2 id="4-5-ã€toçš„ä¸¤ç§å†™æ³•ã€‘"><a class="headerlink" href="#4-5-ã€toçš„ä¸¤ç§å†™æ³•ã€‘"></a>4.5. ã€toçš„ä¸¤ç§å†™æ³•ã€‘</h2>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- ç¬¬ä¸€ç§ï¼štoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;
&lt;router-link active-class&#x3D;&quot;active&quot; to&#x3D;&quot;&#x2F;home&quot;&gt;ä¸»é¡µ&lt;&#x2F;router-link&gt;

&lt;!-- ç¬¬äºŒç§ï¼štoçš„å¯¹è±¡å†™æ³• --&gt;
&lt;router-link active-class&#x3D;&quot;active&quot; :to&#x3D;&quot;&#123;path:&#39;&#x2F;home&#39;&#125;&quot;&gt;Home&lt;&#x2F;router-link&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="4-6-ã€å‘½åè·¯ç”±ã€‘"><a class="headerlink" href="#4-6-ã€å‘½åè·¯ç”±ã€‘"></a>4.6. ã€å‘½åè·¯ç”±ã€‘</h2>
<p>ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±è·³è½¬åŠä¼ å‚ï¼ˆåé¢å°±è®²ï¼‰ã€‚</p>
<p>ç»™è·¯ç”±è§„åˆ™å‘½åï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'zhuye'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span>Home
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xinwen'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/news'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span>News<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'guanyu'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span>About
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è·³è½¬è·¯ç”±ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!--ç®€åŒ–å‰ï¼šéœ€è¦å†™å®Œæ•´çš„è·¯å¾„ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;
&lt;router-link to&#x3D;&quot;&#x2F;news&#x2F;detail&quot;&gt;è·³è½¬&lt;&#x2F;router-link&gt;

&lt;!--ç®€åŒ–åï¼šç›´æ¥é€šè¿‡åå­—è·³è½¬ï¼ˆtoçš„å¯¹è±¡å†™æ³•é…åˆnameå±æ€§ï¼‰ --&gt;
&lt;router-link :to&#x3D;&quot;&#123;name:&#39;guanyu&#39;&#125;&quot;&gt;è·³è½¬&lt;&#x2F;router-link&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="4-7-ã€åµŒå¥—è·¯ç”±ã€‘"><a class="headerlink" href="#4-7-ã€åµŒå¥—è·¯ç”±ã€‘"></a>4.7. ã€åµŒå¥—è·¯ç”±ã€‘</h2>
<ol>
<li>
<p>ç¼–å†™<code>News</code>çš„å­è·¯ç”±ï¼š<code>Detail.vue</code></p>
</li>
<li>
<p>é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨<code>children</code>é…ç½®é¡¹ï¼š</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  history<span class="token operator">:</span><span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	routes<span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">&#123;</span>
			name<span class="token operator">:</span><span class="token string">'zhuye'</span><span class="token punctuation">,</span>
			path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>Home
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#123;</span>
			name<span class="token operator">:</span><span class="token string">'xinwen'</span><span class="token punctuation">,</span>
			path<span class="token operator">:</span><span class="token string">'/news'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>News<span class="token punctuation">,</span>
			children<span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">&#123;</span>
					name<span class="token operator">:</span><span class="token string">'xiang'</span><span class="token punctuation">,</span>
					path<span class="token operator">:</span><span class="token string">'detail'</span><span class="token punctuation">,</span>
					component<span class="token operator">:</span>Detail
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#123;</span>
			name<span class="token operator">:</span><span class="token string">'guanyu'</span><span class="token punctuation">,</span>
			path<span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>About
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>è·³è½¬è·¯ç”±ï¼ˆè®°å¾—è¦åŠ å®Œæ•´è·¯å¾„ï¼‰ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;router-link to&#x3D;&quot;&#x2F;news&#x2F;detail&quot;&gt;xxxx&lt;&#x2F;router-link&gt;
&lt;!-- æˆ– --&gt;
&lt;router-link :to&#x3D;&quot;&#123;path:&#39;&#x2F;news&#x2F;detail&#39;&#125;&quot;&gt;xxxx&lt;&#x2F;router-link&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>è®°å¾—å»<code>Home</code>ç»„ä»¶ä¸­é¢„ç•™ä¸€ä¸ª<code>&lt;router-view&gt;</code></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;news&quot;&gt;
    &lt;nav class&#x3D;&quot;news-list&quot;&gt;
      &lt;RouterLink v-for&#x3D;&quot;news in newsList&quot; :key&#x3D;&quot;news.id&quot; :to&#x3D;&quot;&#123;path:&#39;&#x2F;news&#x2F;detail&#39;&#125;&quot;&gt;
        &#123;&#123;news.name&#125;&#125;
      &lt;&#x2F;RouterLink&gt;
    &lt;&#x2F;nav&gt;
    &lt;div class&#x3D;&quot;news-detail&quot;&gt;
      &lt;RouterView&#x2F;&gt;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="4-8-ã€è·¯ç”±ä¼ å‚ã€‘"><a class="headerlink" href="#4-8-ã€è·¯ç”±ä¼ å‚ã€‘"></a>4.8. ã€è·¯ç”±ä¼ å‚ã€‘</h2>
<h3 id="queryå‚æ•°"><a class="headerlink" href="#queryå‚æ•°"></a>queryå‚æ•°</h3>
<ol>
<li>
<p>ä¼ é€’å‚æ•°</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;
&lt;router-link to&#x3D;&quot;&#x2F;news&#x2F;detail?a&#x3D;1&amp;b&#x3D;2&amp;content&#x3D;æ¬¢è¿ä½ &quot;&gt;
	è·³è½¬
&lt;&#x2F;router-link&gt;
				
&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ --&gt;
&lt;RouterLink 
  :to&#x3D;&quot;&#123;
    &#x2F;&#x2F;name:&#39;xiang&#39;, &#x2F;&#x2F;ç”¨nameä¹Ÿå¯ä»¥è·³è½¬
    path:&#39;&#x2F;news&#x2F;detail&#39;,
    query:&#123;
      id:news.id,
      title:news.title,
      content:news.content
    &#125;
  &#125;&quot;
&gt;
  &#123;&#123;news.title&#125;&#125;
&lt;&#x2F;RouterLink&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>æ¥æ”¶å‚æ•°ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>useRoute<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// æ‰“å°queryå‚æ•°</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="paramså‚æ•°"><a class="headerlink" href="#paramså‚æ•°"></a>paramså‚æ•°</h3>
<ol>
<li>
<p>ä¼ é€’å‚æ•°</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;
&lt;RouterLink :to&#x3D;&quot;&#96;&#x2F;news&#x2F;detail&#x2F;001&#x2F;æ–°é—»001&#x2F;å†…å®¹001&#96;&quot;&gt;&#123;&#123;news.title&#125;&#125;&lt;&#x2F;RouterLink&gt;
				
&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ --&gt;
&lt;RouterLink 
  :to&#x3D;&quot;&#123;
    name:&#39;xiang&#39;, &#x2F;&#x2F;ç”¨nameè·³è½¬
    params:&#123;
      id:news.id,
      title:news.title,
      content:news.title
    &#125;
  &#125;&quot;
&gt;
  &#123;&#123;news.title&#125;&#125;
&lt;&#x2F;RouterLink&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>æ¥æ”¶å‚æ•°ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>useRoute<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// æ‰“å°paramså‚æ•°</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>params<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<blockquote>
<p>å¤‡æ³¨1ï¼šä¼ é€’<code>params</code>å‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨<code>to</code>çš„å¯¹è±¡å†™æ³•ï¼Œå¿…é¡»ä½¿ç”¨<code>name</code>é…ç½®é¡¹ï¼Œä¸èƒ½ç”¨<code>path</code>ã€‚</p>
<p>å¤‡æ³¨2ï¼šä¼ é€’<code>params</code>å‚æ•°æ—¶ï¼Œéœ€è¦æå‰åœ¨è§„åˆ™ä¸­å ä½ã€‚</p>
</blockquote>
<h2 id="4-9-ã€è·¯ç”±çš„propsé…ç½®ã€‘"><a class="headerlink" href="#4-9-ã€è·¯ç”±çš„propsé…ç½®ã€‘"></a>4.9. ã€è·¯ç”±çš„propsé…ç½®ã€‘</h2>
<p>ä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°ï¼ˆå¯ä»¥å°†è·¯ç”±å‚æ•°ä½œä¸º<code>props</code>ä¼ ç»™ç»„ä»¶ï¼‰</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xiang'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'detail/:id/:title/:content'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">component</span><span class="token operator">:</span>Detail<span class="token punctuation">,</span>

  <span class="token comment">// propsçš„å¯¹è±¡å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠå¯¹è±¡ä¸­çš„æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span>
  <span class="token comment">// props:&#123;a:1,b:2,c:3&#125;, </span>

  <span class="token comment">// propsçš„å¸ƒå°”å€¼å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠæ”¶åˆ°äº†æ¯ä¸€ç»„paramså‚æ•°ï¼Œä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span>
  <span class="token comment">// props:true</span>
  
  <span class="token comment">// propsçš„å‡½æ•°å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠè¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span>
  <span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter">route</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> route<span class="token punctuation">.</span>query
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="4-10-ã€-replaceå±æ€§ã€‘"><a class="headerlink" href="#4-10-ã€-replaceå±æ€§ã€‘"></a>4.10. ã€ replaceå±æ€§ã€‘</h2>
<ol>
<li>
<p>ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼ã€‚</p>
</li>
<li>
<p>æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸º<code>push</code>å’Œ<code>replace</code>ï¼š</p>
<ul>
<li><code>push</code>æ˜¯è¿½åŠ å†å²è®°å½•ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚</li>
<li><code>replace</code>æ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚</li>
</ul>
</li>
<li>
<p>å¼€å¯<code>replace</code>æ¨¡å¼ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;RouterLink replace .......&gt;News&lt;&#x2F;RouterLink&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ol>
<h2 id="4-11-ã€ç¼–ç¨‹å¼å¯¼èˆªã€‘"><a class="headerlink" href="#4-11-ã€ç¼–ç¨‹å¼å¯¼èˆªã€‘"></a>4.11. ã€ç¼–ç¨‹å¼å¯¼èˆªã€‘</h2>
<p>è·¯ç”±ç»„ä»¶çš„ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼š<code>$route</code>å’Œ<code>$router</code>å˜æˆäº†ä¸¤ä¸ª<code>hooks</code></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>useRoute<span class="token punctuation">,</span>useRouter<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>query<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>parmas<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>push<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>router<span class="token punctuation">.</span>replace<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="4-12-ã€é‡å®šå‘ã€‘"><a class="headerlink" href="#4-12-ã€é‡å®šå‘ã€‘"></a>4.12. ã€é‡å®šå‘ã€‘</h2>
<ol>
<li>
<p>ä½œç”¨ï¼šå°†ç‰¹å®šçš„è·¯å¾„ï¼Œé‡æ–°å®šå‘åˆ°å·²æœ‰è·¯ç”±ã€‚</p>
</li>
<li>
<p>å…·ä½“ç¼–ç ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">redirect</span><span class="token operator">:</span><span class="token string">'/about'</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h1 id="5-pinia"><a class="headerlink" href="#5-pinia"></a>5. pinia</h1>
<h2 id="5-1ã€å‡†å¤‡ä¸€ä¸ªæ•ˆæœã€‘"><a class="headerlink" href="#5-1ã€å‡†å¤‡ä¸€ä¸ªæ•ˆæœã€‘"></a>5.1ã€å‡†å¤‡ä¸€ä¸ªæ•ˆæœã€‘</h2>
<p><img src="https://img.aixcc.top/file/f14ee7ea7c72a9003d7b8.gif" alt="" loading="lazy"></p>
<h2 id="5-2ã€æ­å»º-pinia-ç¯å¢ƒã€‘"><a class="headerlink" href="#5-2ã€æ­å»º-pinia-ç¯å¢ƒã€‘"></a>5.2ã€æ­å»º pinia ç¯å¢ƒã€‘</h2>
<p>ç¬¬ä¸€æ­¥ï¼š<code>npm install pinia</code></p>
<p>ç¬¬äºŒæ­¥ï¼šæ“ä½œ<code>src/main.ts</code></p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createApp <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

<span class="token comment">/* å¼•å…¥createPiniaï¼Œç”¨äºåˆ›å»ºpinia */</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createPinia <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>

<span class="token comment">/* åˆ›å»ºpinia */</span>
<span class="token keyword">const</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

<span class="token comment">/* ä½¿ç”¨æ’ä»¶ */</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>pinia<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ­¤æ—¶å¼€å‘è€…å·¥å…·ä¸­å·²ç»æœ‰äº†<code>pinia</code>é€‰é¡¹</p>
<p><img src="https://alist.aixcc.top/d/OneDrive/img/202407151232851.webp" alt="" loading="lazy"></p>
<h2 id="5-3ã€å­˜å‚¨-è¯»å–æ•°æ®ã€‘"><a class="headerlink" href="#5-3ã€å­˜å‚¨-è¯»å–æ•°æ®ã€‘"></a>5.3ã€å­˜å‚¨+è¯»å–æ•°æ®ã€‘</h2>
<ol>
<li>
<p><code>Store</code>æ˜¯ä¸€ä¸ªä¿å­˜ï¼š<strong>çŠ¶æ€</strong>ã€<strong>ä¸šåŠ¡é€»è¾‘</strong> çš„å®ä½“ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥<strong>è¯»å–</strong>ã€<strong>å†™å…¥</strong>å®ƒã€‚</p>
</li>
<li>
<p>å®ƒæœ‰ä¸‰ä¸ªæ¦‚å¿µï¼š<code>state</code>ã€<code>getter</code>ã€<code>action</code>ï¼Œç›¸å½“äºç»„ä»¶ä¸­çš„ï¼š <code>data</code>ã€ <code>computed</code> å’Œ <code>methods</code>ã€‚</p>
</li>
<li>
<p>å…·ä½“ç¼–ç ï¼š<code>src/store/count.ts</code></p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span>defineStore<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>

<span class="token comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> useCountStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'count'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>
  <span class="token comment">// åŠ¨ä½œ</span>
  actions<span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">// çŠ¶æ€</span>
  <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      sum<span class="token operator">:</span><span class="token number">6</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">// è®¡ç®—</span>
  getters<span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>å…·ä½“ç¼–ç ï¼š<code>src/store/talk.ts</code></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span>defineStore<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>

<span class="token comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> useTalkStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'talk'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>
  <span class="token comment">// åŠ¨ä½œ</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">// çŠ¶æ€</span>
  <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">talkList</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'yuysada01'</span><span class="token punctuation">,</span><span class="token literal-property property">content</span><span class="token operator">:</span><span class="token string">'ä½ ä»Šå¤©æœ‰ç‚¹æ€ªï¼Œå“ªé‡Œæ€ªï¼Ÿæ€ªå¥½çœ‹çš„ï¼'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
     		<span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'yuysada02'</span><span class="token punctuation">,</span><span class="token literal-property property">content</span><span class="token operator">:</span><span class="token string">'è‰è“ã€è“è“ã€è”“è¶Šè“ï¼Œä½ æƒ³æˆ‘äº†æ²¡ï¼Ÿ'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'yuysada03'</span><span class="token punctuation">,</span><span class="token literal-property property">content</span><span class="token operator">:</span><span class="token string">'å¿ƒé‡Œç»™ä½ ç•™äº†ä¸€å—åœ°ï¼Œæˆ‘çš„æ­»å¿ƒå¡Œåœ°'</span><span class="token punctuation">&#125;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">// è®¡ç®—</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>ç»„ä»¶ä¸­ä½¿ç”¨<code>state</code>ä¸­çš„æ•°æ®</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123; sumStore.sum &#125;&#125;&lt;&#x2F;h2&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;Count&quot;&gt;
  &#x2F;&#x2F; å¼•å…¥å¯¹åº”çš„useXxxxxStore	
  import &#123;useSumStore&#125; from &#39;@&#x2F;store&#x2F;sum&#39;
  
  &#x2F;&#x2F; è°ƒç”¨useXxxxxStoreå¾—åˆ°å¯¹åº”çš„store
  const sumStore &#x3D; useSumStore()
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;ul&gt;
    &lt;li v-for&#x3D;&quot;talk in talkStore.talkList&quot; :key&#x3D;&quot;talk.id&quot;&gt;
      &#123;&#123; talk.content &#125;&#125;
    &lt;&#x2F;li&gt;
  &lt;&#x2F;ul&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;Count&quot;&gt;
  import axios from &#39;axios&#39;
  import &#123;useTalkStore&#125; from &#39;@&#x2F;store&#x2F;talk&#39;

  const talkStore &#x3D; useTalkStore()
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="5-4-ã€ä¿®æ”¹æ•°æ®ã€‘-ä¸‰ç§æ–¹å¼"><a class="headerlink" href="#5-4-ã€ä¿®æ”¹æ•°æ®ã€‘-ä¸‰ç§æ–¹å¼"></a>5.4.ã€ä¿®æ”¹æ•°æ®ã€‘(ä¸‰ç§æ–¹å¼)</h2>
<ol>
<li>
<p>ç¬¬ä¸€ç§ä¿®æ”¹æ–¹å¼ï¼Œç›´æ¥ä¿®æ”¹</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript">countStore<span class="token punctuation">.</span>sum <span class="token operator">=</span> <span class="token number">666</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>ç¬¬äºŒç§ä¿®æ”¹æ–¹å¼ï¼šæ‰¹é‡ä¿®æ”¹</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript">countStore<span class="token punctuation">.</span><span class="token function">$patch</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  sum<span class="token operator">:</span><span class="token number">999</span><span class="token punctuation">,</span>
  school<span class="token operator">:</span><span class="token string">'atguigu'</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>ç¬¬ä¸‰ç§ä¿®æ”¹æ–¹å¼ï¼šå€ŸåŠ©<code>action</code>ä¿®æ”¹ï¼ˆ<code>action</code>ä¸­å¯ä»¥ç¼–å†™ä¸€äº›ä¸šåŠ¡é€»è¾‘ï¼‰</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useCountStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'count'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">/*************/</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//åŠ </span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span>number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//æ“ä½œcountStoreä¸­çš„sum</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">+=</span> value
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">//å‡</span>
    <span class="token function">decrement</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span>number</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">-=</span> value
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">/*************/</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>ç»„ä»¶ä¸­è°ƒç”¨<code>action</code>å³å¯</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ä½¿ç”¨countStore</span>
<span class="token keyword">const</span> countStore <span class="token operator">=</span> <span class="token function">useCountStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// è°ƒç”¨å¯¹åº”action</span>
countStore<span class="token punctuation">.</span><span class="token function">incrementOdd</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="5-5-ã€storeToRefsã€‘"><a class="headerlink" href="#5-5-ã€storeToRefsã€‘"></a>5.5.ã€storeToRefsã€‘</h2>
<ul>
<li>å€ŸåŠ©<code>storeToRefs</code>å°†<code>store</code>ä¸­çš„æ•°æ®è½¬ä¸º<code>ref</code>å¯¹è±¡ï¼Œæ–¹ä¾¿åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚</li>
<li>æ³¨æ„ï¼š<code>pinia</code>æä¾›çš„<code>storeToRefs</code>åªä¼šå°†æ•°æ®åšè½¬æ¢ï¼Œè€Œ<code>Vue</code>çš„<code>toRefs</code>ä¼šè½¬æ¢<code>store</code>ä¸­æ•°æ®ã€‚</li>
</ul>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;div class&#x3D;&quot;count&quot;&gt;
		&lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123;sum&#125;&#125;&lt;&#x2F;h2&gt;
	&lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;Count&quot;&gt;
  import &#123; useCountStore &#125; from &#39;@&#x2F;store&#x2F;count&#39;
  &#x2F;* å¼•å…¥storeToRefs *&#x2F;
  import &#123; storeToRefs &#125; from &#39;pinia&#39;

	&#x2F;* å¾—åˆ°countStore *&#x2F;
  const countStore &#x3D; useCountStore()
  &#x2F;* ä½¿ç”¨storeToRefsè½¬æ¢countStoreï¼Œéšåè§£æ„ *&#x2F;
  const &#123;sum&#125; &#x3D; storeToRefs(countStore)
&lt;&#x2F;script&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="5-6-ã€gettersã€‘"><a class="headerlink" href="#5-6-ã€gettersã€‘"></a>5.6.ã€gettersã€‘</h2>
<ol>
<li>
<p>æ¦‚å¿µï¼šå½“<code>state</code>ä¸­çš„æ•°æ®ï¼Œéœ€è¦ç»è¿‡å¤„ç†åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>getters</code>é…ç½®ã€‚</p>
</li>
<li>
<p>è¿½åŠ <code>getters</code>é…ç½®ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span>defineStore<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>

<span class="token comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> useCountStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'count'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>
  <span class="token comment">// åŠ¨ä½œ</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span><span class="token punctuation">&#123;</span>
    <span class="token comment">/************/</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">// çŠ¶æ€</span>
  <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">sum</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">school</span><span class="token operator">:</span><span class="token string">'atguigu'</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">// è®¡ç®—</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">bigSum</span><span class="token operator">:</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token operator">:</span><span class="token parameter">number</span> <span class="token operator">=></span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token function">upperSchool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>string<span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span> school<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">&#123;</span>increment<span class="token punctuation">,</span>decrement<span class="token punctuation">&#125;</span> <span class="token operator">=</span> countStore
<span class="token keyword">let</span> <span class="token punctuation">&#123;</span>sum<span class="token punctuation">,</span>school<span class="token punctuation">,</span>bigSum<span class="token punctuation">,</span>upperSchool<span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">storeToRefs</span><span class="token punctuation">(</span>countStore<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="5-7-ã€-subscribeã€‘"><a class="headerlink" href="#5-7-ã€-subscribeã€‘"></a>5.7.ã€$subscribeã€‘</h2>
<p>é€šè¿‡ store çš„ <code>$subscribe()</code> æ–¹æ³•ä¾¦å¬ <code>state</code> åŠå…¶å˜åŒ–</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript">talkStore<span class="token punctuation">.</span><span class="token function">$subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>mutate<span class="token punctuation">,</span>state<span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'LoveTalk'</span><span class="token punctuation">,</span>mutate<span class="token punctuation">,</span>state<span class="token punctuation">)</span>
  localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'talk'</span><span class="token punctuation">,</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>talkList<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="5-8-ã€storeç»„åˆå¼å†™æ³•ã€‘"><a class="headerlink" href="#5-8-ã€storeç»„åˆå¼å†™æ³•ã€‘"></a>5.8. ã€storeç»„åˆå¼å†™æ³•ã€‘</h2>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>defineStore<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span>nanoid<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'nanoid'</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span>reactive<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useTalkStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'talk'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
  <span class="token comment">// talkListå°±æ˜¯state</span>
  <span class="token keyword">const</span> talkList <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span>
    <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'talkList'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span>

  <span class="token comment">// getATalkå‡½æ•°ç›¸å½“äºaction</span>
  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getATalk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// å‘è¯·æ±‚ï¼Œä¸‹é¢è¿™è¡Œçš„å†™æ³•æ˜¯ï¼šè¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å</span>
    <span class="token keyword">let</span> <span class="token punctuation">&#123;</span>data<span class="token operator">:</span><span class="token punctuation">&#123;</span>content<span class="token operator">:</span>title<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://api.uomg.com/api/rand.qinghua?format=json'</span><span class="token punctuation">)</span>
    <span class="token comment">// æŠŠè¯·æ±‚å›æ¥çš„å­—ç¬¦ä¸²ï¼ŒåŒ…è£…æˆä¸€ä¸ªå¯¹è±¡</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token function">nanoid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>title<span class="token punctuation">&#125;</span>
    <span class="token comment">// æ”¾åˆ°æ•°ç»„ä¸­</span>
    talkList<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>talkList<span class="token punctuation">,</span>getATalk<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="6-ç»„ä»¶é€šä¿¡"><a class="headerlink" href="#6-ç»„ä»¶é€šä¿¡"></a>6. ç»„ä»¶é€šä¿¡</h1>
<p><strong><code>Vue3</code>ç»„ä»¶é€šä¿¡å’Œ<code>Vue2</code>çš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li>ç§»å‡ºäº‹ä»¶æ€»çº¿ï¼Œä½¿ç”¨<code>mitt</code>ä»£æ›¿ã€‚</li>
</ul>
<ul>
<li><code>vuex</code>æ¢æˆäº†<code>pinia</code>ã€‚</li>
<li>æŠŠ<code>.sync</code>ä¼˜åŒ–åˆ°äº†<code>v-model</code>é‡Œé¢äº†ã€‚</li>
<li>æŠŠ<code>$listeners</code>æ‰€æœ‰çš„ä¸œè¥¿ï¼Œåˆå¹¶åˆ°<code>$attrs</code>ä¸­äº†ã€‚</li>
<li><code>$children</code>è¢«ç æ‰äº†ã€‚</li>
</ul>
<p><strong>å¸¸è§æ­é…å½¢å¼ï¼š</strong></p>
<p><img src="https://alist.aixcc.top/d/OneDrive/img/202407151232507.webp" alt="image-20231119185900990" loading="lazy"></p>
<h2 id="6-1-ã€propsã€‘"><a class="headerlink" href="#6-1-ã€propsã€‘"></a>6.1. ã€propsã€‘</h2>
<p>æ¦‚è¿°ï¼š<code>props</code>æ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œå¸¸ç”¨ä¸ ï¼š<strong>çˆ¶ â†” å­</strong>ã€‚</p>
<ul>
<li>è‹¥ <strong>çˆ¶ä¼ å­</strong>ï¼šå±æ€§å€¼æ˜¯<strong>éå‡½æ•°</strong>ã€‚</li>
<li>è‹¥ <strong>å­ä¼ çˆ¶</strong>ï¼šå±æ€§å€¼æ˜¯<strong>å‡½æ•°</strong>ã€‚</li>
</ul>
<p>çˆ¶ç»„ä»¶ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;father&quot;&gt;
    &lt;h3&gt;çˆ¶ç»„ä»¶ï¼Œ&lt;&#x2F;h3&gt;
		&lt;h4&gt;æˆ‘çš„è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;&#x2F;h4&gt;
		&lt;h4&gt;å„¿å­ç»™çš„ç©å…·ï¼š&#123;&#123; toy &#125;&#125;&lt;&#x2F;h4&gt;
		&lt;Child :car&#x3D;&quot;car&quot; :getToy&#x3D;&quot;getToy&quot;&#x2F;&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;Father&quot;&gt;
	import Child from &#39;.&#x2F;Child.vue&#39;
	import &#123; ref &#125; from &quot;vue&quot;;
	&#x2F;&#x2F; æ•°æ®
	const car &#x3D; ref(&#39;å¥”é©°&#39;)
	const toy &#x3D; ref()
	&#x2F;&#x2F; æ–¹æ³•
	function getToy(value:string)&#123;
		toy.value &#x3D; value
	&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å­ç»„ä»¶</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;child&quot;&gt;
    &lt;h3&gt;å­ç»„ä»¶&lt;&#x2F;h3&gt;
		&lt;h4&gt;æˆ‘çš„ç©å…·ï¼š&#123;&#123; toy &#125;&#125;&lt;&#x2F;h4&gt;
		&lt;h4&gt;çˆ¶ç»™æˆ‘çš„è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;&#x2F;h4&gt;
		&lt;button @click&#x3D;&quot;getToy(toy)&quot;&gt;ç©å…·ç»™çˆ¶äº²&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;Child&quot;&gt;
	import &#123; ref &#125; from &quot;vue&quot;;
	const toy &#x3D; ref(&#39;å¥¥ç‰¹æ›¼&#39;)
	
	defineProps([&#39;car&#39;,&#39;getToy&#39;])
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="6-2-ã€è‡ªå®šä¹‰äº‹ä»¶ã€‘"><a class="headerlink" href="#6-2-ã€è‡ªå®šä¹‰äº‹ä»¶ã€‘"></a>6.2. ã€è‡ªå®šä¹‰äº‹ä»¶ã€‘</h2>
<ol>
<li>æ¦‚è¿°ï¼šè‡ªå®šä¹‰äº‹ä»¶å¸¸ç”¨äºï¼š<strong>å­ =&gt; çˆ¶ã€‚</strong></li>
<li>æ³¨æ„åŒºåˆ†å¥½ï¼šåŸç”Ÿäº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ã€‚</li>
</ol>
<ul>
<li>åŸç”Ÿäº‹ä»¶ï¼š
<ul>
<li>äº‹ä»¶åæ˜¯ç‰¹å®šçš„ï¼ˆ<code>click</code>ã€<code>mosueenter</code>ç­‰ç­‰ï¼‰</li>
<li>äº‹ä»¶å¯¹è±¡<code>$event</code>: æ˜¯åŒ…å«äº‹ä»¶ç›¸å…³ä¿¡æ¯çš„å¯¹è±¡ï¼ˆ<code>pageX</code>ã€<code>pageY</code>ã€<code>target</code>ã€<code>keyCode</code>ï¼‰</li>
</ul>
</li>
<li>è‡ªå®šä¹‰äº‹ä»¶ï¼š
<ul>
<li>äº‹ä»¶åæ˜¯ä»»æ„åç§°</li>
<li><strong style="color:red">äº‹ä»¶å¯¹è±¡<code>$event</code>: æ˜¯è°ƒç”¨<code>emit</code>æ—¶æ‰€æä¾›çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ï¼ï¼</strong ></li>
</ul>
</li>
</ul>
<ol start="3">
<li>
<p>ç¤ºä¾‹ï¼š</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œç»™å­ç»„ä»¶ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼š--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">@send-toy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>toy = $event<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>

<span class="token comment">&lt;!--æ³¨æ„åŒºåˆ†åŸç”Ÿäº‹ä»¶ä¸è‡ªå®šä¹‰äº‹ä»¶ä¸­çš„$event--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>toy = $event<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æµ‹è¯•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//å­ç»„ä»¶ä¸­ï¼Œè§¦å‘äº‹ä»¶ï¼š</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'send-toy'</span><span class="token punctuation">,</span> å…·ä½“æ•°æ®<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="6-3-ã€mittã€‘"><a class="headerlink" href="#6-3-ã€mittã€‘"></a>6.3. ã€mittã€‘</h2>
<p>æ¦‚è¿°ï¼šä¸æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆ<code>pubsub</code>ï¼‰åŠŸèƒ½ç±»ä¼¼ï¼Œå¯ä»¥å®ç°ä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚</p>
<p>å®‰è£…<code>mitt</code></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> i mitt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>æ–°å»ºæ–‡ä»¶ï¼š<code>src\utils\emitter.ts</code></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å¼•å…¥mitt </span>
<span class="token keyword">import</span> mitt <span class="token keyword">from</span> <span class="token string">"mitt"</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»ºemitter</span>
<span class="token keyword">const</span> emitter <span class="token operator">=</span> <span class="token function">mitt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/*
  // ç»‘å®šäº‹ä»¶
  emitter.on('abc',(value)=>&#123;
    console.log('abcäº‹ä»¶è¢«è§¦å‘',value)
  &#125;)
  emitter.on('xyz',(value)=>&#123;
    console.log('xyzäº‹ä»¶è¢«è§¦å‘',value)
  &#125;)

  setInterval(() => &#123;
    // è§¦å‘äº‹ä»¶
    emitter.emit('abc',666)
    emitter.emit('xyz',777)
  &#125;, 1000);

  setTimeout(() => &#123;
    // æ¸…ç†äº‹ä»¶
    emitter.all.clear()
  &#125;, 3000); 
*/</span>

<span class="token comment">// åˆ›å»ºå¹¶æš´éœ²mitt</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> emitter<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¥æ”¶æ•°æ®çš„ç»„ä»¶ä¸­ï¼šç»‘å®šäº‹ä»¶ã€åŒæ—¶åœ¨é”€æ¯å‰è§£ç»‘äº‹ä»¶ï¼š</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> emitter <span class="token keyword">from</span> <span class="token string">"@/utils/emitter"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> onUnmounted <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>

<span class="token comment">// ç»‘å®šäº‹ä»¶</span>
emitter<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'send-toy'</span><span class="token punctuation">,</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'send-toyäº‹ä»¶è¢«è§¦å‘'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
  <span class="token comment">// è§£ç»‘äº‹ä»¶</span>
  emitter<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'send-toy'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ã€ç¬¬ä¸‰æ­¥ã€‘ï¼šæä¾›æ•°æ®çš„ç»„ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™è§¦å‘äº‹ä»¶</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> emitter <span class="token keyword">from</span> <span class="token string">"@/utils/emitter"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">sendToy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token comment">// è§¦å‘äº‹ä»¶</span>
  emitter<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'send-toy'</span><span class="token punctuation">,</span>toy<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>æ³¨æ„è¿™ä¸ªé‡è¦çš„å†…ç½®å…³ç³»ï¼Œæ€»çº¿ä¾èµ–ç€è¿™ä¸ªå†…ç½®å…³ç³»</strong></p>
<h2 id="6-4-ã€v-modelã€‘"><a class="headerlink" href="#6-4-ã€v-modelã€‘"></a>6.4.ã€v-modelã€‘</h2>
<ol>
<li>
<p>æ¦‚è¿°ï¼šå®ç° <strong>çˆ¶â†”å­</strong> ä¹‹é—´ç›¸äº’é€šä¿¡ã€‚</p>
</li>
<li>
<p>å‰åºçŸ¥è¯† â€”â€” <code>v-model</code>çš„æœ¬è´¨</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- ä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;
&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;userName&quot;&gt;

&lt;!-- v-modelçš„æœ¬è´¨æ˜¯ä¸‹é¢è¿™è¡Œä»£ç  --&gt;
&lt;input 
  type&#x3D;&quot;text&quot; 
  :value&#x3D;&quot;userName&quot; 
  @input&#x3D;&quot;userName &#x3D;(&lt;HTMLInputElement&gt;$event.target).value&quot;
&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>ç»„ä»¶æ ‡ç­¾ä¸Šçš„<code>v-model</code>çš„æœ¬è´¨ï¼š<code>:moldeValue</code> ï¼‹ <code>update:modelValue</code>äº‹ä»¶ã€‚</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;
&lt;AtguiguInput v-model&#x3D;&quot;userName&quot;&#x2F;&gt;

&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šv-modelçš„æœ¬è´¨ --&gt;
&lt;AtguiguInput :modelValue&#x3D;&quot;userName&quot; @update:model-value&#x3D;&quot;userName &#x3D; $event&quot;&#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>AtguiguInput</code>ç»„ä»¶ä¸­ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;box&quot;&gt;
    &lt;!--å°†æ¥æ”¶çš„valueå€¼èµ‹ç»™inputå…ƒç´ çš„valueå±æ€§ï¼Œç›®çš„æ˜¯ï¼šä¸ºäº†å‘ˆç°æ•°æ® --&gt;
		&lt;!--ç»™inputå…ƒç´ ç»‘å®šåŸç”Ÿinputäº‹ä»¶ï¼Œè§¦å‘inputäº‹ä»¶æ—¶ï¼Œè¿›è€Œè§¦å‘update:model-valueäº‹ä»¶--&gt;
    &lt;input 
       type&#x3D;&quot;text&quot; 
       :value&#x3D;&quot;modelValue&quot; 
       @input&#x3D;&quot;emit(&#39;update:model-value&#39;,$event.target.value)&quot;
    &gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;AtguiguInput&quot;&gt;
  &#x2F;&#x2F; æ¥æ”¶props
  defineProps([&#39;modelValue&#39;])
  &#x2F;&#x2F; å£°æ˜äº‹ä»¶
  const emit &#x3D; defineEmits([&#39;update:model-value&#39;])
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>ä¹Ÿå¯ä»¥æ›´æ¢<code>value</code>ï¼Œä¾‹å¦‚æ”¹æˆ<code>abc</code></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!-- ä¹Ÿå¯ä»¥æ›´æ¢valueï¼Œä¾‹å¦‚æ”¹æˆabc--&gt;
&lt;AtguiguInput v-model:abc&#x3D;&quot;userName&quot;&#x2F;&gt;

&lt;!-- ä¸Šé¢ä»£ç çš„æœ¬è´¨å¦‚ä¸‹ --&gt;
&lt;AtguiguInput :abc&#x3D;&quot;userName&quot; @update:abc&#x3D;&quot;userName &#x3D; $event&quot;&#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>AtguiguInput</code>ç»„ä»¶ä¸­ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;box&quot;&gt;
    &lt;input 
       type&#x3D;&quot;text&quot; 
       :value&#x3D;&quot;abc&quot; 
       @input&#x3D;&quot;emit(&#39;update:abc&#39;,$event.target.value)&quot;
    &gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;AtguiguInput&quot;&gt;
  &#x2F;&#x2F; æ¥æ”¶props
  defineProps([&#39;abc&#39;])
  &#x2F;&#x2F; å£°æ˜äº‹ä»¶
  const emit &#x3D; defineEmits([&#39;update:abc&#39;])
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>å¦‚æœ<code>value</code>å¯ä»¥æ›´æ¢ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šå¤šæ¬¡ä½¿ç”¨<code>v-model</code></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;AtguiguInput v-model:abc&#x3D;&quot;userName&quot; v-model:xyz&#x3D;&quot;password&quot;&#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ol>
<h2 id="6-5-ã€-attrs-ã€‘"><a class="headerlink" href="#6-5-ã€-attrs-ã€‘"></a>6.5.ã€$attrs ã€‘</h2>
<ol>
<li>
<p>æ¦‚è¿°ï¼š<code>$attrs</code>ç”¨äºå®ç°<strong>å½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶</strong>ï¼Œå‘<strong>å½“å‰ç»„ä»¶çš„å­ç»„ä»¶</strong>é€šä¿¡ï¼ˆ<strong>ç¥–â†’å­™</strong>ï¼‰ã€‚</p>
</li>
<li>
<p>å…·ä½“è¯´æ˜ï¼š<code>$attrs</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰çˆ¶ç»„ä»¶ä¼ å…¥çš„æ ‡ç­¾å±æ€§ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š<code>$attrs</code>ä¼šè‡ªåŠ¨æ’é™¤<code>props</code>ä¸­å£°æ˜çš„å±æ€§(å¯ä»¥è®¤ä¸ºå£°æ˜è¿‡çš„ <code>props</code> è¢«å­ç»„ä»¶è‡ªå·±â€œæ¶ˆè´¹â€äº†)</p>
</blockquote>
</li>
</ol>
<p>çˆ¶ç»„ä»¶ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;father&quot;&gt;
    &lt;h3&gt;çˆ¶ç»„ä»¶&lt;&#x2F;h3&gt;
		&lt;Child :a&#x3D;&quot;a&quot; :b&#x3D;&quot;b&quot; :c&#x3D;&quot;c&quot; :d&#x3D;&quot;d&quot; v-bind&#x3D;&quot;&#123;x:100,y:200&#125;&quot; :updateA&#x3D;&quot;updateA&quot;&#x2F;&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;Father&quot;&gt;
	import Child from &#39;.&#x2F;Child.vue&#39;
	import &#123; ref &#125; from &quot;vue&quot;;
	let a &#x3D; ref(1)
	let b &#x3D; ref(2)
	let c &#x3D; ref(3)
	let d &#x3D; ref(4)

	function updateA(value)&#123;
		a.value &#x3D; value
	&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å­ç»„ä»¶ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;div class&#x3D;&quot;child&quot;&gt;
		&lt;h3&gt;å­ç»„ä»¶&lt;&#x2F;h3&gt;
		&lt;GrandChild v-bind&#x3D;&quot;$attrs&quot;&#x2F;&gt;
	&lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;Child&quot;&gt;
	import GrandChild from &#39;.&#x2F;GrandChild.vue&#39;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å­™ç»„ä»¶ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;div class&#x3D;&quot;grand-child&quot;&gt;
		&lt;h3&gt;å­™ç»„ä»¶&lt;&#x2F;h3&gt;
		&lt;h4&gt;aï¼š&#123;&#123; a &#125;&#125;&lt;&#x2F;h4&gt;
		&lt;h4&gt;bï¼š&#123;&#123; b &#125;&#125;&lt;&#x2F;h4&gt;
		&lt;h4&gt;cï¼š&#123;&#123; c &#125;&#125;&lt;&#x2F;h4&gt;
		&lt;h4&gt;dï¼š&#123;&#123; d &#125;&#125;&lt;&#x2F;h4&gt;
		&lt;h4&gt;xï¼š&#123;&#123; x &#125;&#125;&lt;&#x2F;h4&gt;
		&lt;h4&gt;yï¼š&#123;&#123; y &#125;&#125;&lt;&#x2F;h4&gt;
		&lt;button @click&#x3D;&quot;updateA(666)&quot;&gt;ç‚¹æˆ‘æ›´æ–°A&lt;&#x2F;button&gt;
	&lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;GrandChild&quot;&gt;
	defineProps([&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;x&#39;,&#39;y&#39;,&#39;updateA&#39;])
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="6-6-ã€-refsã€-parentã€‘"><a class="headerlink" href="#6-6-ã€-refsã€-parentã€‘"></a>6.6. ã€$refsã€$parentã€‘</h2>
<ol>
<li>
<p>æ¦‚è¿°ï¼š</p>
<ul>
<li><code>$refs</code>ç”¨äº ï¼š<strong>çˆ¶â†’å­ã€‚</strong></li>
<li><code>$parent</code>ç”¨äºï¼š<strong>å­â†’çˆ¶ã€‚</strong></li>
</ul>
</li>
<li>
<p>åŸç†å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$refs</code></td>
<td>å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰è¢«<code>ref</code>å±æ€§æ ‡è¯†çš„<code>DOM</code>å…ƒç´ æˆ–ç»„ä»¶å®ä¾‹ã€‚</td>
</tr>
<tr>
<td><code>$parent</code></td>
<td>å€¼ä¸ºå¯¹è±¡ï¼Œå½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h2 id="6-7-ã€provideã€injectã€‘"><a class="headerlink" href="#6-7-ã€provideã€injectã€‘"></a>6.7. ã€provideã€injectã€‘</h2>
<ol>
<li>
<p>æ¦‚è¿°ï¼šå®ç°<strong>ç¥–å­™ç»„ä»¶</strong>ç›´æ¥é€šä¿¡</p>
</li>
<li>
<p>å…·ä½“ä½¿ç”¨ï¼š</p>
<ul>
<li>åœ¨ç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡<code>provide</code>é…ç½®å‘åä»£ç»„ä»¶æä¾›æ•°æ®</li>
<li>åœ¨åä»£ç»„ä»¶ä¸­é€šè¿‡<code>inject</code>é…ç½®æ¥å£°æ˜æ¥æ”¶æ•°æ®</li>
</ul>
</li>
<li>
<p>å…·ä½“ç¼–ç ï¼š</p>
<p>ã€ç¬¬ä¸€æ­¥ã€‘çˆ¶ç»„ä»¶ä¸­ï¼Œä½¿ç”¨<code>provide</code>æä¾›æ•°æ®</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;father&quot;&gt;
    &lt;h3&gt;çˆ¶ç»„ä»¶&lt;&#x2F;h3&gt;
    &lt;h4&gt;èµ„äº§ï¼š&#123;&#123; money &#125;&#125;&lt;&#x2F;h4&gt;
    &lt;h4&gt;æ±½è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;&#x2F;h4&gt;
    &lt;button @click&#x3D;&quot;money +&#x3D; 1&quot;&gt;èµ„äº§+1&lt;&#x2F;button&gt;
    &lt;button @click&#x3D;&quot;car.price +&#x3D; 1&quot;&gt;æ±½è½¦ä»·æ ¼+1&lt;&#x2F;button&gt;
    &lt;Child&#x2F;&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;Father&quot;&gt;
  import Child from &#39;.&#x2F;Child.vue&#39;
  import &#123; ref,reactive,provide &#125; from &quot;vue&quot;;
  &#x2F;&#x2F; æ•°æ®
  let money &#x3D; ref(100)
  let car &#x3D; reactive(&#123;
    brand:&#39;å¥”é©°&#39;,
    price:100
  &#125;)
  &#x2F;&#x2F; ç”¨äºæ›´æ–°moneyçš„æ–¹æ³•
  function updateMoney(value:number)&#123;
    money.value +&#x3D; value
  &#125;
  &#x2F;&#x2F; æä¾›æ•°æ®
  provide(&#39;moneyContext&#39;,&#123;money,updateMoney&#125;)
  provide(&#39;car&#39;,car)
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>æ³¨æ„ï¼šå­ç»„ä»¶ä¸­ä¸ç”¨ç¼–å†™ä»»ä½•ä¸œè¥¿ï¼Œæ˜¯ä¸å—åˆ°ä»»ä½•æ‰“æ‰°çš„</p>
</blockquote>
<p>ã€ç¬¬äºŒæ­¥ã€‘å­™ç»„ä»¶ä¸­ä½¿ç”¨<code>inject</code>é…ç½®é¡¹æ¥å—æ•°æ®ã€‚</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div class&#x3D;&quot;grand-child&quot;&gt;
    &lt;h3&gt;æˆ‘æ˜¯å­™ç»„ä»¶&lt;&#x2F;h3&gt;
    &lt;h4&gt;èµ„äº§ï¼š&#123;&#123; money &#125;&#125;&lt;&#x2F;h4&gt;
    &lt;h4&gt;æ±½è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;&#x2F;h4&gt;
    &lt;button @click&#x3D;&quot;updateMoney(6)&quot;&gt;ç‚¹æˆ‘&lt;&#x2F;button&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;GrandChild&quot;&gt;
  import &#123; inject &#125; from &#39;vue&#39;;
  &#x2F;&#x2F; æ³¨å…¥æ•°æ®
 let &#123;money,updateMoney&#125; &#x3D; inject(&#39;moneyContext&#39;,&#123;money:0,updateMoney:(x:number)&#x3D;&gt;&#123;&#125;&#125;)
  let car &#x3D; inject(&#39;car&#39;)
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="6-8-ã€piniaã€‘"><a class="headerlink" href="#6-8-ã€piniaã€‘"></a>6.8. ã€piniaã€‘</h2>
<p>å‚è€ƒä¹‹å‰<code>pinia</code>éƒ¨åˆ†çš„è®²è§£</p>
<h2 id="6-9-ã€slotã€‘"><a class="headerlink" href="#6-9-ã€slotã€‘"></a>6.9. ã€slotã€‘</h2>
<h3 id="1-é»˜è®¤æ’æ§½"><a class="headerlink" href="#1-é»˜è®¤æ’æ§½"></a>1. é»˜è®¤æ’æ§½</h3>
<p><img src="https://alist.aixcc.top/d/OneDrive/img/202407151232099.webp" alt="img" loading="lazy"></p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">çˆ¶ç»„ä»¶ä¸­ï¼š
        &lt;Category title&#x3D;&quot;ä»Šæ—¥çƒ­é—¨æ¸¸æˆ&quot;&gt;
          &lt;ul&gt;
            &lt;li v-for&#x3D;&quot;g in games&quot; :key&#x3D;&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;&#x2F;li&gt;
          &lt;&#x2F;ul&gt;
        &lt;&#x2F;Category&gt;
å­ç»„ä»¶ä¸­ï¼š
        &lt;template&gt;
          &lt;div class&#x3D;&quot;item&quot;&gt;
            &lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;&#x2F;h3&gt;
            &lt;!-- é»˜è®¤æ’æ§½ --&gt;
            &lt;slot&gt;&lt;&#x2F;slot&gt;
          &lt;&#x2F;div&gt;
        &lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-å…·åæ’æ§½"><a class="headerlink" href="#2-å…·åæ’æ§½"></a>2. å…·åæ’æ§½</h3>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">çˆ¶ç»„ä»¶ä¸­ï¼š
        &lt;Category title&#x3D;&quot;ä»Šæ—¥çƒ­é—¨æ¸¸æˆ&quot;&gt;
          &lt;template v-slot:s1&gt;
            &lt;ul&gt;
              &lt;li v-for&#x3D;&quot;g in games&quot; :key&#x3D;&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;&#x2F;li&gt;
            &lt;&#x2F;ul&gt;
          &lt;&#x2F;template&gt;
          &lt;template #s2&gt;
            &lt;a href&#x3D;&quot;&quot;&gt;æ›´å¤š&lt;&#x2F;a&gt;
          &lt;&#x2F;template&gt;
        &lt;&#x2F;Category&gt;
å­ç»„ä»¶ä¸­ï¼š
        &lt;template&gt;
          &lt;div class&#x3D;&quot;item&quot;&gt;
            &lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;&#x2F;h3&gt;
            &lt;slot name&#x3D;&quot;s1&quot;&gt;&lt;&#x2F;slot&gt;
            &lt;slot name&#x3D;&quot;s2&quot;&gt;&lt;&#x2F;slot&gt;
          &lt;&#x2F;div&gt;
        &lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="3-ä½œç”¨åŸŸæ’æ§½"><a class="headerlink" href="#3-ä½œç”¨åŸŸæ’æ§½"></a>3. ä½œç”¨åŸŸæ’æ§½</h3>
<ol>
<li>
<p>ç†è§£ï¼š<span style="color:red">æ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚</span>ï¼ˆæ–°é—»æ•°æ®åœ¨<code>News</code>ç»„ä»¶ä¸­ï¼Œä½†ä½¿ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”±<code>App</code>ç»„ä»¶å†³å®šï¼‰</p>
</li>
<li>
<p>å…·ä½“ç¼–ç ï¼š</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">çˆ¶ç»„ä»¶ä¸­ï¼š
      &lt;Game v-slot&#x3D;&quot;params&quot;&gt;
      &lt;!-- &lt;Game v-slot:default&#x3D;&quot;params&quot;&gt; --&gt;
      &lt;!-- &lt;Game #default&#x3D;&quot;params&quot;&gt; --&gt;
        &lt;ul&gt;
          &lt;li v-for&#x3D;&quot;g in params.games&quot; :key&#x3D;&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;&#x2F;li&gt;
        &lt;&#x2F;ul&gt;
      &lt;&#x2F;Game&gt;

å­ç»„ä»¶ä¸­ï¼š
      &lt;template&gt;
        &lt;div class&#x3D;&quot;category&quot;&gt;
          &lt;h2&gt;ä»Šæ—¥æ¸¸æˆæ¦œå•&lt;&#x2F;h2&gt;
          &lt;slot :games&#x3D;&quot;games&quot; a&#x3D;&quot;å“ˆå“ˆ&quot;&gt;&lt;&#x2F;slot&gt;
        &lt;&#x2F;div&gt;
      &lt;&#x2F;template&gt;

      &lt;script setup lang&#x3D;&quot;ts&quot; name&#x3D;&quot;Category&quot;&gt;
        import &#123;reactive&#125; from &#39;vue&#39;
        let games &#x3D; reactive([
          &#123;id:&#39;asgdytsa01&#39;,name:&#39;è‹±é›„è”ç›Ÿ&#39;&#125;,
          &#123;id:&#39;asgdytsa02&#39;,name:&#39;ç‹è€…è£è€€&#39;&#125;,
          &#123;id:&#39;asgdytsa03&#39;,name:&#39;çº¢è‰²è­¦æˆ’&#39;&#125;,
          &#123;id:&#39;asgdytsa04&#39;,name:&#39;æ–—ç½—å¤§é™†&#39;&#125;
        ])
      &lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h1 id="7-å…¶å®ƒ-API"><a class="headerlink" href="#7-å…¶å®ƒ-API"></a>7. å…¶å®ƒ API</h1>
<h2 id="7-1-ã€shallowRef-ä¸-shallowReactive-ã€‘"><a class="headerlink" href="#7-1-ã€shallowRef-ä¸-shallowReactive-ã€‘"></a>7.1.ã€shallowRef ä¸ shallowReactive ã€‘</h2>
<h3 id="shallowRef"><a class="headerlink" href="#shallowRef"></a><code>shallowRef</code></h3>
<ol>
<li>
<p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œä½†åªå¯¹é¡¶å±‚å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ã€‚</p>
</li>
<li>
<p>ç”¨æ³•ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> myVar <span class="token operator">=</span> <span class="token function">shallowRef</span><span class="token punctuation">(</span>initialValue<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>ç‰¹ç‚¹ï¼šåªè·Ÿè¸ªå¼•ç”¨å€¼çš„å˜åŒ–ï¼Œä¸å…³å¿ƒå€¼å†…éƒ¨çš„å±æ€§å˜åŒ–ã€‚</p>
</li>
</ol>
<h3 id="shallowReactive"><a class="headerlink" href="#shallowReactive"></a><code>shallowReactive</code></h3>
<ol>
<li>
<p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªæµ…å±‚å“åº”å¼å¯¹è±¡ï¼Œåªä¼šä½¿å¯¹è±¡çš„æœ€é¡¶å±‚å±æ€§å˜æˆå“åº”å¼çš„ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§åˆ™ä¸ä¼šå˜æˆå“åº”å¼çš„</p>
</li>
<li>
<p>ç”¨æ³•ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> myObj <span class="token operator">=</span> <span class="token function">shallowReactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>ç‰¹ç‚¹ï¼šå¯¹è±¡çš„é¡¶å±‚å±æ€§æ˜¯å“åº”å¼çš„ï¼Œä½†åµŒå¥—å¯¹è±¡çš„å±æ€§ä¸æ˜¯ã€‚</p>
</li>
</ol>
<h3 id="æ€»ç»“"><a class="headerlink" href="#æ€»ç»“"></a>æ€»ç»“</h3>
<blockquote>
<p>é€šè¿‡ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://cn.vuejs.org/api/reactivity-advanced.html#shallowref"><code>shallowRef()</code></a> å’Œ <a target="_blank" rel="noopener" href="https://cn.vuejs.org/api/reactivity-advanced.html#shallowreactive"><code>shallowReactive()</code></a> æ¥ç»•å¼€æ·±åº¦å“åº”ã€‚æµ…å±‚å¼ <code>API</code> åˆ›å»ºçš„çŠ¶æ€åªåœ¨å…¶é¡¶å±‚æ˜¯å“åº”å¼çš„ï¼Œå¯¹æ‰€æœ‰æ·±å±‚çš„å¯¹è±¡ä¸ä¼šåšä»»ä½•å¤„ç†ï¼Œé¿å…äº†å¯¹æ¯ä¸€ä¸ªå†…éƒ¨å±æ€§åšå“åº”å¼æ‰€å¸¦æ¥çš„æ€§èƒ½æˆæœ¬ï¼Œè¿™ä½¿å¾—å±æ€§çš„è®¿é—®å˜å¾—æ›´å¿«ï¼Œå¯æå‡æ€§èƒ½ã€‚</p>
</blockquote>
<h2 id="7-2-ã€readonly-ä¸-shallowReadonlyã€‘"><a class="headerlink" href="#7-2-ã€readonly-ä¸-shallowReadonlyã€‘"></a>7.2.ã€readonly ä¸ shallowReadonlyã€‘</h2>
<h3 id="readonly"><a class="headerlink" href="#readonly"></a><strong><code>readonly</code></strong></h3>
<ol>
<li>
<p>ä½œç”¨ï¼šç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ·±åªè¯»å‰¯æœ¬ã€‚</p>
</li>
<li>
<p>ç”¨æ³•ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> original <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> readOnlyCopy <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å¯¹è±¡çš„æ‰€æœ‰åµŒå¥—å±æ€§éƒ½å°†å˜ä¸ºåªè¯»ã€‚</li>
<li>ä»»ä½•å°è¯•ä¿®æ”¹è¿™ä¸ªå¯¹è±¡çš„æ“ä½œéƒ½ä¼šè¢«é˜»æ­¢ï¼ˆåœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œè¿˜ä¼šåœ¨æ§åˆ¶å°ä¸­å‘å‡ºè­¦å‘Šï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>åˆ›å»ºä¸å¯å˜çš„çŠ¶æ€å¿«ç…§ã€‚</li>
<li>ä¿æŠ¤å…¨å±€çŠ¶æ€æˆ–é…ç½®ä¸è¢«ä¿®æ”¹ã€‚</li>
</ul>
</li>
</ol>
<h3 id="shallowReadonly"><a class="headerlink" href="#shallowReadonly"></a><strong><code>shallowReadonly</code></strong></h3>
<ol>
<li>
<p>ä½œç”¨ï¼šä¸ <code>readonly</code> ç±»ä¼¼ï¼Œä½†åªä½œç”¨äºå¯¹è±¡çš„é¡¶å±‚å±æ€§ã€‚</p>
</li>
<li>
<p>ç”¨æ³•ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> original <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> shallowReadOnlyCopy <span class="token operator">=</span> <span class="token function">shallowReadonly</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>
<p>åªå°†å¯¹è±¡çš„é¡¶å±‚å±æ€§è®¾ç½®ä¸ºåªè¯»ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§ä»ç„¶æ˜¯å¯å˜çš„ã€‚</p>
</li>
<li>
<p>é€‚ç”¨äºåªéœ€ä¿æŠ¤å¯¹è±¡é¡¶å±‚å±æ€§çš„åœºæ™¯ã€‚</p>
</li>
</ul>
</li>
</ol>
<h2 id="7-3-ã€toRaw-ä¸-markRawã€‘"><a class="headerlink" href="#7-3-ã€toRaw-ä¸-markRawã€‘"></a>7.3.ã€toRaw ä¸ markRawã€‘</h2>
<h3 id="toRaw"><a class="headerlink" href="#toRaw"></a><code>toRaw</code></h3>
<ol>
<li>
<p>ä½œç”¨ï¼šç”¨äºè·å–ä¸€ä¸ªå“åº”å¼å¯¹è±¡çš„åŸå§‹å¯¹è±¡ï¼Œ <code>toRaw</code> è¿”å›çš„å¯¹è±¡ä¸å†æ˜¯å“åº”å¼çš„ï¼Œä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚</p>
<blockquote>
<p>å®˜ç½‘æè¿°ï¼šè¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨äºä¸´æ—¶è¯»å–è€Œä¸å¼•èµ·ä»£ç†è®¿é—®/è·Ÿè¸ªå¼€é”€ï¼Œæˆ–æ˜¯å†™å…¥è€Œä¸è§¦å‘æ›´æ”¹çš„ç‰¹æ®Šæ–¹æ³•ã€‚ä¸å»ºè®®ä¿å­˜å¯¹åŸå§‹å¯¹è±¡çš„æŒä¹…å¼•ç”¨ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚</p>
</blockquote>
<blockquote>
<p>ä½•æ—¶ä½¿ç”¨ï¼Ÿ â€”â€” åœ¨éœ€è¦å°†å“åº”å¼å¯¹è±¡ä¼ é€’ç»™é <code>Vue</code> çš„åº“æˆ–å¤–éƒ¨ç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨ <code>toRaw</code> å¯ä»¥ç¡®ä¿å®ƒä»¬æ”¶åˆ°çš„æ˜¯æ™®é€šå¯¹è±¡</p>
</blockquote>
</li>
<li>
<p>å…·ä½“ç¼–ç ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> reactive<span class="token punctuation">,</span>toRaw<span class="token punctuation">,</span>markRaw<span class="token punctuation">,</span>isReactive <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>

<span class="token comment">/* toRaw */</span>
<span class="token comment">// å“åº”å¼å¯¹è±¡</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'tony'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token comment">// åŸå§‹å¯¹è±¡</span>
<span class="token keyword">let</span> rawPerson <span class="token operator">=</span> <span class="token function">toRaw</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>


<span class="token comment">/* markRaw */</span>
<span class="token keyword">let</span> citysd <span class="token operator">=</span> <span class="token function">markRaw</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'asdda01'</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'åŒ—äº¬'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'asdda02'</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'ä¸Šæµ·'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'asdda03'</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'å¤©æ´¥'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'asdda04'</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'é‡åº†'</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// æ ¹æ®åŸå§‹å¯¹è±¡cityså»åˆ›å»ºå“åº”å¼å¯¹è±¡citys2 â€”â€” åˆ›å»ºå¤±è´¥ï¼Œå› ä¸ºcitysè¢«markRawæ ‡è®°äº†</span>
<span class="token keyword">let</span> citys2 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span>citys<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReactive</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReactive</span><span class="token punctuation">(</span>rawPerson<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReactive</span><span class="token punctuation">(</span>citys<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isReactive</span><span class="token punctuation">(</span>citys2<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h3 id="markRaw"><a class="headerlink" href="#markRaw"></a><code>markRaw</code></h3>
<ol>
<li>
<p>ä½œç”¨ï¼šæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶<strong>æ°¸è¿œä¸ä¼š</strong>å˜æˆå“åº”å¼çš„ã€‚</p>
<blockquote>
<p>ä¾‹å¦‚ä½¿ç”¨<code>mockjs</code>æ—¶ï¼Œä¸ºäº†é˜²æ­¢è¯¯æŠŠ<code>mockjs</code>å˜ä¸ºå“åº”å¼å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ <code>markRaw</code> å»æ ‡è®°<code>mockjs</code></p>
</blockquote>
</li>
<li>
<p>ç¼–ç ï¼š</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/* markRaw */</span>
<span class="token keyword">let</span> citys <span class="token operator">=</span> <span class="token function">markRaw</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'asdda01'</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'åŒ—äº¬'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'asdda02'</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'ä¸Šæµ·'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'asdda03'</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'å¤©æ´¥'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'asdda04'</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'é‡åº†'</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// æ ¹æ®åŸå§‹å¯¹è±¡cityså»åˆ›å»ºå“åº”å¼å¯¹è±¡citys2 â€”â€” åˆ›å»ºå¤±è´¥ï¼Œå› ä¸ºcitysè¢«markRawæ ‡è®°äº†</span>
<span class="token keyword">let</span> citys2 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span>citys<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h2 id="7-4-ã€customRefã€‘"><a class="headerlink" href="#7-4-ã€customRefã€‘"></a>7.4.ã€customRefã€‘</h2>
<p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„<code>ref</code>ï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œé€»è¾‘æ§åˆ¶ã€‚</p>
<p>å®ç°é˜²æŠ–æ•ˆæœï¼ˆ<code>useSumRef.ts</code>ï¼‰ï¼š</p>
<pre class="line-numbers language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>customRef <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span>initValue<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>delay<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token function">customRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span>track<span class="token punctuation">,</span>trigger<span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> timer<span class="token operator">:</span><span class="token builtin">number</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token function">track</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å‘Šè¯‰Vueæ•°æ®msgå¾ˆé‡è¦ï¼Œè¦å¯¹msgæŒç»­å…³æ³¨ï¼Œä¸€æ—¦å˜åŒ–å°±æ›´æ–°</span>
        <span class="token keyword">return</span> initValue
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          initValue <span class="token operator">=</span> value
          <span class="token function">trigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//é€šçŸ¥Vueæ•°æ®msgå˜åŒ–äº†</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> 
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>msg<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</p>
<h1 id="8-Vue3æ–°ç»„ä»¶"><a class="headerlink" href="#8-Vue3æ–°ç»„ä»¶"></a>8. Vue3æ–°ç»„ä»¶</h1>
<h2 id="8-1-ã€Teleportã€‘"><a class="headerlink" href="#8-1-ã€Teleportã€‘"></a>8.1. ã€Teleportã€‘</h2>
<ul>
<li>ä»€ä¹ˆæ˜¯Teleportï¼Ÿâ€”â€” Teleport æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„<strong>ç»„ä»¶htmlç»“æ„</strong>ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®çš„æŠ€æœ¯ã€‚</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>body<span class="token punctuation">'</span></span> <span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>æˆ‘æ˜¯å¼¹çª—ä¸­çš„ä¸€äº›å†…å®¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow = false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å…³é—­å¼¹çª—<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>teleport</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="8-2-ã€Suspenseã€‘"><a class="headerlink" href="#8-2-ã€Suspenseã€‘"></a>8.2. ã€Suspenseã€‘</h2>
<ul>
<li>ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›é¢å¤–å†…å®¹ï¼Œè®©åº”ç”¨æœ‰æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</li>
<li>ä½¿ç”¨æ­¥éª¤ï¼š
<ul>
<li>å¼‚æ­¥å¼•å…¥ç»„ä»¶</li>
<li>ä½¿ç”¨<code>Suspense</code>åŒ…è£¹ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½<code>default</code> ä¸ <code>fallback</code></li>
</ul>
</li>
</ul>
<pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> defineAsyncComponent<span class="token punctuation">,</span>Suspense <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Child <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./Child.vue'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
    &lt;div class&#x3D;&quot;app&quot;&gt;
        &lt;h3&gt;æˆ‘æ˜¯Appç»„ä»¶&lt;&#x2F;h3&gt;
        &lt;Suspense&gt;
          &lt;template v-slot:default&gt;
            &lt;Child&#x2F;&gt;
          &lt;&#x2F;template&gt;
          &lt;template v-slot:fallback&gt;
            &lt;h3&gt;åŠ è½½ä¸­.......&lt;&#x2F;h3&gt;
          &lt;&#x2F;template&gt;
        &lt;&#x2F;Suspense&gt;
    &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="8-3-ã€å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ã€‘"><a class="headerlink" href="#8-3-ã€å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ã€‘"></a>8.3.ã€å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ã€‘</h2>
<ul>
<li><code>app.component</code></li>
<li><code>app.config</code></li>
<li><code>app.directive</code></li>
<li><code>app.mount</code></li>
<li><code>app.unmount</code></li>
<li><code>app.use</code></li>
</ul>
<h2 id="8-4-ã€å…¶ä»–ã€‘"><a class="headerlink" href="#8-4-ã€å…¶ä»–ã€‘"></a>8.4.ã€å…¶ä»–ã€‘</h2>
<ul>
<li>
<p>è¿‡æ¸¡ç±»å <code>v-enter</code> ä¿®æ”¹ä¸º <code>v-enter-from</code>ã€è¿‡æ¸¡ç±»å <code>v-leave</code> ä¿®æ”¹ä¸º <code>v-leave-from</code>ã€‚</p>
</li>
<li>
<p><code>keyCode</code> ä½œä¸º <code>v-on</code> ä¿®é¥°ç¬¦çš„æ”¯æŒã€‚</p>
</li>
<li>
<p><code>v-model</code> æŒ‡ä»¤åœ¨ç»„ä»¶ä¸Šçš„ä½¿ç”¨å·²ç»è¢«é‡æ–°è®¾è®¡ï¼Œæ›¿æ¢æ‰äº† <code>v-bind.syncã€‚</code></p>
</li>
<li>
<p><code>v-if</code> å’Œ <code>v-for</code> åœ¨åŒä¸€ä¸ªå…ƒç´ èº«ä¸Šä½¿ç”¨æ—¶çš„ä¼˜å…ˆçº§å‘ç”Ÿäº†å˜åŒ–ã€‚</p>
</li>
<li>
<p>ç§»é™¤äº†<code>$on</code>ã€<code>$off</code> å’Œ <code>$once</code> å®ä¾‹æ–¹æ³•ã€‚</p>
</li>
<li>
<p>ç§»é™¤äº†è¿‡æ»¤å™¨ <code>filter</code>ã€‚</p>
</li>
<li>
<p>ç§»é™¤äº†<code>$children</code> å®ä¾‹ <code>propert</code>ã€‚</p>
<p>â€¦</p>
</li>
</ul>
<hr>
<p><strong>æœ¬æ–‡å†…å®¹æ¥æºäºå°šç¡…è°·Vue.jsæ•™ç¨‹ï¼ŒåŸæ–‡åœ°å€ï¼š<a target="_blank" rel="noopener" href="http://www.atguigu.com/video/284/">å°šç¡…è°·Vueæ•™ç¨‹</a>ã€‚æ„Ÿè°¢å°šç¡…è°·æä¾›çš„ä¼˜ç§€æ–‡æ¡£èµ„æºã€‚</strong></p>
</article><div class="post-copyright"><div class="post-copyright__author_group"><a class="post-copyright__author_img" href="/about/"><img class="post-copyright__author_img_front" src="https://alist.aixcc.top/d/OneDrive/img/202407151119531.webp"></a><div class="post-copyright__author_name">é™†æ—¶å¿¤çš„åšå®¢</div><div class="post-copyright__author_desc"></div></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div id="quit-box" onclick="RemoveRewardMask()"></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">æœ¬æ–‡æ˜¯åŸåˆ›æ–‡ç« ï¼Œé‡‡ç”¨<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>åè®®ï¼Œå®Œæ•´è½¬è½½è¯·æ³¨æ˜æ¥è‡ª<a href="/">é™†æ—¶å¿¤çš„åšå®¢</a></span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/"><span class="tags-punctuation"></span>Vue<span class="tagsPageCount">1</span></a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/"><span class="tags-punctuation"></span>å‰ç«¯<span class="tagsPageCount">1</span></a></div></div></div><nav class="needEndHide pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/07/14/%E5%AE%89%E8%A3%85Homebrew/"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">å®‰è£…Homebrew</div></div></a></div><div class="next-post pull-right"><a href="/2024/07/02/%E5%AE%9A%E6%9C%9F%E6%B8%85%E7%90%86Alist%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6/"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">å®šæœŸæ¸…ç†Alistå¤‡ä»½æ–‡ä»¶</div></div></a></div></nav><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="solitude st-chat-fill"></i><span> è¯„è®º</span><span class="count"> (<span class="twikoo-count"><i class="solitude st-loading-line"></i></span>)</span></div></div><div class="comment-wrap"><div id="twikoo-wrap"></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><div class="author-info__top-group"><div class="author-info__sayhi" id="author-info__sayhi" onclick="sco.changeSayHelloText()">sayhello.morning</div></div></div><div class="avatar-img-group"><img class="avatar-img" alt="å¤´åƒ" src="https://alist.aixcc.top/d/OneDrive/img/202407151119531.webp"></div><div class="author-info__description_group"><div class="author-info__description">åˆ†äº«è‡ªå·±å¯¹ç¼–ç¨‹çš„<b>çƒ­çˆ±</b>ï¼Œå¯¹ç¾å¥½ç”Ÿæ´»çš„<b>å‘å¾€</b>ï¼Œå¯¹çŸ¥è¯†æµ·æ´‹<b>æ¢ç´¢å†ç¨‹</b>ã€‚</div><div class="author-info__description2">ç›¸ä¿¡ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å¯¹ä½ æœ‰ç”¨çš„çŸ¥è¯†å’Œæ•™ç¨‹ã€‚</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" target="_blank" rel="noopener" href="https://aixcc.top/"><div class="author-info__name">é™†æ—¶å¿¤</div><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon" target="_blank" rel="noopener" href="https://github.com/AixLau" title="Github"><i class="solitude  st-github-line"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="solitude st-menu-line"></i><span>æ–‡ç« ç›®å½•</span></div><div class="toc-content" id="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Vue3%E7%AE%80%E4%BB%8B"><span class="toc-text">1. Vue3ç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E3%80%90%E6%80%A7%E8%83%BD%E7%9A%84%E6%8F%90%E5%8D%87%E3%80%91"><span class="toc-text">1.1. ã€æ€§èƒ½çš„æå‡ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E3%80%90-%E6%BA%90%E7%A0%81%E7%9A%84%E5%8D%87%E7%BA%A7%E3%80%91"><span class="toc-text">1.2.ã€ æºç çš„å‡çº§ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E3%80%90%E6%8B%A5%E6%8A%B1TypeScript%E3%80%91"><span class="toc-text">1.3. ã€æ‹¥æŠ±TypeScriptã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-%E3%80%90%E6%96%B0%E7%9A%84%E7%89%B9%E6%80%A7%E3%80%91"><span class="toc-text">1.4. ã€æ–°çš„ç‰¹æ€§ã€‘</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BAVue3%E5%B7%A5%E7%A8%8B"><span class="toc-text">2. åˆ›å»ºVue3å·¥ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E3%80%90%E5%9F%BA%E4%BA%8E-vue-cli-%E5%88%9B%E5%BB%BA%E3%80%91"><span class="toc-text">2.1. ã€åŸºäº vue-cli åˆ›å»ºã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E3%80%90%E5%9F%BA%E4%BA%8E-vite-%E5%88%9B%E5%BB%BA%E3%80%91-%E6%8E%A8%E8%8D%90"><span class="toc-text">2.2. ã€åŸºäº vite åˆ›å»ºã€‘(æ¨è)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E3%80%90%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E6%95%88%E6%9E%9C%E3%80%91"><span class="toc-text">2.3. ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœã€‘</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-Vue3%E6%A0%B8%E5%BF%83%E8%AF%AD%E6%B3%95"><span class="toc-text">3. Vue3æ ¸å¿ƒè¯­æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E3%80%90OptionsAPI-%E4%B8%8E-CompositionAPI%E3%80%91"><span class="toc-text">3.1.  ã€OptionsAPI ä¸ CompositionAPIã€‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Options-API-%E7%9A%84%E5%BC%8A%E7%AB%AF"><span class="toc-text">Options API çš„å¼Šç«¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Composition-API-%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-text">Composition API çš„ä¼˜åŠ¿</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E3%80%90%E6%8B%89%E5%BC%80%E5%BA%8F%E5%B9%95%E7%9A%84-setup%E3%80%91"><span class="toc-text">3.2. ã€æ‹‰å¼€åºå¹•çš„ setupã€‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#setup-%E6%A6%82%E8%BF%B0"><span class="toc-text">setup æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setup-%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">setup çš„è¿”å›å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setup-%E4%B8%8E-Options-API-%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">setup ä¸ Options API çš„å…³ç³»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setup-%E8%AF%AD%E6%B3%95%E7%B3%96"><span class="toc-text">setup è¯­æ³•ç³–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E3%80%90ref-%E5%88%9B%E5%BB%BA%EF%BC%9A%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE%E3%80%91"><span class="toc-text">3.3. ã€ref åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E3%80%90reactive-%E5%88%9B%E5%BB%BA%EF%BC%9A%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE%E3%80%91"><span class="toc-text">3.4. ã€reactive åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-%E3%80%90ref-%E5%88%9B%E5%BB%BA%EF%BC%9A%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE%E3%80%91"><span class="toc-text">3.5. ã€ref åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-6-%E3%80%90ref-%E5%AF%B9%E6%AF%94-reactive%E3%80%91"><span class="toc-text">3.6. ã€ref å¯¹æ¯” reactiveã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-7-%E3%80%90toRefs-%E4%B8%8E-toRef%E3%80%91"><span class="toc-text">3.7. ã€toRefs ä¸ toRefã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-8-%E3%80%90computed%E3%80%91"><span class="toc-text">3.8. ã€computedã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-9-%E3%80%90watch%E3%80%91"><span class="toc-text">3.9.ã€watchã€‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%83%85%E5%86%B5%E4%B8%80"><span class="toc-text">* æƒ…å†µä¸€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%83%85%E5%86%B5%E4%BA%8C"><span class="toc-text">* æƒ…å†µäºŒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%83%85%E5%86%B5%E4%B8%89"><span class="toc-text">*  æƒ…å†µä¸‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%83%85%E5%86%B5%E5%9B%9B"><span class="toc-text">* æƒ…å†µå››</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%83%85%E5%86%B5%E4%BA%94"><span class="toc-text">* æƒ…å†µäº”</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-10-%E3%80%90watchEffect%E3%80%91"><span class="toc-text">3.10. ã€watchEffectã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-11-%E3%80%90%E6%A0%87%E7%AD%BE%E7%9A%84-ref-%E5%B1%9E%E6%80%A7%E3%80%91"><span class="toc-text">3.11. ã€æ ‡ç­¾çš„ ref å±æ€§ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-12-%E3%80%90props%E3%80%91"><span class="toc-text">3.12. ã€propsã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-13-%E3%80%90%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E3%80%91"><span class="toc-text">3.13. ã€ç”Ÿå‘½å‘¨æœŸã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-14-%E3%80%90%E8%87%AA%E5%AE%9A%E4%B9%89hook%E3%80%91"><span class="toc-text">3.14. ã€è‡ªå®šä¹‰hookã€‘</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E8%B7%AF%E7%94%B1"><span class="toc-text">4. è·¯ç”±</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E3%80%90%E5%AF%B9%E8%B7%AF%E7%94%B1%E7%9A%84%E7%90%86%E8%A7%A3%E3%80%91"><span class="toc-text">4.1. ã€å¯¹è·¯ç”±çš„ç†è§£ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E3%80%90%E5%9F%BA%E6%9C%AC%E5%88%87%E6%8D%A2%E6%95%88%E6%9E%9C%E3%80%91"><span class="toc-text">4.2. ã€åŸºæœ¬åˆ‡æ¢æ•ˆæœã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-%E3%80%90%E4%B8%A4%E4%B8%AA%E6%B3%A8%E6%84%8F%E7%82%B9%E3%80%91"><span class="toc-text">4.3. ã€ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-%E3%80%90%E8%B7%AF%E7%94%B1%E5%99%A8%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F%E3%80%91"><span class="toc-text">4.4.ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5-%E3%80%90to%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%86%99%E6%B3%95%E3%80%91"><span class="toc-text">4.5. ã€toçš„ä¸¤ç§å†™æ³•ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-6-%E3%80%90%E5%91%BD%E5%90%8D%E8%B7%AF%E7%94%B1%E3%80%91"><span class="toc-text">4.6. ã€å‘½åè·¯ç”±ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-7-%E3%80%90%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1%E3%80%91"><span class="toc-text">4.7. ã€åµŒå¥—è·¯ç”±ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-8-%E3%80%90%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%8F%82%E3%80%91"><span class="toc-text">4.8. ã€è·¯ç”±ä¼ å‚ã€‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#query%E5%8F%82%E6%95%B0"><span class="toc-text">queryå‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#params%E5%8F%82%E6%95%B0"><span class="toc-text">paramså‚æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-9-%E3%80%90%E8%B7%AF%E7%94%B1%E7%9A%84props%E9%85%8D%E7%BD%AE%E3%80%91"><span class="toc-text">4.9. ã€è·¯ç”±çš„propsé…ç½®ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-10-%E3%80%90-replace%E5%B1%9E%E6%80%A7%E3%80%91"><span class="toc-text">4.10. ã€ replaceå±æ€§ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-11-%E3%80%90%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA%E3%80%91"><span class="toc-text">4.11. ã€ç¼–ç¨‹å¼å¯¼èˆªã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-12-%E3%80%90%E9%87%8D%E5%AE%9A%E5%90%91%E3%80%91"><span class="toc-text">4.12. ã€é‡å®šå‘ã€‘</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-pinia"><span class="toc-text">5. pinia</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1%E3%80%90%E5%87%86%E5%A4%87%E4%B8%80%E4%B8%AA%E6%95%88%E6%9E%9C%E3%80%91"><span class="toc-text">5.1ã€å‡†å¤‡ä¸€ä¸ªæ•ˆæœã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2%E3%80%90%E6%90%AD%E5%BB%BA-pinia-%E7%8E%AF%E5%A2%83%E3%80%91"><span class="toc-text">5.2ã€æ­å»º pinia ç¯å¢ƒã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3%E3%80%90%E5%AD%98%E5%82%A8-%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%E3%80%91"><span class="toc-text">5.3ã€å­˜å‚¨+è¯»å–æ•°æ®ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-%E3%80%90%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E3%80%91-%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">5.4.ã€ä¿®æ”¹æ•°æ®ã€‘(ä¸‰ç§æ–¹å¼)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-%E3%80%90storeToRefs%E3%80%91"><span class="toc-text">5.5.ã€storeToRefsã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-6-%E3%80%90getters%E3%80%91"><span class="toc-text">5.6.ã€gettersã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-7-%E3%80%90-subscribe%E3%80%91"><span class="toc-text">5.7.ã€$subscribeã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-8-%E3%80%90store%E7%BB%84%E5%90%88%E5%BC%8F%E5%86%99%E6%B3%95%E3%80%91"><span class="toc-text">5.8. ã€storeç»„åˆå¼å†™æ³•ã€‘</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1"><span class="toc-text">6. ç»„ä»¶é€šä¿¡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E3%80%90props%E3%80%91"><span class="toc-text">6.1. ã€propsã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-%E3%80%90%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E3%80%91"><span class="toc-text">6.2. ã€è‡ªå®šä¹‰äº‹ä»¶ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-%E3%80%90mitt%E3%80%91"><span class="toc-text">6.3. ã€mittã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4-%E3%80%90v-model%E3%80%91"><span class="toc-text">6.4.ã€v-modelã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-5-%E3%80%90-attrs-%E3%80%91"><span class="toc-text">6.5.ã€$attrs ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-6-%E3%80%90-refs%E3%80%81-parent%E3%80%91"><span class="toc-text">6.6. ã€$refsã€$parentã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-7-%E3%80%90provide%E3%80%81inject%E3%80%91"><span class="toc-text">6.7. ã€provideã€injectã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-8-%E3%80%90pinia%E3%80%91"><span class="toc-text">6.8. ã€piniaã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-9-%E3%80%90slot%E3%80%91"><span class="toc-text">6.9. ã€slotã€‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD"><span class="toc-text">1. é»˜è®¤æ’æ§½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD"><span class="toc-text">2. å…·åæ’æ§½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD"><span class="toc-text">3. ä½œç”¨åŸŸæ’æ§½</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-%E5%85%B6%E5%AE%83-API"><span class="toc-text">7. å…¶å®ƒ API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-%E3%80%90shallowRef-%E4%B8%8E-shallowReactive-%E3%80%91"><span class="toc-text">7.1.ã€shallowRef ä¸ shallowReactive ã€‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#shallowRef"><span class="toc-text">shallowRef</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shallowReactive"><span class="toc-text">shallowReactive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-%E3%80%90readonly-%E4%B8%8E-shallowReadonly%E3%80%91"><span class="toc-text">7.2.ã€readonly ä¸ shallowReadonlyã€‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#readonly"><span class="toc-text">readonly</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shallowReadonly"><span class="toc-text">shallowReadonly</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3-%E3%80%90toRaw-%E4%B8%8E-markRaw%E3%80%91"><span class="toc-text">7.3.ã€toRaw ä¸ markRawã€‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#toRaw"><span class="toc-text">toRaw</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#markRaw"><span class="toc-text">markRaw</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-4-%E3%80%90customRef%E3%80%91"><span class="toc-text">7.4.ã€customRefã€‘</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-Vue3%E6%96%B0%E7%BB%84%E4%BB%B6"><span class="toc-text">8. Vue3æ–°ç»„ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1-%E3%80%90Teleport%E3%80%91"><span class="toc-text">8.1. ã€Teleportã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2-%E3%80%90Suspense%E3%80%91"><span class="toc-text">8.2. ã€Suspenseã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-3-%E3%80%90%E5%85%A8%E5%B1%80API%E8%BD%AC%E7%A7%BB%E5%88%B0%E5%BA%94%E7%94%A8%E5%AF%B9%E8%B1%A1%E3%80%91"><span class="toc-text">8.3.ã€å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ã€‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-4-%E3%80%90%E5%85%B6%E4%BB%96%E3%80%91"><span class="toc-text">8.4.ã€å…¶ä»–ã€‘</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="solitude st-map-line"></i><span>æœ€è¿‘å‘å¸ƒ</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/07/14/Mac%E5%AE%89%E8%A3%85Maven/" title="Macå®‰è£…Maven"><img alt="Macå®‰è£…Maven" src="https://alist.aixcc.top/d/OneDrive/img/202407151126918.webp"></a><div class="content"><a class="title" href="/2024/07/14/Mac%E5%AE%89%E8%A3%85Maven/" title="Macå®‰è£…Maven">Macå®‰è£…Maven</a><a class="article-recent_post_categories" href="/2024/07/14/Mac%E5%AE%89%E8%A3%85Maven/">Mac</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/14/Mac%E5%AE%89%E8%A3%85JDK/" title="Macå®‰è£…JDK"><img alt="Macå®‰è£…JDK" src="https://alist.aixcc.top/d/OneDrive/img/202407151124663.webp"></a><div class="content"><a class="title" href="/2024/07/14/Mac%E5%AE%89%E8%A3%85JDK/" title="Macå®‰è£…JDK">Macå®‰è£…JDK</a><a class="article-recent_post_categories" href="/2024/07/14/Mac%E5%AE%89%E8%A3%85JDK/">Mac</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/14/%E5%AE%89%E8%A3%85Homebrew/" title="å®‰è£…Homebrew"><img alt="å®‰è£…Homebrew" src="https://alist.aixcc.top/d/OneDrive/img/202407151129837.webp"></a><div class="content"><a class="title" href="/2024/07/14/%E5%AE%89%E8%A3%85Homebrew/" title="å®‰è£…Homebrew">å®‰è£…Homebrew</a><a class="article-recent_post_categories" href="/2024/07/14/%E5%AE%89%E8%A3%85Homebrew/">Mac</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/13/Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/" title="Vue3å¿«é€Ÿä¸Šæ‰‹"><img alt="Vue3å¿«é€Ÿä¸Šæ‰‹" src="https://alist.aixcc.top/d/OneDrive/img/202407151139287.webp"></a><div class="content"><a class="title" href="/2024/07/13/Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/" title="Vue3å¿«é€Ÿä¸Šæ‰‹">Vue3å¿«é€Ÿä¸Šæ‰‹</a><a class="article-recent_post_categories" href="/2024/07/13/Vue3%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/">å‰ç«¯</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/02/%E5%AE%9A%E6%9C%9F%E6%B8%85%E7%90%86Alist%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6/" title="å®šæœŸæ¸…ç†Alistå¤‡ä»½æ–‡ä»¶"><img alt="å®šæœŸæ¸…ç†Alistå¤‡ä»½æ–‡ä»¶" src="https://alist.aixcc.top/d/OneDrive/img/202407151141605.webp"></a><div class="content"><a class="title" href="/2024/07/02/%E5%AE%9A%E6%9C%9F%E6%B8%85%E7%90%86Alist%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6/" title="å®šæœŸæ¸…ç†Alistå¤‡ä»½æ–‡ä»¶">å®šæœŸæ¸…ç†Alistå¤‡ä»½æ–‡ä»¶</a><a class="article-recent_post_categories" href="/2024/07/02/%E5%AE%9A%E6%9C%9F%E6%B8%85%E7%90%86Alist%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6/">Linux</a></div></div></div></div></div></div></main><footer id="footer"><div id="footer_deal"></div><div id="st-footer"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div class="copyright">Â© 2024 By&nbsp;<a class="footer-bar-link" href="/">é™†æ—¶å¿¤</a></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/everfu/hexo-theme-solitude" alt="ä¸»é¢˜">ä¸»é¢˜</a><a class="footer-bar-link cc" href="/null" aria-label="copyright"><i class="solitude st-copyright-line"></i><i class="solitude st-creative-commons-by-line"></i><i class="solitude st-creative-commons-nc-line"></i><i class="solitude st-creative-commons-nd-line"></i></a></div></div></div></footer></div><!-- right_menu--><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="solitude st-arrow-left-line"></i></div><div class="rightMenu-item" id="menu-forward"><i class="solitude st-arrow-right-line"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="solitude st-restart-line"></i></div><div class="rightMenu-item" id="menu-top"><i class="solitude st-arrow-up-line"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="solitude st-copy-fill"></i><span>å¤åˆ¶é€‰ä¸­æ–‡æœ¬</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="solitude st-clipboard-fill"></i><span>ç²˜è´´æ–‡æœ¬</span></div><div class="rightMenu-item" id="menu-commenttext"><i class="solitude st-chat-new-fill"></i><span>å¼•ç”¨åˆ°è¯„è®º</span></div><div class="rightMenu-item" id="menu-newwindow"><i class="solitude st-window-fill"></i><span>æ–°çª—å£æ‰“å¼€</span></div><div class="rightMenu-item" id="menu-copylink"><i class="solitude st-link-line"></i><span>å¤åˆ¶é“¾æ¥åœ°å€</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="solitude st-copy-fill"></i><span>å¤åˆ¶æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="solitude st-download-cloud-fill"></i><span>ä¸‹è½½æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-search"><i class="solitude st-search-line"></i><span>ç«™å†…æœç´¢</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="solitude st-play-fill"></i><span>æ’­æ”¾éŸ³ä¹</span></div><div class="rightMenu-item" id="menu-music-back"><i class="solitude st-skip-back-fill"></i><span>åˆ‡æ¢åˆ°ä¸Šä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="solitude st-skip-forward-fill"></i><span>åˆ‡æ¢åˆ°ä¸‹ä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="solitude st-copy-fill"></i><span>å¤åˆ¶æ­Œå</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-copy-page-url" onclick="copyPageUrl()||rm.hideRightMenu()"><i class="solitude st-copy-fill"></i><span>å¤åˆ¶åœ°å€</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-darkmode" onclick="sco.switchDarkMode()"><i class="solitude st-moon-clear-fill"></i><span class="menu-darkmode-text">æ·±è‰²æ¨¡å¼</span></div></div></div><div id="rightmenu-mask"></div><!-- inject body--><div><script src="/js/utils.js?v=1.12.3"></script><script src="/js/main.js?v=1.12.3"></script><script src="/js/third_party/waterfall.min.js?v=1.12.3"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pjax/0.2.8/pjax.min.js"></script><script src="/js/third_party/universe.min.js?v=1.12.3"></script><script>dark()
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/node-snackbar/0.1.16/snackbar.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.36/fancybox/fancybox.umd.min.js"></script><script>var meting_api = 'https://meting.qjqq.cn/?server=:server&type=:type&id=:id&auth=:auth&r=:r';</script><script src="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/meting/2.0.1/Meting.min.js"></script><script>const coverColorConfig = {
    api: 'https://color.aixcc.top/api?img=',
    time: 43200000
}</script><script src="/js/covercolor/api.js?v=1.12.3"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js"></script><script src="/js/right_menu.js?v=1.12.3"></script><div class="js-pjax"><script>(() => {
    const getCount = () => {
        const ele = document.querySelectorAll('.twikoo-count')
        if (!ele) return
        twikoo.getCommentsCount({
            envId: 'https://aixlau-twikoo.hf.space/',
            region: '',
            urls: [window.location.pathname],
            includeReply: false
        }).then(res => {
            ele.forEach(item => item.textContent = res[0].count)
        }).catch(err => {
            console.error(err)
        })
    }
    const init = () => {
        twikoo.init(Object.assign({
            el: '#twikoo-wrap',
            envId: 'https://aixlau-twikoo.hf.space/',
            region: '',
            path: window.location.pathname,
            onCommentLoaded: () => {
                GLOBAL_CONFIG.lightbox && utils.lightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
            }
        }, null))

         && getCount()
        sco.owoBig({
            body: '.OwO-body',
            item: '.OwO-items li'
        })

        false && barrageTwikoo()
    }

    const loadTwikoo = () => {
        if (typeof twikoo === 'object') setTimeout(init,0)
        else utils.getScript('https://cdnjs.cloudflare.com/ajax/libs/twikoo/1.6.36/twikoo.all.min.js').then(init)
    }

    if ('Twikoo' === 'Twikoo' || false) {
        if (false) utils.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
        else loadTwikoo()
    } else {
        window.loadTwoComment = loadTwikoo
    }
})()
</script><script defer pjax src="https://pv.lemonso.com/js"></script></div></div><!-- pjax--><script>const pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: ['title','#body-wrap','#site-config','meta[name="description"]','.js-pjax','meta[property^="og:"]','#config-diff'],
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
})

document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
})

document.addEventListener('pjax:complete', () => {
    window.refreshFn()

    document.querySelectorAll('script[data-pjax]').forEach(item => {
        const newScript = document.createElement('script')
        const content = item.text || item.textContent || item.innerHTML || ""
        Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
        newScript.appendChild(document.createTextNode(content))
        item.parentNode.replaceChild(newScript, item)
    })

    GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

})

document.addEventListener('pjax:error', (e) => {
    if (e.request.status === 404) {
        pjax.loadUrl('/404.html')
    }
})</script><!-- theme--><script>initTheme = () => {
    let isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const cachedMode = utils.saveToLocal.get('theme');
    if (cachedMode === undefined) {
        const nowMode =
            isDarkMode ? 'dark' : 'light'
        document.documentElement.setAttribute('data-theme', nowMode);
    } else {
        document.documentElement.setAttribute('data-theme', cachedMode);
    }
    typeof rm === 'object' && rm.mode(cachedMode === 'dark' && isDarkMode)
}
initTheme()</script><!-- google adsense--><!-- search--><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><button class="search-close-button"><i class="solitude st-close-fill"></i></button></nav><div class="search-wrap"><div class="search-box"><input class="search-box-input" id="search-input" type="text" autocomplete="off" spellcheck="false" autocorrect="off" autocapitalize="off" placeholder="è¾“å…¥å…³é”®è¯å¿«é€ŸæŸ¥æ‰¾"></div><div id="search-results"><div id="search-hits"></div></div><div id="search-pagination"></div><div id="search-tips"></div></div></div><div id="search-mask"></div></div><script src="/js/search/local.js?v=1.12.3"></script><!-- Tianli-Talk--><!-- music--><div class="needEndHide" id="nav-music" onclick="sco.musicToggle()"><div id="nav-music-hoverTips">éŸ³ä¹å·²æš‚åœ</div><meting-js id="8407304077" server="netease" type="playlist" mutex="true" preload="none" data-lrctype="0" order="random" theme="var(--efu-main)"></meting-js></div></body></html><script>const posts=["2024/07/14/Macå®‰è£…Maven/","2024/07/14/Macå®‰è£…JDK/","2024/07/14/å®‰è£…Homebrew/","2024/07/13/Vue3å¿«é€Ÿä¸Šæ‰‹/","2024/07/02/å®šæœŸæ¸…ç†Alistå¤‡ä»½æ–‡ä»¶/","2024/06/27/é¡¹ç›®è®²è§£/","2024/06/26/RabbitMQå…«è‚¡æ–‡/","2024/06/26/Rediså…«è‚¡æ–‡/","2024/06/26/MyBatiså…«è‚¡æ–‡/","2024/06/26/è„šæœ¬/","2024/06/25/Linuxå®‰è£…MySQL/","2024/06/24/è‡ªåŠ¨ç»­ç­¾è¯ä¹¦/","2024/06/24/æœåŠ¡å™¨å®‰å…¨è®¾ç½®/","2024/06/24/Vaultwardenæ­å»º/","2024/06/22/Springå…«è‚¡æ–‡/","2024/06/22/Myqlå…«è‚¡æ–‡/","2024/06/22/Javaé›†åˆå…«è‚¡æ–‡/","2024/06/21/JavaåŸºç¡€å…«è‚¡æ–‡/","2024/06/18/ä½¿ç”¨AListå®šæ—¶å¤‡ä»½æœåŠ¡å™¨æ–‡ä»¶/","2024/06/16/Hexoå¤‡ä»½/","2024/06/16/å®‰è£…éƒ¨ç½²Hexo/"];function toRandomPost(){ pjax.loadUrl('/'+posts[Math.floor(Math.random()*posts.length)]); }</script>